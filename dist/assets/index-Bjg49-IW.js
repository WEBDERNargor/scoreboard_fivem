var HS=Object.defineProperty;var WS=(e,t,r)=>t in e?HS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var G0=(e,t,r)=>(WS(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(e,t){const r=new Set(e.split(","));return t?o=>r.has(o.toLowerCase()):o=>r.has(o)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],a=isString(o)?parseStringStyle(o):normalizeStyle(o);if(a)for(const n in a)t[n]=a[n]}return t}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const o=r.split(propertyDelimiterRE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let r=0;r<e.length;r++){const o=normalizeClass(e[r]);o&&(t+=o+" ")}else if(isObject(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[o,a],n)=>(r[stringifySymbol(o,n)+" =>"]=a,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>stringifySymbol(r))}:isSymbol(t)?stringifySymbol(t):isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,stringifySymbol=(e,t="")=>{var r;return isSymbol(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}let activeEffect;class ReactiveEffect{constructor(t,r,o,a){this.fn=t,this.trigger=r,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(triggerComputed(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=shouldTrack,r=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=r,shouldTrack=t}}stop(){var t;this.active&&(preCleanupEffect(this),postCleanupEffect(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function triggerComputed(e){return e.value}function preCleanupEffect(e){e._trackId++,e._depsLength=0}function postCleanupEffect(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cleanupDepEffect(e.deps[t],e);e.deps.length=e._depsLength}}function cleanupDepEffect(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&cleanupDepEffect(o,e),e.deps[e._depsLength++]=t):e._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(e,t,r){pauseScheduling();for(const o of e.keys()){let a;o._dirtyLevel<t&&(a??(a=e.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=t),o._shouldSchedule&&(a??(a=e.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&queueEffectSchedulers.push(o.scheduler)))}resetScheduling()}const createDep=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(e,t,r){if(shouldTrack&&activeEffect){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let a=o.get(r);a||o.set(r,a=createDep(()=>o.delete(r))),trackEffect(activeEffect,a)}}function trigger(e,t,r,o,a,n){const s=targetMap.get(e);if(!s)return;let d=[];if(t==="clear")d=[...s.values()];else if(r==="length"&&isArray(e)){const h=Number(o);s.forEach((i,l)=>{(l==="length"||!isSymbol(l)&&l>=h)&&d.push(i)})}else switch(r!==void 0&&d.push(s.get(r)),t){case"add":isArray(e)?isIntegerKey(r)&&d.push(s.get("length")):(d.push(s.get(ITERATE_KEY)),isMap(e)&&d.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(d.push(s.get(ITERATE_KEY)),isMap(e)&&d.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&d.push(s.get(ITERATE_KEY));break}pauseScheduling();for(const h of d)h&&triggerEffects(h,4);resetScheduling()}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const o=toRaw(this);for(let n=0,s=this.length;n<s;n++)track(o,"get",n+"");const a=o[t](...r);return a===-1||a===!1?o[t](...r.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking(),pauseScheduling();const o=toRaw(this)[t].apply(this,r);return resetScheduling(),resetTracking(),o}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,o){const a=this._isReadonly,n=this._shallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return n;if(r==="__v_raw")return o===(a?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const s=isArray(t);if(!a){if(s&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,o);if(r==="hasOwnProperty")return hasOwnProperty}const d=Reflect.get(t,r,o);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(a||track(t,"get",r),n)?d:isRef(d)?s&&isIntegerKey(r)?d:d.value:isObject(d)?a?readonly(d):reactive(d):d}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,r,o,a){let n=t[r];if(!this._shallow){const h=isReadonly(n);if(!isShallow(o)&&!isReadonly(o)&&(n=toRaw(n),o=toRaw(o)),!isArray(t)&&isRef(n)&&!isRef(o))return h?!1:(n.value=o,!0)}const s=isArray(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn(t,r),d=Reflect.set(t,r,o,a);return t===toRaw(a)&&(s?hasChanged(o,n)&&trigger(t,"set",r,o):trigger(t,"add",r,o)),d}deleteProperty(t,r){const o=hasOwn(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&o&&trigger(t,"delete",r,void 0),a}has(t,r){const o=Reflect.has(t,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(t,"has",r),o}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,r=!1,o=!1){e=e.__v_raw;const a=toRaw(e),n=toRaw(t);r||(hasChanged(t,n)&&track(a,"get",t),track(a,"get",n));const{has:s}=getProto(a),d=o?toShallow:r?toReadonly:toReactive;if(s.call(a,t))return d(e.get(t));if(s.call(a,n))return d(e.get(n));e!==a&&e.get(t)}function has(e,t=!1){const r=this.__v_raw,o=toRaw(r),a=toRaw(e);return t||(hasChanged(e,a)&&track(o,"has",e),track(o,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const r=toRaw(this),{has:o,get:a}=getProto(r);let n=o.call(r,e);n||(e=toRaw(e),n=o.call(r,e));const s=a.call(r,e);return r.set(e,t),n?hasChanged(t,s)&&trigger(r,"set",e,t):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:o}=getProto(t);let a=r.call(t,e);a||(e=toRaw(e),a=r.call(t,e)),o&&o.call(t,e);const n=t.delete(e);return a&&trigger(t,"delete",e,void 0),n}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(o,a){const n=this,s=n.__v_raw,d=toRaw(s),h=t?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",ITERATE_KEY),s.forEach((i,l)=>o.call(a,h(i),h(l),n))}}function createIterableMethod(e,t,r){return function(...o){const a=this.__v_raw,n=toRaw(a),s=isMap(n),d=e==="entries"||e===Symbol.iterator&&s,h=e==="keys"&&s,i=a[e](...o),l=r?toShallow:t?toReadonly:toReactive;return!t&&track(n,"iterate",h?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:c,done:g}=i.next();return g?{value:c,done:g}:{value:d?[l(c[0]),l(c[1])]:l(c),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(){const e={get(n){return get(this,n)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(n){return get(this,n,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(n){return get(this,n,!0)},get size(){return size(this,!0)},has(n){return has.call(this,n,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(n){return get(this,n,!0,!0)},get size(){return size(this,!0)},has(n){return has.call(this,n,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=createIterableMethod(n,!1,!1),r[n]=createIterableMethod(n,!0,!1),t[n]=createIterableMethod(n,!1,!0),o[n]=createIterableMethod(n,!0,!0)}),[e,r,t,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(o,a,n)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(hasOwn(r,a)&&a in o?r:o,a,n)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,o,a){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=a.get(e);if(n)return n;const s=getTargetType(e);if(s===0)return e;const d=new Proxy(e,s===2?o:r);return a.set(e,d),d}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;class ComputedRefImpl{constructor(t,r,o,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>t(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const t=toRaw(this);return(!t._cacheable||t.effect.dirty)&&hasChanged(t._value,t._value=t.effect.run())&&triggerRefValue(t,4),trackRefValue(t),t.effect._dirtyLevel>=2&&triggerRefValue(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function computed$1(e,t,r=!1){let o,a;const n=isFunction(e);return n?(o=e,a=NOOP):(o=e.get,a=e.set),new ComputedRefImpl(o,a,n||!a,r)}function trackRefValue(e){var t;shouldTrack&&activeEffect&&(e=toRaw(e),trackEffect(activeEffect,(t=e.dep)!=null?t:e.dep=createDep(()=>e.dep=void 0,e instanceof ComputedRefImpl?e:void 0)))}function triggerRefValue(e,t=4,r){e=toRaw(e);const o=e.dep;o&&triggerEffects(o,t)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this,4))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const a=e[t];return isRef(a)&&!isRef(r)?(a.value=r,!0):Reflect.set(e,t,r,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(e,...t){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,o=r&&r.appContext.config.warnHandler,a=getComponentTrace();if(o)callWithErrorHandling(o,r,11,[e+t.join(""),r&&r.proxy,a.map(({vnode:n})=>`at <${formatComponentName(r,n.type)}>`).join(`
`),a]);else{const n=[`[Vue warn]: ${e}`,...t];a.length&&n.push(`
`,...formatTrace(a)),console.warn(...n)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,o)=>{t.push(...o===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,a=` at <${formatComponentName(e.component,e.type,o)}`,n=">"+r;return e.props?[a,...formatProps(e.props),n]:[a+n]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(o=>{t.push(...formatProp(o,e[o]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function callWithErrorHandling(e,t,r,o){try{return o?e(...o):e()}catch(a){handleError(a,t,r)}}function callWithAsyncErrorHandling(e,t,r,o){if(isFunction(e)){const n=callWithErrorHandling(e,t,r,o);return n&&isPromise(n)&&n.catch(s=>{handleError(s,t,r)}),n}const a=[];for(let n=0;n<e.length;n++)a.push(callWithAsyncErrorHandling(e[n],t,r,o));return a}function handleError(e,t,r,o=!0){const a=t?t.vnode:null;if(t){let n=t.parent;const s=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;n;){const i=n.ec;if(i){for(let l=0;l<i.length;l++)if(i[l](e,s,d)===!1)return}n=n.parent}const h=t.appContext.config.errorHandler;if(h){callWithErrorHandling(h,null,10,[e,s,d]);return}}logError(e,r,a,o)}function logError(e,t,r,o=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const o=t+r>>>1,a=queue[o],n=getId(a);n<e||n===e&&a.pre?t=o+1:r=o}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const o=queue[r];if(o&&o.pre){if(e&&o.id!==e.uid)continue;queue.splice(r,1),r--,o()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((r,o)=>getId(r)-getId(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...r){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let a=r;const n=t.startsWith("update:"),s=n&&t.slice(7);if(s&&s in o){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:g}=o[l]||EMPTY_OBJ;g&&(a=r.map(y=>isString(y)?y.trim():y)),c&&(a=r.map(looseToNumber))}let d,h=o[d=toHandlerKey(t)]||o[d=toHandlerKey(camelize(t))];!h&&n&&(h=o[d=toHandlerKey(hyphenate(t))]),h&&callWithAsyncErrorHandling(h,e,6,a);const i=o[d+"Once"];if(i){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,callWithAsyncErrorHandling(i,e,6,a)}}function normalizeEmitsOptions(e,t,r=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const n=e.emits;let s={},d=!1;if(!isFunction(e)){const h=i=>{const l=normalizeEmitsOptions(i,t,!0);l&&(d=!0,extend(s,l))};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!n&&!d?(isObject(e)&&o.set(e,null),null):(isArray(n)?n.forEach(h=>s[h]=null):extend(s,n),isObject(e)&&o.set(e,s),s)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const o=(...a)=>{o._d&&setBlockTracking(-1);const n=setCurrentRenderingInstance(t);let s;try{s=e(...a)}finally{setCurrentRenderingInstance(n),o._d&&setBlockTracking(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:o,withProxy:a,props:n,propsOptions:[s],slots:d,attrs:h,emit:i,render:l,renderCache:c,data:g,setupState:y,ctx:S,inheritAttrs:I}=e;let A,H;const N=setCurrentRenderingInstance(e);try{if(r.shapeFlag&4){const pe=a||o,Ne=pe;A=normalizeVNode(l.call(Ne,pe,c,n,y,g,S)),H=h}else{const pe=t;A=normalizeVNode(pe.length>1?pe(n,{attrs:h,slots:d,emit:i}):pe(n,null)),H=t.props?h:getFunctionalFallthrough(h)}}catch(pe){blockStack.length=0,handleError(pe,e,1),A=createVNode(Comment)}let G=A;if(H&&I!==!1){const pe=Object.keys(H),{shapeFlag:Ne}=G;pe.length&&Ne&7&&(s&&pe.some(isModelListener)&&(H=filterModelListeners(H,s)),G=cloneVNode(G,H))}return r.dirs&&(G=cloneVNode(G),G.dirs=G.dirs?G.dirs.concat(r.dirs):r.dirs),r.transition&&(G.transition=r.transition),A=G,setCurrentRenderingInstance(N),A}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in t))&&(r[o]=e[o]);return r};function shouldUpdateComponent(e,t,r){const{props:o,children:a,component:n}=e,{props:s,children:d,patchFlag:h}=t,i=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return o?hasPropsChanged(o,s,i):!!s;if(h&8){const l=t.dynamicProps;for(let c=0;c<l.length;c++){const g=l[c];if(s[g]!==o[g]&&!isEmitListener(i,g))return!0}}}else return(a||d)&&(!d||!d.$stable)?!0:o===s?!1:o?s?hasPropsChanged(o,s,i):!0:!!s;return!1}function hasPropsChanged(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const n=o[a];if(t[n]!==e[n]&&!isEmitListener(r,n))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=r,t=t.parent;else break}}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:o,flush:a,once:n,onTrack:s,onTrigger:d}=EMPTY_OBJ){if(t&&n){const ze=t;t=(...Tt)=>{ze(...Tt),Ne()}}const h=currentInstance,i=ze=>o===!0?ze:traverse(ze,o===!1?1:void 0);let l,c=!1,g=!1;if(isRef(e)?(l=()=>e.value,c=isShallow(e)):isReactive(e)?(l=()=>i(e),c=!0):isArray(e)?(g=!0,c=e.some(ze=>isReactive(ze)||isShallow(ze)),l=()=>e.map(ze=>{if(isRef(ze))return ze.value;if(isReactive(ze))return i(ze);if(isFunction(ze))return callWithErrorHandling(ze,h,2)})):isFunction(e)?t?l=()=>callWithErrorHandling(e,h,2):l=()=>(y&&y(),callWithAsyncErrorHandling(e,h,3,[S])):l=NOOP,t&&o){const ze=l;l=()=>traverse(ze())}let y,S=ze=>{y=G.onStop=()=>{callWithErrorHandling(ze,h,4),y=G.onStop=void 0}},I;if(isInSSRComponentSetup)if(S=NOOP,t?r&&callWithAsyncErrorHandling(t,h,3,[l(),g?[]:void 0,S]):l(),a==="sync"){const ze=useSSRContext();I=ze.__watcherHandles||(ze.__watcherHandles=[])}else return NOOP;let A=g?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const H=()=>{if(!(!G.active||!G.dirty))if(t){const ze=G.run();(o||c||(g?ze.some((Tt,yt)=>hasChanged(Tt,A[yt])):hasChanged(ze,A)))&&(y&&y(),callWithAsyncErrorHandling(t,h,3,[ze,A===INITIAL_WATCHER_VALUE?void 0:g&&A[0]===INITIAL_WATCHER_VALUE?[]:A,S]),A=ze)}else G.run()};H.allowRecurse=!!t;let N;a==="sync"?N=H:a==="post"?N=()=>queuePostRenderEffect(H,h&&h.suspense):(H.pre=!0,h&&(H.id=h.uid),N=()=>queueJob(H));const G=new ReactiveEffect(l,NOOP,N),pe=getCurrentScope(),Ne=()=>{G.stop(),pe&&remove(pe.effects,G)};return t?r?H():A=G.run():a==="post"?queuePostRenderEffect(G.run.bind(G),h&&h.suspense):G.run(),I&&I.push(Ne),Ne}function instanceWatch(e,t,r){const o=this.proxy,a=isString(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let n;isFunction(t)?n=t:(n=t.handler,r=t);const s=setCurrentInstance(this),d=doWatch(a,n.bind(o),r);return s(),d}function createPathGetter(e,t){const r=t.split(".");return()=>{let o=e;for(let a=0;a<r.length&&o;a++)o=o[r[a]];return o}}function traverse(e,t,r=0,o){if(!isObject(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(o=o||new Set,o.has(e))return e;if(o.add(e),isRef(e))traverse(e.value,t,r,o);else if(isArray(e))for(let a=0;a<e.length;a++)traverse(e[a],t,r,o);else if(isSet(e)||isMap(e))e.forEach(a=>{traverse(a,t,r,o)});else if(isPlainObject(e))for(const a in e)traverse(e[a],t,r,o);return e}function invokeDirectiveHook(e,t,r,o){const a=e.dirs,n=t&&t.dirs;for(let s=0;s<a.length;s++){const d=a[s];n&&(d.oldValue=n[s].value);let h=d.dir[o];h&&(pauseTracking(),callWithAsyncErrorHandling(h,r,8,[e.el,d,e,t]),resetTracking())}}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(t,o,r),r){let a=r.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(o,t,r,a),a=a.parent}}function injectToKeepAliveRoot(e,t,r,o){const a=injectHook(t,e,o,!0);onUnmounted(()=>{remove(o[t],a)},r)}function injectHook(e,t,r=currentInstance,o=!1){if(r){const a=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;pauseTracking();const d=setCurrentInstance(r),h=callWithAsyncErrorHandling(t,r,e,s);return d(),resetTracking(),h});return o?a.unshift(n):a.push(n),n}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...o)=>t(...o),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:o,data:a,props:n,accessCache:s,type:d,appContext:h}=e;let i;if(t[0]!=="$"){const y=s[t];if(y!==void 0)switch(y){case 1:return o[t];case 2:return a[t];case 4:return r[t];case 3:return n[t]}else{if(hasSetupBinding(o,t))return s[t]=1,o[t];if(a!==EMPTY_OBJ&&hasOwn(a,t))return s[t]=2,a[t];if((i=e.propsOptions[0])&&hasOwn(i,t))return s[t]=3,n[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return s[t]=4,r[t];shouldCacheAccess&&(s[t]=0)}}const l=publicPropertiesMap[t];let c,g;if(l)return t==="$attrs"&&track(e,"get",t),l(e);if((c=d.__cssModules)&&(c=c[t]))return c;if(r!==EMPTY_OBJ&&hasOwn(r,t))return s[t]=4,r[t];if(g=h.config.globalProperties,hasOwn(g,t))return g[t]},set({_:e},t,r){const{data:o,setupState:a,ctx:n}=e;return hasSetupBinding(a,t)?(a[t]=r,!0):o!==EMPTY_OBJ&&hasOwn(o,t)?(o[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:o,appContext:a,propsOptions:n}},s){let d;return!!r[s]||e!==EMPTY_OBJ&&hasOwn(e,s)||hasSetupBinding(t,s)||(d=n[0])&&hasOwn(d,s)||hasOwn(o,s)||hasOwn(publicPropertiesMap,s)||hasOwn(a.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,o=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:a,computed:n,methods:s,watch:d,provide:h,inject:i,created:l,beforeMount:c,mounted:g,beforeUpdate:y,updated:S,activated:I,deactivated:A,beforeDestroy:H,beforeUnmount:N,destroyed:G,unmounted:pe,render:Ne,renderTracked:ze,renderTriggered:Tt,errorCaptured:yt,serverPrefetch:Ue,expose:Bt,inheritAttrs:ni,components:ii,directives:On,filters:et}=t;if(i&&resolveInjections(i,o,null),s)for(const at in s){const st=s[at];isFunction(st)&&(o[at]=st.bind(r))}if(a){const at=a.call(r,r);isObject(at)&&(e.data=reactive(at))}if(shouldCacheAccess=!0,n)for(const at in n){const st=n[at],qt=isFunction(st)?st.bind(r,r):isFunction(st.get)?st.get.bind(r,r):NOOP,Sr=!isFunction(st)&&isFunction(st.set)?st.set.bind(r):NOOP,Ht=computed({get:qt,set:Sr});Object.defineProperty(o,at,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:qr=>Ht.value=qr})}if(d)for(const at in d)createWatcher(d[at],o,r,at);if(h){const at=isFunction(h)?h.call(r):h;Reflect.ownKeys(at).forEach(st=>{provide(st,at[st])})}l&&callHook(l,e,"c");function fr(at,st){isArray(st)?st.forEach(qt=>at(qt.bind(r))):st&&at(st.bind(r))}if(fr(onBeforeMount,c),fr(onMounted,g),fr(onBeforeUpdate,y),fr(onUpdated,S),fr(onActivated,I),fr(onDeactivated,A),fr(onErrorCaptured,yt),fr(onRenderTracked,ze),fr(onRenderTriggered,Tt),fr(onBeforeUnmount,N),fr(onUnmounted,pe),fr(onServerPrefetch,Ue),isArray(Bt))if(Bt.length){const at=e.exposed||(e.exposed={});Bt.forEach(st=>{Object.defineProperty(at,st,{get:()=>r[st],set:qt=>r[st]=qt})})}else e.exposed||(e.exposed={});Ne&&e.render===NOOP&&(e.render=Ne),ni!=null&&(e.inheritAttrs=ni),ii&&(e.components=ii),On&&(e.directives=On)}function resolveInjections(e,t,r=NOOP){isArray(e)&&(e=normalizeInject(e));for(const o in e){const a=e[o];let n;isObject(a)?"default"in a?n=inject(a.from||o,a.default,!0):n=inject(a.from||o):n=inject(a),isRef(n)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n.value,set:s=>n.value=s}):t[o]=n}}function callHook(e,t,r){callWithAsyncErrorHandling(isArray(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,o){const a=o.includes(".")?createPathGetter(r,o):()=>r[o];if(isString(e)){const n=t[e];isFunction(n)&&watch(a,n)}else if(isFunction(e))watch(a,e.bind(r));else if(isObject(e))if(isArray(e))e.forEach(n=>createWatcher(n,t,r,o));else{const n=isFunction(e.handler)?e.handler.bind(r):t[e.handler];isFunction(n)&&watch(a,n,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:a,optionsCache:n,config:{optionMergeStrategies:s}}=e.appContext,d=n.get(t);let h;return d?h=d:!a.length&&!r&&!o?h=t:(h={},a.length&&a.forEach(i=>mergeOptions(h,i,s,!0)),mergeOptions(h,t,s)),isObject(t)&&n.set(t,h),h}function mergeOptions(e,t,r,o=!1){const{mixins:a,extends:n}=t;n&&mergeOptions(e,n,r,!0),a&&a.forEach(s=>mergeOptions(e,s,r,!0));for(const s in t)if(!(o&&s==="expose")){const d=internalOptionMergeStrats[s]||r&&r[s];e[s]=d?d(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const o in t)r[o]=mergeAsArray(e[o],t[o]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(o,a=null){isFunction(o)||(o=extend({},o)),a!=null&&!isObject(a)&&(a=null);const n=createAppContext(),s=new WeakSet;let d=!1;const h=n.app={_uid:uid$1++,_component:o,_props:a,_container:null,_context:n,_instance:null,version,get config(){return n.config},set config(i){},use(i,...l){return s.has(i)||(i&&isFunction(i.install)?(s.add(i),i.install(h,...l)):isFunction(i)&&(s.add(i),i(h,...l))),h},mixin(i){return n.mixins.includes(i)||n.mixins.push(i),h},component(i,l){return l?(n.components[i]=l,h):n.components[i]},directive(i,l){return l?(n.directives[i]=l,h):n.directives[i]},mount(i,l,c){if(!d){const g=createVNode(o,a);return g.appContext=n,c===!0?c="svg":c===!1&&(c=void 0),l&&t?t(g,i):e(g,i,c),d=!0,h._container=i,i.__vue_app__=h,getExposeProxy(g.component)||g.component.proxy}},unmount(){d&&(e(null,h._container),delete h._container.__vue_app__)},provide(i,l){return n.provides[i]=l,h},runWithContext(i){const l=currentApp;currentApp=h;try{return i()}finally{currentApp=l}}};return h}}let currentApp=null;function provide(e,t){if(currentInstance){let r=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===r&&(r=currentInstance.provides=Object.create(o)),r[e]=t}}function inject(e,t,r=!1){const o=currentInstance||currentRenderingInstance;if(o||currentApp){const a=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:currentApp._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&isFunction(t)?t.call(o&&o.proxy):t}}function initProps(e,t,r,o=!1){const a={},n={};def(n,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,a,n);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);r?e.props=o?a:shallowReactive(a):e.type.props?e.props=a:e.props=n,e.attrs=n}function updateProps(e,t,r,o){const{props:a,attrs:n,vnode:{patchFlag:s}}=e,d=toRaw(a),[h]=e.propsOptions;let i=!1;if((o||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let c=0;c<l.length;c++){let g=l[c];if(isEmitListener(e.emitsOptions,g))continue;const y=t[g];if(h)if(hasOwn(n,g))y!==n[g]&&(n[g]=y,i=!0);else{const S=camelize(g);a[S]=resolvePropValue(h,d,S,y,e,!1)}else y!==n[g]&&(n[g]=y,i=!0)}}}else{setFullProps(e,t,a,n)&&(i=!0);let l;for(const c in d)(!t||!hasOwn(t,c)&&((l=hyphenate(c))===c||!hasOwn(t,l)))&&(h?r&&(r[c]!==void 0||r[l]!==void 0)&&(a[c]=resolvePropValue(h,d,c,void 0,e,!0)):delete a[c]);if(n!==d)for(const c in n)(!t||!hasOwn(t,c))&&(delete n[c],i=!0)}i&&trigger(e,"set","$attrs")}function setFullProps(e,t,r,o){const[a,n]=e.propsOptions;let s=!1,d;if(t)for(let h in t){if(isReservedProp(h))continue;const i=t[h];let l;a&&hasOwn(a,l=camelize(h))?!n||!n.includes(l)?r[l]=i:(d||(d={}))[l]=i:isEmitListener(e.emitsOptions,h)||(!(h in o)||i!==o[h])&&(o[h]=i,s=!0)}if(n){const h=toRaw(r),i=d||EMPTY_OBJ;for(let l=0;l<n.length;l++){const c=n[l];r[c]=resolvePropValue(a,h,c,i[c],e,!hasOwn(i,c))}}return s}function resolvePropValue(e,t,r,o,a,n){const s=e[r];if(s!=null){const d=hasOwn(s,"default");if(d&&o===void 0){const h=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction(h)){const{propsDefaults:i}=a;if(r in i)o=i[r];else{const l=setCurrentInstance(a);o=i[r]=h.call(null,t),l()}}else o=h}s[0]&&(n&&!d?o=!1:s[1]&&(o===""||o===hyphenate(r))&&(o=!0))}return o}function normalizePropsOptions(e,t,r=!1){const o=t.propsCache,a=o.get(e);if(a)return a;const n=e.props,s={},d=[];let h=!1;if(!isFunction(e)){const l=c=>{h=!0;const[g,y]=normalizePropsOptions(c,t,!0);extend(s,g),y&&d.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!n&&!h)return isObject(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(n))for(let l=0;l<n.length;l++){const c=camelize(n[l]);validatePropName(c)&&(s[c]=EMPTY_OBJ)}else if(n)for(const l in n){const c=camelize(l);if(validatePropName(c)){const g=n[l],y=s[c]=isArray(g)||isFunction(g)?{type:g}:extend({},g);if(y){const S=getTypeIndex(Boolean,y.type),I=getTypeIndex(String,y.type);y[0]=S>-1,y[1]=I<0||S<I,(S>-1||hasOwn(y,"default"))&&d.push(c)}}}const i=[s,d];return isObject(e)&&o.set(e,i),i}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}function getType(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(r=>isSameType(r,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{if(t._n)return t;const o=withCtx((...a)=>normalizeSlotValue(t(...a)),r);return o._c=!1,o},normalizeObjectSlots=(e,t,r)=>{const o=e._ctx;for(const a in e){if(isInternalKey(a))continue;const n=e[a];if(isFunction(n))t[a]=normalizeSlot(a,n,o);else if(n!=null){const s=normalizeSlotValue(n);t[a]=()=>s}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:o,slots:a}=e;let n=!0,s=EMPTY_OBJ;if(o.shapeFlag&32){const d=t._;d?r&&d===1?n=!1:(extend(a,t),!r&&d===1&&delete a._):(n=!t.$stable,normalizeObjectSlots(t,a)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(n)for(const d in a)!isInternalKey(d)&&s[d]==null&&delete a[d]};function setRef(e,t,r,o,a=!1){if(isArray(e)){e.forEach((g,y)=>setRef(g,t&&(isArray(t)?t[y]:t),r,o,a));return}if(isAsyncWrapper(o)&&!a)return;const n=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,s=a?null:n,{i:d,r:h}=e,i=t&&t.r,l=d.refs===EMPTY_OBJ?d.refs={}:d.refs,c=d.setupState;if(i!=null&&i!==h&&(isString(i)?(l[i]=null,hasOwn(c,i)&&(c[i]=null)):isRef(i)&&(i.value=null)),isFunction(h))callWithErrorHandling(h,d,12,[s,l]);else{const g=isString(h),y=isRef(h);if(g||y){const S=()=>{if(e.f){const I=g?hasOwn(c,h)?c[h]:l[h]:h.value;a?isArray(I)&&remove(I,n):isArray(I)?I.includes(n)||I.push(n):g?(l[h]=[n],hasOwn(c,h)&&(c[h]=l[h])):(h.value=[n],e.k&&(l[e.k]=h.value))}else g?(l[h]=s,hasOwn(c,h)&&(c[h]=s)):y&&(h.value=s,e.k&&(l[e.k]=s))};s?(S.id=-1,queuePostRenderEffect(S,r)):S()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:o,remove:a,patchProp:n,createElement:s,createText:d,createComment:h,setText:i,setElementText:l,parentNode:c,nextSibling:g,setScopeId:y=NOOP,insertStaticContent:S}=e,I=(C,F,X,de=null,ie=null,Te=null,Ae=void 0,ve=null,_e=!!F.dynamicChildren)=>{if(C===F)return;C&&!isSameVNodeType(C,F)&&(de=on(C),qr(C,ie,Te,!0),C=null),F.patchFlag===-2&&(_e=!1,F.dynamicChildren=null);const{type:he,ref:Ce,shapeFlag:He}=F;switch(he){case Text:A(C,F,X,de);break;case Comment:H(C,F,X,de);break;case Static:C==null&&N(F,X,de,Ae);break;case Fragment:ii(C,F,X,de,ie,Te,Ae,ve,_e);break;default:He&1?Ne(C,F,X,de,ie,Te,Ae,ve,_e):He&6?On(C,F,X,de,ie,Te,Ae,ve,_e):(He&64||He&128)&&he.process(C,F,X,de,ie,Te,Ae,ve,_e,Kr)}Ce!=null&&ie&&setRef(Ce,C&&C.ref,Te,F||C,!F)},A=(C,F,X,de)=>{if(C==null)o(F.el=d(F.children),X,de);else{const ie=F.el=C.el;F.children!==C.children&&i(ie,F.children)}},H=(C,F,X,de)=>{C==null?o(F.el=h(F.children||""),X,de):F.el=C.el},N=(C,F,X,de)=>{[C.el,C.anchor]=S(C.children,F,X,de,C.el,C.anchor)},G=({el:C,anchor:F},X,de)=>{let ie;for(;C&&C!==F;)ie=g(C),o(C,X,de),C=ie;o(F,X,de)},pe=({el:C,anchor:F})=>{let X;for(;C&&C!==F;)X=g(C),a(C),C=X;a(F)},Ne=(C,F,X,de,ie,Te,Ae,ve,_e)=>{F.type==="svg"?Ae="svg":F.type==="math"&&(Ae="mathml"),C==null?ze(F,X,de,ie,Te,Ae,ve,_e):Ue(C,F,ie,Te,Ae,ve,_e)},ze=(C,F,X,de,ie,Te,Ae,ve)=>{let _e,he;const{props:Ce,shapeFlag:He,transition:Le,dirs:Qe}=C;if(_e=C.el=s(C.type,Te,Ce&&Ce.is,Ce),He&8?l(_e,C.children):He&16&&yt(C.children,_e,null,de,ie,resolveChildrenNamespace(C,Te),Ae,ve),Qe&&invokeDirectiveHook(C,null,de,"created"),Tt(_e,C,C.scopeId,Ae,de),Ce){for(const Ot in Ce)Ot!=="value"&&!isReservedProp(Ot)&&n(_e,Ot,null,Ce[Ot],Te,C.children,de,ie,Or);"value"in Ce&&n(_e,"value",null,Ce.value,Te),(he=Ce.onVnodeBeforeMount)&&invokeVNodeHook(he,de,C)}Qe&&invokeDirectiveHook(C,null,de,"beforeMount");const gt=needTransition(ie,Le);gt&&Le.beforeEnter(_e),o(_e,F,X),((he=Ce&&Ce.onVnodeMounted)||gt||Qe)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,de,C),gt&&Le.enter(_e),Qe&&invokeDirectiveHook(C,null,de,"mounted")},ie)},Tt=(C,F,X,de,ie)=>{if(X&&y(C,X),de)for(let Te=0;Te<de.length;Te++)y(C,de[Te]);if(ie){let Te=ie.subTree;if(F===Te){const Ae=ie.vnode;Tt(C,Ae,Ae.scopeId,Ae.slotScopeIds,ie.parent)}}},yt=(C,F,X,de,ie,Te,Ae,ve,_e=0)=>{for(let he=_e;he<C.length;he++){const Ce=C[he]=ve?cloneIfMounted(C[he]):normalizeVNode(C[he]);I(null,Ce,F,X,de,ie,Te,Ae,ve)}},Ue=(C,F,X,de,ie,Te,Ae)=>{const ve=F.el=C.el;let{patchFlag:_e,dynamicChildren:he,dirs:Ce}=F;_e|=C.patchFlag&16;const He=C.props||EMPTY_OBJ,Le=F.props||EMPTY_OBJ;let Qe;if(X&&toggleRecurse(X,!1),(Qe=Le.onVnodeBeforeUpdate)&&invokeVNodeHook(Qe,X,F,C),Ce&&invokeDirectiveHook(F,C,X,"beforeUpdate"),X&&toggleRecurse(X,!0),he?Bt(C.dynamicChildren,he,ve,X,de,resolveChildrenNamespace(F,ie),Te):Ae||st(C,F,ve,null,X,de,resolveChildrenNamespace(F,ie),Te,!1),_e>0){if(_e&16)ni(ve,F,He,Le,X,de,ie);else if(_e&2&&He.class!==Le.class&&n(ve,"class",null,Le.class,ie),_e&4&&n(ve,"style",He.style,Le.style,ie),_e&8){const gt=F.dynamicProps;for(let Ot=0;Ot<gt.length;Ot++){const Wt=gt[Ot],Ie=He[Wt],Yr=Le[Wt];(Yr!==Ie||Wt==="value")&&n(ve,Wt,Ie,Yr,ie,C.children,X,de,Or)}}_e&1&&C.children!==F.children&&l(ve,F.children)}else!Ae&&he==null&&ni(ve,F,He,Le,X,de,ie);((Qe=Le.onVnodeUpdated)||Ce)&&queuePostRenderEffect(()=>{Qe&&invokeVNodeHook(Qe,X,F,C),Ce&&invokeDirectiveHook(F,C,X,"updated")},de)},Bt=(C,F,X,de,ie,Te,Ae)=>{for(let ve=0;ve<F.length;ve++){const _e=C[ve],he=F[ve],Ce=_e.el&&(_e.type===Fragment||!isSameVNodeType(_e,he)||_e.shapeFlag&70)?c(_e.el):X;I(_e,he,Ce,null,de,ie,Te,Ae,!0)}},ni=(C,F,X,de,ie,Te,Ae)=>{if(X!==de){if(X!==EMPTY_OBJ)for(const ve in X)!isReservedProp(ve)&&!(ve in de)&&n(C,ve,X[ve],null,Ae,F.children,ie,Te,Or);for(const ve in de){if(isReservedProp(ve))continue;const _e=de[ve],he=X[ve];_e!==he&&ve!=="value"&&n(C,ve,he,_e,Ae,F.children,ie,Te,Or)}"value"in de&&n(C,"value",X.value,de.value,Ae)}},ii=(C,F,X,de,ie,Te,Ae,ve,_e)=>{const he=F.el=C?C.el:d(""),Ce=F.anchor=C?C.anchor:d("");let{patchFlag:He,dynamicChildren:Le,slotScopeIds:Qe}=F;Qe&&(ve=ve?ve.concat(Qe):Qe),C==null?(o(he,X,de),o(Ce,X,de),yt(F.children||[],X,Ce,ie,Te,Ae,ve,_e)):He>0&&He&64&&Le&&C.dynamicChildren?(Bt(C.dynamicChildren,Le,X,ie,Te,Ae,ve),(F.key!=null||ie&&F===ie.subTree)&&traverseStaticChildren(C,F,!0)):st(C,F,X,Ce,ie,Te,Ae,ve,_e)},On=(C,F,X,de,ie,Te,Ae,ve,_e)=>{F.slotScopeIds=ve,C==null?F.shapeFlag&512?ie.ctx.activate(F,X,de,Ae,_e):et(F,X,de,ie,Te,Ae,_e):er(C,F,_e)},et=(C,F,X,de,ie,Te,Ae)=>{const ve=C.component=createComponentInstance(C,de,ie);if(isKeepAlive(C)&&(ve.ctx.renderer=Kr),setupComponent(ve),ve.asyncDep){if(ie&&ie.registerDep(ve,fr),!C.el){const _e=ve.subTree=createVNode(Comment);H(null,_e,F,X)}}else fr(ve,C,F,X,ie,Te,Ae)},er=(C,F,X)=>{const de=F.component=C.component;if(shouldUpdateComponent(C,F,X))if(de.asyncDep&&!de.asyncResolved){at(de,F,X);return}else de.next=F,invalidateJob(de.update),de.effect.dirty=!0,de.update();else F.el=C.el,de.vnode=F},fr=(C,F,X,de,ie,Te,Ae)=>{const ve=()=>{if(C.isMounted){let{next:Ce,bu:He,u:Le,parent:Qe,vnode:gt}=C;{const Pn=locateNonHydratedAsyncRoot(C);if(Pn){Ce&&(Ce.el=gt.el,at(C,Ce,Ae)),Pn.asyncDep.then(()=>{C.isUnmounted||ve()});return}}let Ot=Ce,Wt;toggleRecurse(C,!1),Ce?(Ce.el=gt.el,at(C,Ce,Ae)):Ce=gt,He&&invokeArrayFns(He),(Wt=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Wt,Qe,Ce,gt),toggleRecurse(C,!0);const Ie=renderComponentRoot(C),Yr=C.subTree;C.subTree=Ie,I(Yr,Ie,c(Yr.el),on(Yr),C,ie,Te),Ce.el=Ie.el,Ot===null&&updateHOCHostEl(C,Ie.el),Le&&queuePostRenderEffect(Le,ie),(Wt=Ce.props&&Ce.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Wt,Qe,Ce,gt),ie)}else{let Ce;const{el:He,props:Le}=F,{bm:Qe,m:gt,parent:Ot}=C,Wt=isAsyncWrapper(F);if(toggleRecurse(C,!1),Qe&&invokeArrayFns(Qe),!Wt&&(Ce=Le&&Le.onVnodeBeforeMount)&&invokeVNodeHook(Ce,Ot,F),toggleRecurse(C,!0),He&&An){const Ie=()=>{C.subTree=renderComponentRoot(C),An(He,C.subTree,C,ie,null)};Wt?F.type.__asyncLoader().then(()=>!C.isUnmounted&&Ie()):Ie()}else{const Ie=C.subTree=renderComponentRoot(C);I(null,Ie,X,de,C,ie,Te),F.el=Ie.el}if(gt&&queuePostRenderEffect(gt,ie),!Wt&&(Ce=Le&&Le.onVnodeMounted)){const Ie=F;queuePostRenderEffect(()=>invokeVNodeHook(Ce,Ot,Ie),ie)}(F.shapeFlag&256||Ot&&isAsyncWrapper(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&C.a&&queuePostRenderEffect(C.a,ie),C.isMounted=!0,F=X=de=null}},_e=C.effect=new ReactiveEffect(ve,NOOP,()=>queueJob(he),C.scope),he=C.update=()=>{_e.dirty&&_e.run()};he.id=C.uid,toggleRecurse(C,!0),he()},at=(C,F,X)=>{F.component=C;const de=C.vnode.props;C.vnode=F,C.next=null,updateProps(C,F.props,de,X),updateSlots(C,F.children,X),pauseTracking(),flushPreFlushCbs(C),resetTracking()},st=(C,F,X,de,ie,Te,Ae,ve,_e=!1)=>{const he=C&&C.children,Ce=C?C.shapeFlag:0,He=F.children,{patchFlag:Le,shapeFlag:Qe}=F;if(Le>0){if(Le&128){Sr(he,He,X,de,ie,Te,Ae,ve,_e);return}else if(Le&256){qt(he,He,X,de,ie,Te,Ae,ve,_e);return}}Qe&8?(Ce&16&&Or(he,ie,Te),He!==he&&l(X,He)):Ce&16?Qe&16?Sr(he,He,X,de,ie,Te,Ae,ve,_e):Or(he,ie,Te,!0):(Ce&8&&l(X,""),Qe&16&&yt(He,X,de,ie,Te,Ae,ve,_e))},qt=(C,F,X,de,ie,Te,Ae,ve,_e)=>{C=C||EMPTY_ARR,F=F||EMPTY_ARR;const he=C.length,Ce=F.length,He=Math.min(he,Ce);let Le;for(Le=0;Le<He;Le++){const Qe=F[Le]=_e?cloneIfMounted(F[Le]):normalizeVNode(F[Le]);I(C[Le],Qe,X,null,ie,Te,Ae,ve,_e)}he>Ce?Or(C,ie,Te,!0,!1,He):yt(F,X,de,ie,Te,Ae,ve,_e,He)},Sr=(C,F,X,de,ie,Te,Ae,ve,_e)=>{let he=0;const Ce=F.length;let He=C.length-1,Le=Ce-1;for(;he<=He&&he<=Le;){const Qe=C[he],gt=F[he]=_e?cloneIfMounted(F[he]):normalizeVNode(F[he]);if(isSameVNodeType(Qe,gt))I(Qe,gt,X,null,ie,Te,Ae,ve,_e);else break;he++}for(;he<=He&&he<=Le;){const Qe=C[He],gt=F[Le]=_e?cloneIfMounted(F[Le]):normalizeVNode(F[Le]);if(isSameVNodeType(Qe,gt))I(Qe,gt,X,null,ie,Te,Ae,ve,_e);else break;He--,Le--}if(he>He){if(he<=Le){const Qe=Le+1,gt=Qe<Ce?F[Qe].el:de;for(;he<=Le;)I(null,F[he]=_e?cloneIfMounted(F[he]):normalizeVNode(F[he]),X,gt,ie,Te,Ae,ve,_e),he++}}else if(he>Le)for(;he<=He;)qr(C[he],ie,Te,!0),he++;else{const Qe=he,gt=he,Ot=new Map;for(he=gt;he<=Le;he++){const Me=F[he]=_e?cloneIfMounted(F[he]):normalizeVNode(F[he]);Me.key!=null&&Ot.set(Me.key,he)}let Wt,Ie=0;const Yr=Le-gt+1;let Pn=!1,Gs=0;const si=new Array(Yr);for(he=0;he<Yr;he++)si[he]=0;for(he=Qe;he<=He;he++){const Me=C[he];if(Ie>=Yr){qr(Me,ie,Te,!0);continue}let Xr;if(Me.key!=null)Xr=Ot.get(Me.key);else for(Wt=gt;Wt<=Le;Wt++)if(si[Wt-gt]===0&&isSameVNodeType(Me,F[Wt])){Xr=Wt;break}Xr===void 0?qr(Me,ie,Te,!0):(si[Xr-gt]=he+1,Xr>=Gs?Gs=Xr:Pn=!0,I(Me,F[Xr],X,null,ie,Te,Ae,ve,_e),Ie++)}const qs=Pn?getSequence(si):EMPTY_ARR;for(Wt=qs.length-1,he=Yr-1;he>=0;he--){const Me=gt+he,Xr=F[Me],Jo=Me+1<Ce?F[Me+1].el:de;si[he]===0?I(null,Xr,X,Jo,ie,Te,Ae,ve,_e):Pn&&(Wt<0||he!==qs[Wt]?Ht(Xr,X,Jo,2):Wt--)}}},Ht=(C,F,X,de,ie=null)=>{const{el:Te,type:Ae,transition:ve,children:_e,shapeFlag:he}=C;if(he&6){Ht(C.component.subTree,F,X,de);return}if(he&128){C.suspense.move(F,X,de);return}if(he&64){Ae.move(C,F,X,Kr);return}if(Ae===Fragment){o(Te,F,X);for(let He=0;He<_e.length;He++)Ht(_e[He],F,X,de);o(C.anchor,F,X);return}if(Ae===Static){G(C,F,X);return}if(de!==2&&he&1&&ve)if(de===0)ve.beforeEnter(Te),o(Te,F,X),queuePostRenderEffect(()=>ve.enter(Te),ie);else{const{leave:He,delayLeave:Le,afterLeave:Qe}=ve,gt=()=>o(Te,F,X),Ot=()=>{He(Te,()=>{gt(),Qe&&Qe()})};Le?Le(Te,gt,Ot):Ot()}else o(Te,F,X)},qr=(C,F,X,de=!1,ie=!1)=>{const{type:Te,props:Ae,ref:ve,children:_e,dynamicChildren:he,shapeFlag:Ce,patchFlag:He,dirs:Le}=C;if(ve!=null&&setRef(ve,null,X,C,!0),Ce&256){F.ctx.deactivate(C);return}const Qe=Ce&1&&Le,gt=!isAsyncWrapper(C);let Ot;if(gt&&(Ot=Ae&&Ae.onVnodeBeforeUnmount)&&invokeVNodeHook(Ot,F,C),Ce&6)nn(C.component,X,de);else{if(Ce&128){C.suspense.unmount(X,de);return}Qe&&invokeDirectiveHook(C,null,F,"beforeUnmount"),Ce&64?C.type.remove(C,F,X,ie,Kr,de):he&&(Te!==Fragment||He>0&&He&64)?Or(he,F,X,!1,!0):(Te===Fragment&&He&384||!ie&&Ce&16)&&Or(_e,F,X),de&&Mo(C)}(gt&&(Ot=Ae&&Ae.onVnodeUnmounted)||Qe)&&queuePostRenderEffect(()=>{Ot&&invokeVNodeHook(Ot,F,C),Qe&&invokeDirectiveHook(C,null,F,"unmounted")},X)},Mo=C=>{const{type:F,el:X,anchor:de,transition:ie}=C;if(F===Fragment){oi(X,de);return}if(F===Static){pe(C);return}const Te=()=>{a(X),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(C.shapeFlag&1&&ie&&!ie.persisted){const{leave:Ae,delayLeave:ve}=ie,_e=()=>Ae(X,Te);ve?ve(C.el,Te,_e):_e()}else Te()},oi=(C,F)=>{let X;for(;C!==F;)X=g(C),a(C),C=X;a(F)},nn=(C,F,X)=>{const{bum:de,scope:ie,update:Te,subTree:Ae,um:ve}=C;de&&invokeArrayFns(de),ie.stop(),Te&&(Te.active=!1,qr(Ae,C,F,X)),ve&&queuePostRenderEffect(ve,F),queuePostRenderEffect(()=>{C.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Or=(C,F,X,de=!1,ie=!1,Te=0)=>{for(let Ae=Te;Ae<C.length;Ae++)qr(C[Ae],F,X,de,ie)},on=C=>C.shapeFlag&6?on(C.component.subTree):C.shapeFlag&128?C.suspense.next():g(C.anchor||C.el);let vr=!1;const Kt=(C,F,X)=>{C==null?F._vnode&&qr(F._vnode,null,null,!0):I(F._vnode||null,C,F,null,null,null,X),vr||(vr=!0,flushPreFlushCbs(),flushPostFlushCbs(),vr=!1),F._vnode=C},Kr={p:I,um:qr,m:Ht,r:Mo,mt:et,mc:yt,pc:st,pbc:Bt,n:on,o:e};let In,An;return t&&([In,An]=t(Kr)),{render:Kt,hydrate:In,createApp:createAppAPI(Kt,In)}}function resolveChildrenNamespace({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,r=!1){const o=e.children,a=t.children;if(isArray(o)&&isArray(a))for(let n=0;n<o.length;n++){const s=o[n];let d=a[n];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=a[n]=cloneIfMounted(a[n]),d.el=s.el),r||traverseStaticChildren(s,d)),d.type===Text&&(d.el=s.el)}}function getSequence(e){const t=e.slice(),r=[0];let o,a,n,s,d;const h=e.length;for(o=0;o<h;o++){const i=e[o];if(i!==0){if(a=r[r.length-1],e[a]<i){t[o]=a,r.push(o);continue}for(n=0,s=r.length-1;n<s;)d=n+s>>1,e[r[d]]<i?n=d+1:s=d;i<e[r[n]]&&(n>0&&(t[o]=r[n-1]),r[n]=o)}}for(n=r.length,s=r[n-1];n-- >0;)r[n]=s,s=t[s];return r}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,o,a,n){return setupBlock(createBaseVNode(e,t,r,o,a,n,!0))}function createBlock(e,t,r,o,a){return setupBlock(createVNode(e,t,r,o,a,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null);function createBaseVNode(e,t=null,r=null,o=0,a=null,n=e===Fragment?0:1,s=!1,d=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return d?(normalizeChildren(h,r),n&128&&e.normalize(h)):r&&(h.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(h.patchFlag>0||n&6)&&h.patchFlag!==32&&currentBlock.push(h),h}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,o=0,a=null,n=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const d=cloneVNode(e,t,!0);return r&&normalizeChildren(d,r),isBlockTreeEnabled>0&&!n&&currentBlock&&(d.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=d:currentBlock.push(d)),d.patchFlag|=-2,d}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:d,style:h}=t;d&&!isString(d)&&(t.class=normalizeClass(d)),isObject(h)&&(isProxy(h)&&!isArray(h)&&(h=extend({},h)),t.style=normalizeStyle(h))}const s=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,r,o,a,s,n,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,r=!1){const{props:o,ref:a,patchFlag:n,children:s}=e,d=t?mergeProps(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?r&&a?isArray(a)?a.concat(normalizeRef(t)):[a,normalizeRef(t)]:normalizeRef(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(isArray(t))r=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),o&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if(a==="style")t.style=normalizeStyle([t.style,o.style]);else if(isOn(a)){const n=t[a],s=o[a];s&&n!==s&&!(isArray(n)&&n.includes(s))&&(t[a]=n?[].concat(n,s):s)}else a!==""&&(t[a]=o[a])}return t}function invokeVNodeHook(e,t,r,o=null){callWithAsyncErrorHandling(e,t,7,[r,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,r){const o=e.type,a=(t?t.appContext:e.appContext)||emptyAppContext,n={uid:uid++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,a),emitsOptions:normalizeEmitsOptions(o,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=emit.bind(null,n),e.ce&&e.ce(n),n}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(r,o)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(o),n=>{a.length>1?a.forEach(s=>s(n)):a[0](n)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",r=>currentInstance=r),setInSSRSetupState=t("__VUE_SSR_SETTERS__",r=>isInSSRComponentSetup=r)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){t&&setInSSRSetupState(t);const{props:r,children:o}=e.vnode,a=isStatefulComponent(e);initProps(e,r,a,t),initSlots(e,o);const n=a?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),n}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:o}=r;if(o){const a=e.setupContext=o.length>1?createSetupContext(e):null,n=setCurrentInstance(e);pauseTracking();const s=callWithErrorHandling(o,e,0,[e.props,a]);if(resetTracking(),n(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(d=>{handleSetupResult(e,d,t)}).catch(d=>{handleError(d,e,0)});e.asyncDep=s}else handleSetupResult(e,s,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const o=e.type;if(!e.render){if(!t&&compile&&!o.render){const a=o.template||resolveMergedOptions(e).template;if(a){const{isCustomElement:n,compilerOptions:s}=e.appContext.config,{delimiters:d,compilerOptions:h}=o,i=extend(extend({isCustomElement:n,delimiters:d},s),h);o.render=compile(a,i)}}e.render=o.render||NOOP}{const a=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),a()}}}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return track(e,"get","$attrs"),t[r]}}))}function createSetupContext(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,r=!1){let o=getComponentName(t);if(!o&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(o=a[1])}if(!o&&e&&e.parent){const a=n=>{for(const s in n)if(n[s]===t)return s};o=a(e.components||e.parent.type.components)||a(e.appContext.components)}return o?classify(o):r?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),version="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const a=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,o,a,n){const s=r?r.previousSibling:t.lastChild;if(a&&(a===n||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===n||!(a=a.nextSibling)););else{templateContainer.innerHTML=o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e;const d=templateContainer.content;if(o==="svg"||o==="mathml"){const h=d.firstChild;for(;h.firstChild;)d.appendChild(h.firstChild);d.removeChild(h)}t.insertBefore(d,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,r){const o=e[vtcKey];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const vShowOldKey=Symbol("_vod"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,r){const o=e.style,a=isString(r),n=o.display;let s=!1;if(r&&!a){if(t&&!isString(t))for(const d in t)r[d]==null&&setStyle(o,d,"");for(const d in r)d==="display"&&(s=!0),setStyle(o,d,r[d])}else if(a){if(t!==r){const d=o[CSS_VAR_TEXT];d&&(r+=";"+d),o.cssText=r,s=displayRE.test(r)}}else t&&e.removeAttribute("style");vShowOldKey in e&&(e[vShowOldKey]=s?o.display:"",o.display=n)}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray(r))r.forEach(o=>setStyle(e,t,o));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const o=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(o),r.replace(importantRE,""),"important"):e[o]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let o=camelize(t);if(o!=="filter"&&o in e)return prefixCache[t]=o;o=capitalize(o);for(let a=0;a<prefixes.length;a++){const n=prefixes[a]+o;if(n in e)return prefixCache[t]=n}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,o,a){if(o&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const n=isSpecialBooleanAttr(t);r==null||n&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function patchDOMProp(e,t,r,o,a,n,s){if(t==="innerHTML"||t==="textContent"){o&&s(o,a,n),e[t]=r??"";return}const d=e.tagName;if(t==="value"&&d!=="PROGRESS"&&!d.includes("-")){e._value=r;const i=d==="OPTION"?e.getAttribute("value"):e.value,l=r??"";i!==l&&(e.value=l),r==null&&e.removeAttribute(t);return}let h=!1;if(r===""||r==null){const i=typeof e[t];i==="boolean"?r=includeBooleanAttr(r):r==null&&i==="string"?(r="",h=!0):i==="number"&&(r=0,h=!0)}try{e[t]=r}catch{}h&&e.removeAttribute(t)}function addEventListener(e,t,r,o){e.addEventListener(t,r,o)}function removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}const veiKey=Symbol("_vei");function patchEvent(e,t,r,o,a=null){const n=e[veiKey]||(e[veiKey]={}),s=n[t];if(o&&s)s.value=o;else{const[d,h]=parseName(t);if(o){const i=n[t]=createInvoker(o,a);addEventListener(e,d,i,h)}else s&&(removeEventListener(e,d,s,h),n[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let o;for(;o=e.match(optionsModifierRE);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,r.value),t,5,[o])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,r,o,a,n,s,d,h)=>{const i=a==="svg";t==="class"?patchClass(e,o,i):t==="style"?patchStyle(e,r,o):isOn(t)?isModelListener(t)||patchEvent(e,t,r,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,o,i))?patchDOMProp(e,t,o,n,s,d,h):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),patchAttr(e,t,o,i))};function shouldSetAsProp(e,t,r,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return isNativeOn(t)&&isString(r)?!1:t in e}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=o=>{const a=normalizeContainer(o);if(!a)return;const n=t._component;!isFunction(n)&&!n.render&&!n.template&&(n.template=a.innerHTML),a.innerHTML="";const s=r(a,!1,resolveRootNamespace(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,t){(function(){var r,o="4.17.21",a=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",i=500,l="__lodash_placeholder__",c=1,g=2,y=4,S=1,I=2,A=1,H=2,N=4,G=8,pe=16,Ne=32,ze=64,Tt=128,yt=256,Ue=512,Bt=30,ni="...",ii=800,On=16,et=1,er=2,fr=3,at=1/0,st=9007199254740991,qt=17976931348623157e292,Sr=NaN,Ht=4294967295,qr=Ht-1,Mo=Ht>>>1,oi=[["ary",Tt],["bind",A],["bindKey",H],["curry",G],["curryRight",pe],["flip",Ue],["partial",Ne],["partialRight",ze],["rearg",yt]],nn="[object Arguments]",Or="[object Array]",on="[object AsyncFunction]",vr="[object Boolean]",Kt="[object Date]",Kr="[object DOMException]",In="[object Error]",An="[object Function]",C="[object GeneratorFunction]",F="[object Map]",X="[object Number]",de="[object Null]",ie="[object Object]",Te="[object Promise]",Ae="[object Proxy]",ve="[object RegExp]",_e="[object Set]",he="[object String]",Ce="[object Symbol]",He="[object Undefined]",Le="[object WeakMap]",Qe="[object WeakSet]",gt="[object ArrayBuffer]",Ot="[object DataView]",Wt="[object Float32Array]",Ie="[object Float64Array]",Yr="[object Int8Array]",Pn="[object Int16Array]",Gs="[object Int32Array]",si="[object Uint8Array]",qs="[object Uint8ClampedArray]",Me="[object Uint16Array]",Xr="[object Uint32Array]",Jo=/\b__p \+= '';/g,_a=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,ne=RegExp(M.source),ke=RegExp(j.source),Je=/<%-([\s\S]+?)%>/g,Dt=/<%([\s\S]+?)%>/g,jr=/<%=([\s\S]+?)%>/g,jn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vn=/^\w*$/,_n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/[\\^$.*+?()[\]{}|]/g,Ga=RegExp(wa.source),J=/^\s+/,Gt=/\s/,_r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cs=/\{\n\/\* \[wrapped with (.+)\] \*/,eu=/,? & /,Lg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mg=/[()=,{}\[\]\/\s]/,Bg=/\\(\\)?/g,kd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ru=/\w*$/,Fd=/^[-+]0x[0-9a-f]+$/i,Da=/^0b[01]+$/i,Ug=/^\[object .+?Constructor\]$/,jg=/^0o[0-7]+$/i,Vg=/^(?:0|[1-9]\d*)$/,Zg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nu=/($^)/,Md=/['\n\r\u2028\u2029\\]/g,Ra="\\ud800-\\udfff",zg="\\u0300-\\u036f",Bd="\\ufe20-\\ufe2f",Hg="\\u20d0-\\u20ff",Ud=zg+Bd+Hg,zd="\\u2700-\\u27bf",Gd="a-z\\xdf-\\xf6\\xf8-\\xff",Wg="\\xac\\xb1\\xd7\\xf7",jy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gg="\\u2000-\\u206f",qg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sp="A-Z\\xc0-\\xd6\\xd8-\\xde",Kg="\\ufe0e\\ufe0f",Yg=Wg+jy+Gg+qg,mu="['’]",Vy="["+Ra+"]",Xg="["+Yg+"]",qe="["+Ud+"]",Ip="\\d+",yu="["+zd+"]",$p="["+Gd+"]",Fp="[^"+Ra+Yg+Ip+zd+Gd+Sp+"]",bu="\\ud83c[\\udffb-\\udfff]",oh="(?:"+qe+"|"+bu+")",wu="[^"+Ra+"]",xu="(?:\\ud83c[\\udde6-\\uddff]){2}",Ou="[\\ud800-\\udbff][\\udc00-\\udfff]",xa="["+Sp+"]",Su="\\u200d",iu="(?:"+$p+"|"+Fp+")",uh="(?:"+xa+"|"+Fp+")",Jg="(?:"+mu+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+mu+"(?:D|LL|M|RE|S|T|VE))?",_h=oh+"?",v="["+Kg+"]?",O="(?:"+Su+"(?:"+[wu,xu,Ou].join("|")+")"+v+_h+")*",D="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",K="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",we=v+_h+O,Se="(?:"+[yu,xu,Ou].join("|")+")"+we,je="(?:"+[wu+qe+"?",qe,xu,Ou,Vy].join("|")+")",Ir=RegExp(mu,"g"),Rs=RegExp(qe,"g"),Zr=RegExp(bu+"(?="+bu+")|"+je+we,"g"),Yn=RegExp([xa+"?"+$p+"+"+Jg+"(?="+[Xg,xa,"$"].join("|")+")",uh+"+"+ou+"(?="+[Xg,xa+iu,"$"].join("|")+")",xa+"?"+iu+"+"+Jg,xa+"+"+ou,K,D,Ip,Se].join("|"),"g"),Qg=RegExp("["+Su+Ra+Ud+Kg+"]"),em=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tr=-1,ct={};ct[Wt]=ct[Ie]=ct[Yr]=ct[Pn]=ct[Gs]=ct[si]=ct[qs]=ct[Me]=ct[Xr]=!0,ct[nn]=ct[Or]=ct[gt]=ct[vr]=ct[Ot]=ct[Kt]=ct[In]=ct[An]=ct[F]=ct[X]=ct[ie]=ct[ve]=ct[_e]=ct[he]=ct[Le]=!1;var Mt={};Mt[nn]=Mt[Or]=Mt[gt]=Mt[Ot]=Mt[vr]=Mt[Kt]=Mt[Wt]=Mt[Ie]=Mt[Yr]=Mt[Pn]=Mt[Gs]=Mt[F]=Mt[X]=Mt[ie]=Mt[ve]=Mt[_e]=Mt[he]=Mt[Ce]=Mt[si]=Mt[qs]=Mt[Me]=Mt[Xr]=!0,Mt[In]=Mt[An]=Mt[Le]=!1;var ey={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},aw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cw=parseFloat,fw=parseInt,X0=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,dw=typeof self=="object"&&self&&self.Object===Object&&self,Hn=X0||dw||Function("return this")(),Zy=t&&!t.nodeType&&t,su=Zy&&!0&&e&&!e.nodeType&&e,J0=su&&su.exports===Zy,zy=J0&&X0.process,Ns=function(){try{var B=su&&su.require&&su.require("util").types;return B||zy&&zy.binding&&zy.binding("util")}catch{}}(),Q0=Ns&&Ns.isArrayBuffer,ev=Ns&&Ns.isDate,tv=Ns&&Ns.isMap,rv=Ns&&Ns.isRegExp,nv=Ns&&Ns.isSet,iv=Ns&&Ns.isTypedArray;function Bo(B,Q,Y){switch(Y.length){case 0:return B.call(Q);case 1:return B.call(Q,Y[0]);case 2:return B.call(Q,Y[0],Y[1]);case 3:return B.call(Q,Y[0],Y[1],Y[2])}return B.apply(Q,Y)}function pw(B,Q,Y,Be){for(var xt=-1,Yt=B==null?0:B.length;++xt<Yt;){var wn=B[xt];Q(Be,wn,Y(wn),B)}return Be}function Bs(B,Q){for(var Y=-1,Be=B==null?0:B.length;++Y<Be&&Q(B[Y],Y,B)!==!1;);return B}function hw(B,Q){for(var Y=B==null?0:B.length;Y--&&Q(B[Y],Y,B)!==!1;);return B}function ov(B,Q){for(var Y=-1,Be=B==null?0:B.length;++Y<Be;)if(!Q(B[Y],Y,B))return!1;return!0}function Na(B,Q){for(var Y=-1,Be=B==null?0:B.length,xt=0,Yt=[];++Y<Be;){var wn=B[Y];Q(wn,Y,B)&&(Yt[xt++]=wn)}return Yt}function ty(B,Q){var Y=B==null?0:B.length;return!!Y&&Eu(B,Q,0)>-1}function Hy(B,Q,Y){for(var Be=-1,xt=B==null?0:B.length;++Be<xt;)if(Y(Q,B[Be]))return!0;return!1}function Ar(B,Q){for(var Y=-1,Be=B==null?0:B.length,xt=Array(Be);++Y<Be;)xt[Y]=Q(B[Y],Y,B);return xt}function ka(B,Q){for(var Y=-1,Be=Q.length,xt=B.length;++Y<Be;)B[xt+Y]=Q[Y];return B}function Wy(B,Q,Y,Be){var xt=-1,Yt=B==null?0:B.length;for(Be&&Yt&&(Y=B[++xt]);++xt<Yt;)Y=Q(Y,B[xt],xt,B);return Y}function gw(B,Q,Y,Be){var xt=B==null?0:B.length;for(Be&&xt&&(Y=B[--xt]);xt--;)Y=Q(Y,B[xt],xt,B);return Y}function Gy(B,Q){for(var Y=-1,Be=B==null?0:B.length;++Y<Be;)if(Q(B[Y],Y,B))return!0;return!1}var mw=qy("length");function yw(B){return B.split("")}function bw(B){return B.match(Lg)||[]}function sv(B,Q,Y){var Be;return Y(B,function(xt,Yt,wn){if(Q(xt,Yt,wn))return Be=Yt,!1}),Be}function ry(B,Q,Y,Be){for(var xt=B.length,Yt=Y+(Be?1:-1);Be?Yt--:++Yt<xt;)if(Q(B[Yt],Yt,B))return Yt;return-1}function Eu(B,Q,Y){return Q===Q?Cw(B,Q,Y):ry(B,av,Y)}function vw(B,Q,Y,Be){for(var xt=Y-1,Yt=B.length;++xt<Yt;)if(Be(B[xt],Q))return xt;return-1}function av(B){return B!==B}function uv(B,Q){var Y=B==null?0:B.length;return Y?Yy(B,Q)/Y:Sr}function qy(B){return function(Q){return Q==null?r:Q[B]}}function Ky(B){return function(Q){return B==null?r:B[Q]}}function lv(B,Q,Y,Be,xt){return xt(B,function(Yt,wn,wr){Y=Be?(Be=!1,Yt):Q(Y,Yt,wn,wr)}),Y}function _w(B,Q){var Y=B.length;for(B.sort(Q);Y--;)B[Y]=B[Y].value;return B}function Yy(B,Q){for(var Y,Be=-1,xt=B.length;++Be<xt;){var Yt=Q(B[Be]);Yt!==r&&(Y=Y===r?Yt:Y+Yt)}return Y}function Xy(B,Q){for(var Y=-1,Be=Array(B);++Y<B;)Be[Y]=Q(Y);return Be}function ww(B,Q){return Ar(Q,function(Y){return[Y,B[Y]]})}function cv(B){return B&&B.slice(0,hv(B)+1).replace(J,"")}function Uo(B){return function(Q){return B(Q)}}function Jy(B,Q){return Ar(Q,function(Y){return B[Y]})}function og(B,Q){return B.has(Q)}function fv(B,Q){for(var Y=-1,Be=B.length;++Y<Be&&Eu(Q,B[Y],0)>-1;);return Y}function dv(B,Q){for(var Y=B.length;Y--&&Eu(Q,B[Y],0)>-1;);return Y}function xw(B,Q){for(var Y=B.length,Be=0;Y--;)B[Y]===Q&&++Be;return Be}var Tw=Ky(ey),Ow=Ky(aw);function Sw(B){return"\\"+lw[B]}function Ew(B,Q){return B==null?r:B[Q]}function Au(B){return Qg.test(B)}function Iw(B){return em.test(B)}function Aw(B){for(var Q,Y=[];!(Q=B.next()).done;)Y.push(Q.value);return Y}function Qy(B){var Q=-1,Y=Array(B.size);return B.forEach(function(Be,xt){Y[++Q]=[xt,Be]}),Y}function pv(B,Q){return function(Y){return B(Q(Y))}}function Fa(B,Q){for(var Y=-1,Be=B.length,xt=0,Yt=[];++Y<Be;){var wn=B[Y];(wn===Q||wn===l)&&(B[Y]=l,Yt[xt++]=Y)}return Yt}function ny(B){var Q=-1,Y=Array(B.size);return B.forEach(function(Be){Y[++Q]=Be}),Y}function Pw(B){var Q=-1,Y=Array(B.size);return B.forEach(function(Be){Y[++Q]=[Be,Be]}),Y}function Cw(B,Q,Y){for(var Be=Y-1,xt=B.length;++Be<xt;)if(B[Be]===Q)return Be;return-1}function $w(B,Q,Y){for(var Be=Y+1;Be--;)if(B[Be]===Q)return Be;return Be}function Lu(B){return Au(B)?Rw(B):mw(B)}function Ks(B){return Au(B)?Nw(B):yw(B)}function hv(B){for(var Q=B.length;Q--&&Gt.test(B.charAt(Q)););return Q}var Dw=Ky(uw);function Rw(B){for(var Q=Zr.lastIndex=0;Zr.test(B);)++Q;return Q}function Nw(B){return B.match(Zr)||[]}function kw(B){return B.match(Yn)||[]}var Fw=function B(Q){Q=Q==null?Hn:Zu.defaults(Hn.Object(),Q,Zu.pick(Hn,re));var Y=Q.Array,Be=Q.Date,xt=Q.Error,Yt=Q.Function,wn=Q.Math,wr=Q.Object,Zb=Q.RegExp,Lw=Q.String,js=Q.TypeError,iy=Y.prototype,Mw=Yt.prototype,gd=wr.prototype,oy=Q["__core-js_shared__"],sy=Mw.toString,lr=gd.hasOwnProperty,Bw=0,gv=function(){var u=/[^.]+$/.exec(oy&&oy.keys&&oy.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ay=gd.toString,Uw=sy.call(wr),jw=Hn._,Vw=Zb("^"+sy.call(lr).replace(wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uy=J0?Q.Buffer:r,La=Q.Symbol,ly=Q.Uint8Array,mv=uy?uy.allocUnsafe:r,cy=pv(wr.getPrototypeOf,wr),yv=wr.create,bv=gd.propertyIsEnumerable,fy=iy.splice,vv=La?La.isConcatSpreadable:r,mg=La?La.iterator:r,au=La?La.toStringTag:r,dy=function(){try{var u=pu(wr,"defineProperty");return u({},"",{}),u}catch{}}(),Zw=Q.clearTimeout!==Hn.clearTimeout&&Q.clearTimeout,zw=Be&&Be.now!==Hn.Date.now&&Be.now,Hw=Q.setTimeout!==Hn.setTimeout&&Q.setTimeout,py=wn.ceil,hy=wn.floor,e0=wr.getOwnPropertySymbols,Ww=uy?uy.isBuffer:r,_v=Q.isFinite,Gw=iy.join,qw=pv(wr.keys,wr),xn=wn.max,ti=wn.min,Kw=Be.now,Yw=Q.parseInt,wv=wn.random,Xw=iy.reverse,t0=pu(Q,"DataView"),bg=pu(Q,"Map"),r0=pu(Q,"Promise"),md=pu(Q,"Set"),vg=pu(Q,"WeakMap"),_g=pu(wr,"create"),gy=vg&&new vg,yd={},Jw=hu(t0),Qw=hu(bg),e1=hu(r0),t1=hu(md),r1=hu(vg),my=La?La.prototype:r,wg=my?my.valueOf:r,xv=my?my.toString:r;function x(u){if(Hr(u)&&!Et(u)&&!(u instanceof Nt)){if(u instanceof Vs)return u;if(lr.call(u,"__wrapped__"))return T_(u)}return new Vs(u)}var bd=function(){function u(){}return function(f){if(!Fr(f))return{};if(yv)return yv(f);u.prototype=f;var m=new u;return u.prototype=r,m}}();function yy(){}function Vs(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=r}x.templateSettings={escape:Je,evaluate:Dt,interpolate:jr,variable:"",imports:{_:x}},x.prototype=yy.prototype,x.prototype.constructor=x,Vs.prototype=bd(yy.prototype),Vs.prototype.constructor=Vs;function Nt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}function n1(){var u=new Nt(this.__wrapped__);return u.__actions__=fi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=fi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=fi(this.__views__),u}function i1(){if(this.__filtered__){var u=new Nt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function o1(){var u=this.__wrapped__.value(),f=this.__dir__,m=Et(u),b=f<0,w=m?u.length:0,T=yx(0,w,this.__views__),P=T.start,k=T.end,V=k-P,se=b?k:P-1,ue=this.__iteratees__,ge=ue.length,$e=0,Ze=ti(V,this.__takeCount__);if(!m||!b&&w==V&&Ze==V)return Wv(u,this.__actions__);var it=[];e:for(;V--&&$e<Ze;){se+=f;for(var At=-1,ot=u[se];++At<ge;){var Rt=ue[At],Lt=Rt.iteratee,Wo=Rt.type,ci=Lt(ot);if(Wo==er)ot=ci;else if(!ci){if(Wo==et)continue e;break e}}it[$e++]=ot}return it}Nt.prototype=bd(yy.prototype),Nt.prototype.constructor=Nt;function uu(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function s1(){this.__data__=_g?_g(null):{},this.size=0}function a1(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function u1(u){var f=this.__data__;if(_g){var m=f[u];return m===h?r:m}return lr.call(f,u)?f[u]:r}function l1(u){var f=this.__data__;return _g?f[u]!==r:lr.call(f,u)}function c1(u,f){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=_g&&f===r?h:f,this}uu.prototype.clear=s1,uu.prototype.delete=a1,uu.prototype.get=u1,uu.prototype.has=l1,uu.prototype.set=c1;function Ta(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function f1(){this.__data__=[],this.size=0}function d1(u){var f=this.__data__,m=by(f,u);if(m<0)return!1;var b=f.length-1;return m==b?f.pop():fy.call(f,m,1),--this.size,!0}function p1(u){var f=this.__data__,m=by(f,u);return m<0?r:f[m][1]}function h1(u){return by(this.__data__,u)>-1}function g1(u,f){var m=this.__data__,b=by(m,u);return b<0?(++this.size,m.push([u,f])):m[b][1]=f,this}Ta.prototype.clear=f1,Ta.prototype.delete=d1,Ta.prototype.get=p1,Ta.prototype.has=h1,Ta.prototype.set=g1;function Oa(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function m1(){this.size=0,this.__data__={hash:new uu,map:new(bg||Ta),string:new uu}}function y1(u){var f=Cy(this,u).delete(u);return this.size-=f?1:0,f}function b1(u){return Cy(this,u).get(u)}function v1(u){return Cy(this,u).has(u)}function _1(u,f){var m=Cy(this,u),b=m.size;return m.set(u,f),this.size+=m.size==b?0:1,this}Oa.prototype.clear=m1,Oa.prototype.delete=y1,Oa.prototype.get=b1,Oa.prototype.has=v1,Oa.prototype.set=_1;function lu(u){var f=-1,m=u==null?0:u.length;for(this.__data__=new Oa;++f<m;)this.add(u[f])}function w1(u){return this.__data__.set(u,h),this}function x1(u){return this.__data__.has(u)}lu.prototype.add=lu.prototype.push=w1,lu.prototype.has=x1;function ia(u){var f=this.__data__=new Ta(u);this.size=f.size}function T1(){this.__data__=new Ta,this.size=0}function O1(u){var f=this.__data__,m=f.delete(u);return this.size=f.size,m}function S1(u){return this.__data__.get(u)}function E1(u){return this.__data__.has(u)}function I1(u,f){var m=this.__data__;if(m instanceof Ta){var b=m.__data__;if(!bg||b.length<a-1)return b.push([u,f]),this.size=++m.size,this;m=this.__data__=new Oa(b)}return m.set(u,f),this.size=m.size,this}ia.prototype.clear=T1,ia.prototype.delete=O1,ia.prototype.get=S1,ia.prototype.has=E1,ia.prototype.set=I1;function Tv(u,f){var m=Et(u),b=!m&&gu(u),w=!m&&!b&&za(u),T=!m&&!b&&!w&&Rd(u),P=m||b||w||T,k=P?Xy(u.length,Lw):[],V=k.length;for(var se in u)(f||lr.call(u,se))&&!(P&&(se=="length"||w&&(se=="offset"||se=="parent")||T&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||Aa(se,V)))&&k.push(se);return k}function Ov(u){var f=u.length;return f?u[p0(0,f-1)]:r}function A1(u,f){return $y(fi(u),cu(f,0,u.length))}function P1(u){return $y(fi(u))}function n0(u,f,m){(m!==r&&!oa(u[f],m)||m===r&&!(f in u))&&Sa(u,f,m)}function Og(u,f,m){var b=u[f];(!(lr.call(u,f)&&oa(b,m))||m===r&&!(f in u))&&Sa(u,f,m)}function by(u,f){for(var m=u.length;m--;)if(oa(u[m][0],f))return m;return-1}function C1(u,f,m,b){return Ma(u,function(w,T,P){f(b,w,m(w),P)}),b}function Sv(u,f){return u&&ba(f,Sn(f),u)}function $1(u,f){return u&&ba(f,Ro(f),u)}function Sa(u,f,m){f=="__proto__"&&dy?dy(u,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[f]=m}function i0(u,f){for(var m=-1,b=f.length,w=Y(b),T=u==null;++m<b;)w[m]=T?r:M0(u,f[m]);return w}function cu(u,f,m){return u===u&&(m!==r&&(u=u<=m?u:m),f!==r&&(u=u>=f?u:f)),u}function Zs(u,f,m,b,w,T){var P,k=f&c,V=f&g,se=f&y;if(m&&(P=w?m(u,b,w,T):m(u)),P!==r)return P;if(!Fr(u))return u;var ue=Et(u);if(ue){if(P=vx(u),!k)return fi(u,P)}else{var ge=ri(u),$e=ge==An||ge==C;if(za(u))return Kv(u,k);if(ge==ie||ge==nn||$e&&!w){if(P=V||$e?{}:h_(u),!k)return V?ux(u,$1(P,u)):ax(u,Sv(P,u))}else{if(!Mt[ge])return w?u:{};P=_x(u,ge,k)}}T||(T=new ia);var Ze=T.get(u);if(Ze)return Ze;T.set(u,P),Z_(u)?u.forEach(function(ot){P.add(Zs(ot,f,m,ot,u,T))}):j_(u)&&u.forEach(function(ot,Rt){P.set(Rt,Zs(ot,f,m,Rt,u,T))});var it=se?V?O0:T0:V?Ro:Sn,At=ue?r:it(u);return Bs(At||u,function(ot,Rt){At&&(Rt=ot,ot=u[Rt]),Og(P,Rt,Zs(ot,f,m,Rt,u,T))}),P}function D1(u){var f=Sn(u);return function(m){return Ev(m,u,f)}}function Ev(u,f,m){var b=m.length;if(u==null)return!b;for(u=wr(u);b--;){var w=m[b],T=f[w],P=u[w];if(P===r&&!(w in u)||!T(P))return!1}return!0}function Iv(u,f,m){if(typeof u!="function")throw new js(s);return $g(function(){u.apply(r,m)},f)}function Sg(u,f,m,b){var w=-1,T=ty,P=!0,k=u.length,V=[],se=f.length;if(!k)return V;m&&(f=Ar(f,Uo(m))),b?(T=Hy,P=!1):f.length>=a&&(T=og,P=!1,f=new lu(f));e:for(;++w<k;){var ue=u[w],ge=m==null?ue:m(ue);if(ue=b||ue!==0?ue:0,P&&ge===ge){for(var $e=se;$e--;)if(f[$e]===ge)continue e;V.push(ue)}else T(f,ge,b)||V.push(ue)}return V}var Ma=e_(ya),Av=e_(s0,!0);function R1(u,f){var m=!0;return Ma(u,function(b,w,T){return m=!!f(b,w,T),m}),m}function vy(u,f,m){for(var b=-1,w=u.length;++b<w;){var T=u[b],P=f(T);if(P!=null&&(k===r?P===P&&!zo(P):m(P,k)))var k=P,V=T}return V}function N1(u,f,m,b){var w=u.length;for(m=It(m),m<0&&(m=-m>w?0:w+m),b=b===r||b>w?w:It(b),b<0&&(b+=w),b=m>b?0:H_(b);m<b;)u[m++]=f;return u}function Pv(u,f){var m=[];return Ma(u,function(b,w,T){f(b,w,T)&&m.push(b)}),m}function qn(u,f,m,b,w){var T=-1,P=u.length;for(m||(m=xx),w||(w=[]);++T<P;){var k=u[T];f>0&&m(k)?f>1?qn(k,f-1,m,b,w):ka(w,k):b||(w[w.length]=k)}return w}var o0=t_(),Cv=t_(!0);function ya(u,f){return u&&o0(u,f,Sn)}function s0(u,f){return u&&Cv(u,f,Sn)}function _y(u,f){return Na(f,function(m){return Pa(u[m])})}function du(u,f){f=Ua(f,u);for(var m=0,b=f.length;u!=null&&m<b;)u=u[va(f[m++])];return m&&m==b?u:r}function $v(u,f,m){var b=f(u);return Et(u)?b:ka(b,m(u))}function ai(u){return u==null?u===r?He:de:au&&au in wr(u)?mx(u):Px(u)}function a0(u,f){return u>f}function k1(u,f){return u!=null&&lr.call(u,f)}function F1(u,f){return u!=null&&f in wr(u)}function L1(u,f,m){return u>=ti(f,m)&&u<xn(f,m)}function u0(u,f,m){for(var b=m?Hy:ty,w=u[0].length,T=u.length,P=T,k=Y(T),V=1/0,se=[];P--;){var ue=u[P];P&&f&&(ue=Ar(ue,Uo(f))),V=ti(ue.length,V),k[P]=!m&&(f||w>=120&&ue.length>=120)?new lu(P&&ue):r}ue=u[0];var ge=-1,$e=k[0];e:for(;++ge<w&&se.length<V;){var Ze=ue[ge],it=f?f(Ze):Ze;if(Ze=m||Ze!==0?Ze:0,!($e?og($e,it):b(se,it,m))){for(P=T;--P;){var At=k[P];if(!(At?og(At,it):b(u[P],it,m)))continue e}$e&&$e.push(it),se.push(Ze)}}return se}function M1(u,f,m,b){return ya(u,function(w,T,P){f(b,m(w),T,P)}),b}function Eg(u,f,m){f=Ua(f,u),u=b_(u,f);var b=u==null?u:u[va(Hs(f))];return b==null?r:Bo(b,u,m)}function Dv(u){return Hr(u)&&ai(u)==nn}function B1(u){return Hr(u)&&ai(u)==gt}function U1(u){return Hr(u)&&ai(u)==Kt}function Ig(u,f,m,b,w){return u===f?!0:u==null||f==null||!Hr(u)&&!Hr(f)?u!==u&&f!==f:j1(u,f,m,b,Ig,w)}function j1(u,f,m,b,w,T){var P=Et(u),k=Et(f),V=P?Or:ri(u),se=k?Or:ri(f);V=V==nn?ie:V,se=se==nn?ie:se;var ue=V==ie,ge=se==ie,$e=V==se;if($e&&za(u)){if(!za(f))return!1;P=!0,ue=!1}if($e&&!ue)return T||(T=new ia),P||Rd(u)?f_(u,f,m,b,w,T):hx(u,f,V,m,b,w,T);if(!(m&S)){var Ze=ue&&lr.call(u,"__wrapped__"),it=ge&&lr.call(f,"__wrapped__");if(Ze||it){var At=Ze?u.value():u,ot=it?f.value():f;return T||(T=new ia),w(At,ot,m,b,T)}}return $e?(T||(T=new ia),gx(u,f,m,b,w,T)):!1}function V1(u){return Hr(u)&&ri(u)==F}function l0(u,f,m,b){var w=m.length,T=w,P=!b;if(u==null)return!T;for(u=wr(u);w--;){var k=m[w];if(P&&k[2]?k[1]!==u[k[0]]:!(k[0]in u))return!1}for(;++w<T;){k=m[w];var V=k[0],se=u[V],ue=k[1];if(P&&k[2]){if(se===r&&!(V in u))return!1}else{var ge=new ia;if(b)var $e=b(se,ue,V,u,f,ge);if(!($e===r?Ig(ue,se,S|I,b,ge):$e))return!1}}return!0}function Rv(u){if(!Fr(u)||Ox(u))return!1;var f=Pa(u)?Vw:Ug;return f.test(hu(u))}function Z1(u){return Hr(u)&&ai(u)==ve}function z1(u){return Hr(u)&&ri(u)==_e}function H1(u){return Hr(u)&&Ly(u.length)&&!!ct[ai(u)]}function Nv(u){return typeof u=="function"?u:u==null?No:typeof u=="object"?Et(u)?Lv(u[0],u[1]):Fv(u):rw(u)}function c0(u){if(!Cg(u))return qw(u);var f=[];for(var m in wr(u))lr.call(u,m)&&m!="constructor"&&f.push(m);return f}function W1(u){if(!Fr(u))return Ax(u);var f=Cg(u),m=[];for(var b in u)b=="constructor"&&(f||!lr.call(u,b))||m.push(b);return m}function f0(u,f){return u<f}function kv(u,f){var m=-1,b=di(u)?Y(u.length):[];return Ma(u,function(w,T,P){b[++m]=f(w,T,P)}),b}function Fv(u){var f=E0(u);return f.length==1&&f[0][2]?m_(f[0][0],f[0][1]):function(m){return m===u||l0(m,u,f)}}function Lv(u,f){return A0(u)&&g_(f)?m_(va(u),f):function(m){var b=M0(m,u);return b===r&&b===f?B0(m,u):Ig(f,b,S|I)}}function wy(u,f,m,b,w){u!==f&&o0(f,function(T,P){if(w||(w=new ia),Fr(T))G1(u,f,P,m,wy,b,w);else{var k=b?b(C0(u,P),T,P+"",u,f,w):r;k===r&&(k=T),n0(u,P,k)}},Ro)}function G1(u,f,m,b,w,T,P){var k=C0(u,m),V=C0(f,m),se=P.get(V);if(se){n0(u,m,se);return}var ue=T?T(k,V,m+"",u,f,P):r,ge=ue===r;if(ge){var $e=Et(V),Ze=!$e&&za(V),it=!$e&&!Ze&&Rd(V);ue=V,$e||Ze||it?Et(k)?ue=k:Jr(k)?ue=fi(k):Ze?(ge=!1,ue=Kv(V,!0)):it?(ge=!1,ue=Yv(V,!0)):ue=[]:Dg(V)||gu(V)?(ue=k,gu(k)?ue=W_(k):(!Fr(k)||Pa(k))&&(ue=h_(V))):ge=!1}ge&&(P.set(V,ue),w(ue,V,b,T,P),P.delete(V)),n0(u,m,ue)}function Mv(u,f){var m=u.length;if(m)return f+=f<0?m:0,Aa(f,m)?u[f]:r}function Bv(u,f,m){f.length?f=Ar(f,function(T){return Et(T)?function(P){return du(P,T.length===1?T[0]:T)}:T}):f=[No];var b=-1;f=Ar(f,Uo(rt()));var w=kv(u,function(T,P,k){var V=Ar(f,function(se){return se(T)});return{criteria:V,index:++b,value:T}});return _w(w,function(T,P){return sx(T,P,m)})}function q1(u,f){return Uv(u,f,function(m,b){return B0(u,b)})}function Uv(u,f,m){for(var b=-1,w=f.length,T={};++b<w;){var P=f[b],k=du(u,P);m(k,P)&&Ag(T,Ua(P,u),k)}return T}function K1(u){return function(f){return du(f,u)}}function d0(u,f,m,b){var w=b?vw:Eu,T=-1,P=f.length,k=u;for(u===f&&(f=fi(f)),m&&(k=Ar(u,Uo(m)));++T<P;)for(var V=0,se=f[T],ue=m?m(se):se;(V=w(k,ue,V,b))>-1;)k!==u&&fy.call(k,V,1),fy.call(u,V,1);return u}function jv(u,f){for(var m=u?f.length:0,b=m-1;m--;){var w=f[m];if(m==b||w!==T){var T=w;Aa(w)?fy.call(u,w,1):m0(u,w)}}return u}function p0(u,f){return u+hy(wv()*(f-u+1))}function Y1(u,f,m,b){for(var w=-1,T=xn(py((f-u)/(m||1)),0),P=Y(T);T--;)P[b?T:++w]=u,u+=m;return P}function h0(u,f){var m="";if(!u||f<1||f>st)return m;do f%2&&(m+=u),f=hy(f/2),f&&(u+=u);while(f);return m}function Pt(u,f){return $0(y_(u,f,No),u+"")}function X1(u){return Ov(Nd(u))}function J1(u,f){var m=Nd(u);return $y(m,cu(f,0,m.length))}function Ag(u,f,m,b){if(!Fr(u))return u;f=Ua(f,u);for(var w=-1,T=f.length,P=T-1,k=u;k!=null&&++w<T;){var V=va(f[w]),se=m;if(V==="__proto__"||V==="constructor"||V==="prototype")return u;if(w!=P){var ue=k[V];se=b?b(ue,V,k):r,se===r&&(se=Fr(ue)?ue:Aa(f[w+1])?[]:{})}Og(k,V,se),k=k[V]}return u}var Vv=gy?function(u,f){return gy.set(u,f),u}:No,Q1=dy?function(u,f){return dy(u,"toString",{configurable:!0,enumerable:!1,value:j0(f),writable:!0})}:No;function ex(u){return $y(Nd(u))}function zs(u,f,m){var b=-1,w=u.length;f<0&&(f=-f>w?0:w+f),m=m>w?w:m,m<0&&(m+=w),w=f>m?0:m-f>>>0,f>>>=0;for(var T=Y(w);++b<w;)T[b]=u[b+f];return T}function tx(u,f){var m;return Ma(u,function(b,w,T){return m=f(b,w,T),!m}),!!m}function xy(u,f,m){var b=0,w=u==null?b:u.length;if(typeof f=="number"&&f===f&&w<=Mo){for(;b<w;){var T=b+w>>>1,P=u[T];P!==null&&!zo(P)&&(m?P<=f:P<f)?b=T+1:w=T}return w}return g0(u,f,No,m)}function g0(u,f,m,b){var w=0,T=u==null?0:u.length;if(T===0)return 0;f=m(f);for(var P=f!==f,k=f===null,V=zo(f),se=f===r;w<T;){var ue=hy((w+T)/2),ge=m(u[ue]),$e=ge!==r,Ze=ge===null,it=ge===ge,At=zo(ge);if(P)var ot=b||it;else se?ot=it&&(b||$e):k?ot=it&&$e&&(b||!Ze):V?ot=it&&$e&&!Ze&&(b||!At):Ze||At?ot=!1:ot=b?ge<=f:ge<f;ot?w=ue+1:T=ue}return ti(T,qr)}function Zv(u,f){for(var m=-1,b=u.length,w=0,T=[];++m<b;){var P=u[m],k=f?f(P):P;if(!m||!oa(k,V)){var V=k;T[w++]=P===0?0:P}}return T}function zv(u){return typeof u=="number"?u:zo(u)?Sr:+u}function Vo(u){if(typeof u=="string")return u;if(Et(u))return Ar(u,Vo)+"";if(zo(u))return xv?xv.call(u):"";var f=u+"";return f=="0"&&1/u==-at?"-0":f}function Ba(u,f,m){var b=-1,w=ty,T=u.length,P=!0,k=[],V=k;if(m)P=!1,w=Hy;else if(T>=a){var se=f?null:dx(u);if(se)return ny(se);P=!1,w=og,V=new lu}else V=f?[]:k;e:for(;++b<T;){var ue=u[b],ge=f?f(ue):ue;if(ue=m||ue!==0?ue:0,P&&ge===ge){for(var $e=V.length;$e--;)if(V[$e]===ge)continue e;f&&V.push(ge),k.push(ue)}else w(V,ge,m)||(V!==k&&V.push(ge),k.push(ue))}return k}function m0(u,f){return f=Ua(f,u),u=b_(u,f),u==null||delete u[va(Hs(f))]}function Hv(u,f,m,b){return Ag(u,f,m(du(u,f)),b)}function Ty(u,f,m,b){for(var w=u.length,T=b?w:-1;(b?T--:++T<w)&&f(u[T],T,u););return m?zs(u,b?0:T,b?T+1:w):zs(u,b?T+1:0,b?w:T)}function Wv(u,f){var m=u;return m instanceof Nt&&(m=m.value()),Wy(f,function(b,w){return w.func.apply(w.thisArg,ka([b],w.args))},m)}function y0(u,f,m){var b=u.length;if(b<2)return b?Ba(u[0]):[];for(var w=-1,T=Y(b);++w<b;)for(var P=u[w],k=-1;++k<b;)k!=w&&(T[w]=Sg(T[w]||P,u[k],f,m));return Ba(qn(T,1),f,m)}function Gv(u,f,m){for(var b=-1,w=u.length,T=f.length,P={};++b<w;){var k=b<T?f[b]:r;m(P,u[b],k)}return P}function b0(u){return Jr(u)?u:[]}function v0(u){return typeof u=="function"?u:No}function Ua(u,f){return Et(u)?u:A0(u,f)?[u]:x_(Qt(u))}var rx=Pt;function Va(u,f,m){var b=u.length;return m=m===r?b:m,!f&&m>=b?u:zs(u,f,m)}var qv=Zw||function(u){return Hn.clearTimeout(u)};function Kv(u,f){if(f)return u.slice();var m=u.length,b=mv?mv(m):new u.constructor(m);return u.copy(b),b}function _0(u){var f=new u.constructor(u.byteLength);return new ly(f).set(new ly(u)),f}function nx(u,f){var m=f?_0(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}function ix(u){var f=new u.constructor(u.source,ru.exec(u));return f.lastIndex=u.lastIndex,f}function ox(u){return wg?wr(wg.call(u)):{}}function Yv(u,f){var m=f?_0(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Xv(u,f){if(u!==f){var m=u!==r,b=u===null,w=u===u,T=zo(u),P=f!==r,k=f===null,V=f===f,se=zo(f);if(!k&&!se&&!T&&u>f||T&&P&&V&&!k&&!se||b&&P&&V||!m&&V||!w)return 1;if(!b&&!T&&!se&&u<f||se&&m&&w&&!b&&!T||k&&m&&w||!P&&w||!V)return-1}return 0}function sx(u,f,m){for(var b=-1,w=u.criteria,T=f.criteria,P=w.length,k=m.length;++b<P;){var V=Xv(w[b],T[b]);if(V){if(b>=k)return V;var se=m[b];return V*(se=="desc"?-1:1)}}return u.index-f.index}function Jv(u,f,m,b){for(var w=-1,T=u.length,P=m.length,k=-1,V=f.length,se=xn(T-P,0),ue=Y(V+se),ge=!b;++k<V;)ue[k]=f[k];for(;++w<P;)(ge||w<T)&&(ue[m[w]]=u[w]);for(;se--;)ue[k++]=u[w++];return ue}function Qv(u,f,m,b){for(var w=-1,T=u.length,P=-1,k=m.length,V=-1,se=f.length,ue=xn(T-k,0),ge=Y(ue+se),$e=!b;++w<ue;)ge[w]=u[w];for(var Ze=w;++V<se;)ge[Ze+V]=f[V];for(;++P<k;)($e||w<T)&&(ge[Ze+m[P]]=u[w++]);return ge}function fi(u,f){var m=-1,b=u.length;for(f||(f=Y(b));++m<b;)f[m]=u[m];return f}function ba(u,f,m,b){var w=!m;m||(m={});for(var T=-1,P=f.length;++T<P;){var k=f[T],V=b?b(m[k],u[k],k,m,u):r;V===r&&(V=u[k]),w?Sa(m,k,V):Og(m,k,V)}return m}function ax(u,f){return ba(u,I0(u),f)}function ux(u,f){return ba(u,d_(u),f)}function Oy(u,f){return function(m,b){var w=Et(m)?pw:C1,T=f?f():{};return w(m,u,rt(b,2),T)}}function xd(u){return Pt(function(f,m){var b=-1,w=m.length,T=w>1?m[w-1]:r,P=w>2?m[2]:r;for(T=u.length>3&&typeof T=="function"?(w--,T):r,P&&ui(m[0],m[1],P)&&(T=w<3?r:T,w=1),f=wr(f);++b<w;){var k=m[b];k&&u(f,k,b,T)}return f})}function e_(u,f){return function(m,b){if(m==null)return m;if(!di(m))return u(m,b);for(var w=m.length,T=f?w:-1,P=wr(m);(f?T--:++T<w)&&b(P[T],T,P)!==!1;);return m}}function t_(u){return function(f,m,b){for(var w=-1,T=wr(f),P=b(f),k=P.length;k--;){var V=P[u?k:++w];if(m(T[V],V,T)===!1)break}return f}}function lx(u,f,m){var b=f&A,w=Pg(u);function T(){var P=this&&this!==Hn&&this instanceof T?w:u;return P.apply(b?m:this,arguments)}return T}function r_(u){return function(f){f=Qt(f);var m=Au(f)?Ks(f):r,b=m?m[0]:f.charAt(0),w=m?Va(m,1).join(""):f.slice(1);return b[u]()+w}}function Td(u){return function(f){return Wy(ew(Q_(f).replace(Ir,"")),u,"")}}function Pg(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var m=bd(u.prototype),b=u.apply(m,f);return Fr(b)?b:m}}function cx(u,f,m){var b=Pg(u);function w(){for(var T=arguments.length,P=Y(T),k=T,V=Cd(w);k--;)P[k]=arguments[k];var se=T<3&&P[0]!==V&&P[T-1]!==V?[]:Fa(P,V);if(T-=se.length,T<m)return a_(u,f,Sy,w.placeholder,r,P,se,r,r,m-T);var ue=this&&this!==Hn&&this instanceof w?b:u;return Bo(ue,this,P)}return w}function n_(u){return function(f,m,b){var w=wr(f);if(!di(f)){var T=rt(m,3);f=Sn(f),m=function(k){return T(w[k],k,w)}}var P=u(f,m,b);return P>-1?w[T?f[P]:P]:r}}function i_(u){return Ia(function(f){var m=f.length,b=m,w=Vs.prototype.thru;for(u&&f.reverse();b--;){var T=f[b];if(typeof T!="function")throw new js(s);if(w&&!P&&Py(T)=="wrapper")var P=new Vs([],!0)}for(b=P?b:m;++b<m;){T=f[b];var k=Py(T),V=k=="wrapper"?S0(T):r;V&&P0(V[0])&&V[1]==(Tt|G|Ne|yt)&&!V[4].length&&V[9]==1?P=P[Py(V[0])].apply(P,V[3]):P=T.length==1&&P0(T)?P[k]():P.thru(T)}return function(){var se=arguments,ue=se[0];if(P&&se.length==1&&Et(ue))return P.plant(ue).value();for(var ge=0,$e=m?f[ge].apply(this,se):ue;++ge<m;)$e=f[ge].call(this,$e);return $e}})}function Sy(u,f,m,b,w,T,P,k,V,se){var ue=f&Tt,ge=f&A,$e=f&H,Ze=f&(G|pe),it=f&Ue,At=$e?r:Pg(u);function ot(){for(var Rt=arguments.length,Lt=Y(Rt),Wo=Rt;Wo--;)Lt[Wo]=arguments[Wo];if(Ze)var ci=Cd(ot),Go=xw(Lt,ci);if(b&&(Lt=Jv(Lt,b,w,Ze)),T&&(Lt=Qv(Lt,T,P,Ze)),Rt-=Go,Ze&&Rt<se){var rn=Fa(Lt,ci);return a_(u,f,Sy,ot.placeholder,m,Lt,rn,k,V,se-Rt)}var ga=ge?m:this,$a=$e?ga[u]:u;return Rt=Lt.length,k?Lt=Cx(Lt,k):it&&Rt>1&&Lt.reverse(),ue&&V<Rt&&(Lt.length=V),this&&this!==Hn&&this instanceof ot&&($a=At||Pg($a)),$a.apply(ga,Lt)}return ot}function o_(u,f){return function(m,b){return M1(m,u,f(b),{})}}function Ey(u,f){return function(m,b){var w;if(m===r&&b===r)return f;if(m!==r&&(w=m),b!==r){if(w===r)return b;typeof m=="string"||typeof b=="string"?(m=Vo(m),b=Vo(b)):(m=zv(m),b=zv(b)),w=u(m,b)}return w}}function w0(u){return Ia(function(f){return f=Ar(f,Uo(rt())),Pt(function(m){var b=this;return u(f,function(w){return Bo(w,b,m)})})})}function Iy(u,f){f=f===r?" ":Vo(f);var m=f.length;if(m<2)return m?h0(f,u):f;var b=h0(f,py(u/Lu(f)));return Au(f)?Va(Ks(b),0,u).join(""):b.slice(0,u)}function fx(u,f,m,b){var w=f&A,T=Pg(u);function P(){for(var k=-1,V=arguments.length,se=-1,ue=b.length,ge=Y(ue+V),$e=this&&this!==Hn&&this instanceof P?T:u;++se<ue;)ge[se]=b[se];for(;V--;)ge[se++]=arguments[++k];return Bo($e,w?m:this,ge)}return P}function s_(u){return function(f,m,b){return b&&typeof b!="number"&&ui(f,m,b)&&(m=b=r),f=Ca(f),m===r?(m=f,f=0):m=Ca(m),b=b===r?f<m?1:-1:Ca(b),Y1(f,m,b,u)}}function Ay(u){return function(f,m){return typeof f=="string"&&typeof m=="string"||(f=Ws(f),m=Ws(m)),u(f,m)}}function a_(u,f,m,b,w,T,P,k,V,se){var ue=f&G,ge=ue?P:r,$e=ue?r:P,Ze=ue?T:r,it=ue?r:T;f|=ue?Ne:ze,f&=~(ue?ze:Ne),f&N||(f&=~(A|H));var At=[u,f,w,Ze,ge,it,$e,k,V,se],ot=m.apply(r,At);return P0(u)&&v_(ot,At),ot.placeholder=b,__(ot,u,f)}function x0(u){var f=wn[u];return function(m,b){if(m=Ws(m),b=b==null?0:ti(It(b),292),b&&_v(m)){var w=(Qt(m)+"e").split("e"),T=f(w[0]+"e"+(+w[1]+b));return w=(Qt(T)+"e").split("e"),+(w[0]+"e"+(+w[1]-b))}return f(m)}}var dx=md&&1/ny(new md([,-0]))[1]==at?function(u){return new md(u)}:z0;function u_(u){return function(f){var m=ri(f);return m==F?Qy(f):m==_e?Pw(f):ww(f,u(f))}}function Ea(u,f,m,b,w,T,P,k){var V=f&H;if(!V&&typeof u!="function")throw new js(s);var se=b?b.length:0;if(se||(f&=~(Ne|ze),b=w=r),P=P===r?P:xn(It(P),0),k=k===r?k:It(k),se-=w?w.length:0,f&ze){var ue=b,ge=w;b=w=r}var $e=V?r:S0(u),Ze=[u,f,m,b,w,ue,ge,T,P,k];if($e&&Ix(Ze,$e),u=Ze[0],f=Ze[1],m=Ze[2],b=Ze[3],w=Ze[4],k=Ze[9]=Ze[9]===r?V?0:u.length:xn(Ze[9]-se,0),!k&&f&(G|pe)&&(f&=~(G|pe)),!f||f==A)var it=lx(u,f,m);else f==G||f==pe?it=cx(u,f,k):(f==Ne||f==(A|Ne))&&!w.length?it=fx(u,f,m,b):it=Sy.apply(r,Ze);var At=$e?Vv:v_;return __(At(it,Ze),u,f)}function l_(u,f,m,b){return u===r||oa(u,gd[m])&&!lr.call(b,m)?f:u}function c_(u,f,m,b,w,T){return Fr(u)&&Fr(f)&&(T.set(f,u),wy(u,f,r,c_,T),T.delete(f)),u}function px(u){return Dg(u)?r:u}function f_(u,f,m,b,w,T){var P=m&S,k=u.length,V=f.length;if(k!=V&&!(P&&V>k))return!1;var se=T.get(u),ue=T.get(f);if(se&&ue)return se==f&&ue==u;var ge=-1,$e=!0,Ze=m&I?new lu:r;for(T.set(u,f),T.set(f,u);++ge<k;){var it=u[ge],At=f[ge];if(b)var ot=P?b(At,it,ge,f,u,T):b(it,At,ge,u,f,T);if(ot!==r){if(ot)continue;$e=!1;break}if(Ze){if(!Gy(f,function(Rt,Lt){if(!og(Ze,Lt)&&(it===Rt||w(it,Rt,m,b,T)))return Ze.push(Lt)})){$e=!1;break}}else if(!(it===At||w(it,At,m,b,T))){$e=!1;break}}return T.delete(u),T.delete(f),$e}function hx(u,f,m,b,w,T,P){switch(m){case Ot:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case gt:return!(u.byteLength!=f.byteLength||!T(new ly(u),new ly(f)));case vr:case Kt:case X:return oa(+u,+f);case In:return u.name==f.name&&u.message==f.message;case ve:case he:return u==f+"";case F:var k=Qy;case _e:var V=b&S;if(k||(k=ny),u.size!=f.size&&!V)return!1;var se=P.get(u);if(se)return se==f;b|=I,P.set(u,f);var ue=f_(k(u),k(f),b,w,T,P);return P.delete(u),ue;case Ce:if(wg)return wg.call(u)==wg.call(f)}return!1}function gx(u,f,m,b,w,T){var P=m&S,k=T0(u),V=k.length,se=T0(f),ue=se.length;if(V!=ue&&!P)return!1;for(var ge=V;ge--;){var $e=k[ge];if(!(P?$e in f:lr.call(f,$e)))return!1}var Ze=T.get(u),it=T.get(f);if(Ze&&it)return Ze==f&&it==u;var At=!0;T.set(u,f),T.set(f,u);for(var ot=P;++ge<V;){$e=k[ge];var Rt=u[$e],Lt=f[$e];if(b)var Wo=P?b(Lt,Rt,$e,f,u,T):b(Rt,Lt,$e,u,f,T);if(!(Wo===r?Rt===Lt||w(Rt,Lt,m,b,T):Wo)){At=!1;break}ot||(ot=$e=="constructor")}if(At&&!ot){var ci=u.constructor,Go=f.constructor;ci!=Go&&"constructor"in u&&"constructor"in f&&!(typeof ci=="function"&&ci instanceof ci&&typeof Go=="function"&&Go instanceof Go)&&(At=!1)}return T.delete(u),T.delete(f),At}function Ia(u){return $0(y_(u,r,E_),u+"")}function T0(u){return $v(u,Sn,I0)}function O0(u){return $v(u,Ro,d_)}var S0=gy?function(u){return gy.get(u)}:z0;function Py(u){for(var f=u.name+"",m=yd[f],b=lr.call(yd,f)?m.length:0;b--;){var w=m[b],T=w.func;if(T==null||T==u)return w.name}return f}function Cd(u){var f=lr.call(x,"placeholder")?x:u;return f.placeholder}function rt(){var u=x.iteratee||V0;return u=u===V0?Nv:u,arguments.length?u(arguments[0],arguments[1]):u}function Cy(u,f){var m=u.__data__;return Tx(f)?m[typeof f=="string"?"string":"hash"]:m.map}function E0(u){for(var f=Sn(u),m=f.length;m--;){var b=f[m],w=u[b];f[m]=[b,w,g_(w)]}return f}function pu(u,f){var m=Ew(u,f);return Rv(m)?m:r}function mx(u){var f=lr.call(u,au),m=u[au];try{u[au]=r;var b=!0}catch{}var w=ay.call(u);return b&&(f?u[au]=m:delete u[au]),w}var I0=e0?function(u){return u==null?[]:(u=wr(u),Na(e0(u),function(f){return bv.call(u,f)}))}:H0,d_=e0?function(u){for(var f=[];u;)ka(f,I0(u)),u=cy(u);return f}:H0,ri=ai;(t0&&ri(new t0(new ArrayBuffer(1)))!=Ot||bg&&ri(new bg)!=F||r0&&ri(r0.resolve())!=Te||md&&ri(new md)!=_e||vg&&ri(new vg)!=Le)&&(ri=function(u){var f=ai(u),m=f==ie?u.constructor:r,b=m?hu(m):"";if(b)switch(b){case Jw:return Ot;case Qw:return F;case e1:return Te;case t1:return _e;case r1:return Le}return f});function yx(u,f,m){for(var b=-1,w=m.length;++b<w;){var T=m[b],P=T.size;switch(T.type){case"drop":u+=P;break;case"dropRight":f-=P;break;case"take":f=ti(f,u+P);break;case"takeRight":u=xn(u,f-P);break}}return{start:u,end:f}}function bx(u){var f=u.match(Cs);return f?f[1].split(eu):[]}function p_(u,f,m){f=Ua(f,u);for(var b=-1,w=f.length,T=!1;++b<w;){var P=va(f[b]);if(!(T=u!=null&&m(u,P)))break;u=u[P]}return T||++b!=w?T:(w=u==null?0:u.length,!!w&&Ly(w)&&Aa(P,w)&&(Et(u)||gu(u)))}function vx(u){var f=u.length,m=new u.constructor(f);return f&&typeof u[0]=="string"&&lr.call(u,"index")&&(m.index=u.index,m.input=u.input),m}function h_(u){return typeof u.constructor=="function"&&!Cg(u)?bd(cy(u)):{}}function _x(u,f,m){var b=u.constructor;switch(f){case gt:return _0(u);case vr:case Kt:return new b(+u);case Ot:return nx(u,m);case Wt:case Ie:case Yr:case Pn:case Gs:case si:case qs:case Me:case Xr:return Yv(u,m);case F:return new b;case X:case he:return new b(u);case ve:return ix(u);case _e:return new b;case Ce:return ox(u)}}function wx(u,f){var m=f.length;if(!m)return u;var b=m-1;return f[b]=(m>1?"& ":"")+f[b],f=f.join(m>2?", ":" "),u.replace(_r,`{
/* [wrapped with `+f+`] */
`)}function xx(u){return Et(u)||gu(u)||!!(vv&&u&&u[vv])}function Aa(u,f){var m=typeof u;return f=f??st,!!f&&(m=="number"||m!="symbol"&&Vg.test(u))&&u>-1&&u%1==0&&u<f}function ui(u,f,m){if(!Fr(m))return!1;var b=typeof f;return(b=="number"?di(m)&&Aa(f,m.length):b=="string"&&f in m)?oa(m[f],u):!1}function A0(u,f){if(Et(u))return!1;var m=typeof u;return m=="number"||m=="symbol"||m=="boolean"||u==null||zo(u)?!0:vn.test(u)||!jn.test(u)||f!=null&&u in wr(f)}function Tx(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function P0(u){var f=Py(u),m=x[f];if(typeof m!="function"||!(f in Nt.prototype))return!1;if(u===m)return!0;var b=S0(m);return!!b&&u===b[0]}function Ox(u){return!!gv&&gv in u}var Sx=oy?Pa:W0;function Cg(u){var f=u&&u.constructor,m=typeof f=="function"&&f.prototype||gd;return u===m}function g_(u){return u===u&&!Fr(u)}function m_(u,f){return function(m){return m==null?!1:m[u]===f&&(f!==r||u in wr(m))}}function Ex(u){var f=ky(u,function(b){return m.size===i&&m.clear(),b}),m=f.cache;return f}function Ix(u,f){var m=u[1],b=f[1],w=m|b,T=w<(A|H|Tt),P=b==Tt&&m==G||b==Tt&&m==yt&&u[7].length<=f[8]||b==(Tt|yt)&&f[7].length<=f[8]&&m==G;if(!(T||P))return u;b&A&&(u[2]=f[2],w|=m&A?0:N);var k=f[3];if(k){var V=u[3];u[3]=V?Jv(V,k,f[4]):k,u[4]=V?Fa(u[3],l):f[4]}return k=f[5],k&&(V=u[5],u[5]=V?Qv(V,k,f[6]):k,u[6]=V?Fa(u[5],l):f[6]),k=f[7],k&&(u[7]=k),b&Tt&&(u[8]=u[8]==null?f[8]:ti(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=w,u}function Ax(u){var f=[];if(u!=null)for(var m in wr(u))f.push(m);return f}function Px(u){return ay.call(u)}function y_(u,f,m){return f=xn(f===r?u.length-1:f,0),function(){for(var b=arguments,w=-1,T=xn(b.length-f,0),P=Y(T);++w<T;)P[w]=b[f+w];w=-1;for(var k=Y(f+1);++w<f;)k[w]=b[w];return k[f]=m(P),Bo(u,this,k)}}function b_(u,f){return f.length<2?u:du(u,zs(f,0,-1))}function Cx(u,f){for(var m=u.length,b=ti(f.length,m),w=fi(u);b--;){var T=f[b];u[b]=Aa(T,m)?w[T]:r}return u}function C0(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var v_=w_(Vv),$g=Hw||function(u,f){return Hn.setTimeout(u,f)},$0=w_(Q1);function __(u,f,m){var b=f+"";return $0(u,wx(b,$x(bx(b),m)))}function w_(u){var f=0,m=0;return function(){var b=Kw(),w=On-(b-m);if(m=b,w>0){if(++f>=ii)return arguments[0]}else f=0;return u.apply(r,arguments)}}function $y(u,f){var m=-1,b=u.length,w=b-1;for(f=f===r?b:f;++m<f;){var T=p0(m,w),P=u[T];u[T]=u[m],u[m]=P}return u.length=f,u}var x_=Ex(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(_n,function(m,b,w,T){f.push(w?T.replace(Bg,"$1"):b||m)}),f});function va(u){if(typeof u=="string"||zo(u))return u;var f=u+"";return f=="0"&&1/u==-at?"-0":f}function hu(u){if(u!=null){try{return sy.call(u)}catch{}try{return u+""}catch{}}return""}function $x(u,f){return Bs(oi,function(m){var b="_."+m[0];f&m[1]&&!ty(u,b)&&u.push(b)}),u.sort()}function T_(u){if(u instanceof Nt)return u.clone();var f=new Vs(u.__wrapped__,u.__chain__);return f.__actions__=fi(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function Dx(u,f,m){(m?ui(u,f,m):f===r)?f=1:f=xn(It(f),0);var b=u==null?0:u.length;if(!b||f<1)return[];for(var w=0,T=0,P=Y(py(b/f));w<b;)P[T++]=zs(u,w,w+=f);return P}function Rx(u){for(var f=-1,m=u==null?0:u.length,b=0,w=[];++f<m;){var T=u[f];T&&(w[b++]=T)}return w}function Nx(){var u=arguments.length;if(!u)return[];for(var f=Y(u-1),m=arguments[0],b=u;b--;)f[b-1]=arguments[b];return ka(Et(m)?fi(m):[m],qn(f,1))}var kx=Pt(function(u,f){return Jr(u)?Sg(u,qn(f,1,Jr,!0)):[]}),Fx=Pt(function(u,f){var m=Hs(f);return Jr(m)&&(m=r),Jr(u)?Sg(u,qn(f,1,Jr,!0),rt(m,2)):[]}),Lx=Pt(function(u,f){var m=Hs(f);return Jr(m)&&(m=r),Jr(u)?Sg(u,qn(f,1,Jr,!0),r,m):[]});function Mx(u,f,m){var b=u==null?0:u.length;return b?(f=m||f===r?1:It(f),zs(u,f<0?0:f,b)):[]}function Bx(u,f,m){var b=u==null?0:u.length;return b?(f=m||f===r?1:It(f),f=b-f,zs(u,0,f<0?0:f)):[]}function Ux(u,f){return u&&u.length?Ty(u,rt(f,3),!0,!0):[]}function jx(u,f){return u&&u.length?Ty(u,rt(f,3),!0):[]}function Vx(u,f,m,b){var w=u==null?0:u.length;return w?(m&&typeof m!="number"&&ui(u,f,m)&&(m=0,b=w),N1(u,f,m,b)):[]}function O_(u,f,m){var b=u==null?0:u.length;if(!b)return-1;var w=m==null?0:It(m);return w<0&&(w=xn(b+w,0)),ry(u,rt(f,3),w)}function S_(u,f,m){var b=u==null?0:u.length;if(!b)return-1;var w=b-1;return m!==r&&(w=It(m),w=m<0?xn(b+w,0):ti(w,b-1)),ry(u,rt(f,3),w,!0)}function E_(u){var f=u==null?0:u.length;return f?qn(u,1):[]}function Zx(u){var f=u==null?0:u.length;return f?qn(u,at):[]}function zx(u,f){var m=u==null?0:u.length;return m?(f=f===r?1:It(f),qn(u,f)):[]}function Hx(u){for(var f=-1,m=u==null?0:u.length,b={};++f<m;){var w=u[f];b[w[0]]=w[1]}return b}function I_(u){return u&&u.length?u[0]:r}function Wx(u,f,m){var b=u==null?0:u.length;if(!b)return-1;var w=m==null?0:It(m);return w<0&&(w=xn(b+w,0)),Eu(u,f,w)}function Gx(u){var f=u==null?0:u.length;return f?zs(u,0,-1):[]}var qx=Pt(function(u){var f=Ar(u,b0);return f.length&&f[0]===u[0]?u0(f):[]}),Kx=Pt(function(u){var f=Hs(u),m=Ar(u,b0);return f===Hs(m)?f=r:m.pop(),m.length&&m[0]===u[0]?u0(m,rt(f,2)):[]}),Yx=Pt(function(u){var f=Hs(u),m=Ar(u,b0);return f=typeof f=="function"?f:r,f&&m.pop(),m.length&&m[0]===u[0]?u0(m,r,f):[]});function Xx(u,f){return u==null?"":Gw.call(u,f)}function Hs(u){var f=u==null?0:u.length;return f?u[f-1]:r}function Jx(u,f,m){var b=u==null?0:u.length;if(!b)return-1;var w=b;return m!==r&&(w=It(m),w=w<0?xn(b+w,0):ti(w,b-1)),f===f?$w(u,f,w):ry(u,av,w,!0)}function Qx(u,f){return u&&u.length?Mv(u,It(f)):r}var eT=Pt(A_);function A_(u,f){return u&&u.length&&f&&f.length?d0(u,f):u}function tT(u,f,m){return u&&u.length&&f&&f.length?d0(u,f,rt(m,2)):u}function rT(u,f,m){return u&&u.length&&f&&f.length?d0(u,f,r,m):u}var nT=Ia(function(u,f){var m=u==null?0:u.length,b=i0(u,f);return jv(u,Ar(f,function(w){return Aa(w,m)?+w:w}).sort(Xv)),b});function iT(u,f){var m=[];if(!(u&&u.length))return m;var b=-1,w=[],T=u.length;for(f=rt(f,3);++b<T;){var P=u[b];f(P,b,u)&&(m.push(P),w.push(b))}return jv(u,w),m}function D0(u){return u==null?u:Xw.call(u)}function oT(u,f,m){var b=u==null?0:u.length;return b?(m&&typeof m!="number"&&ui(u,f,m)?(f=0,m=b):(f=f==null?0:It(f),m=m===r?b:It(m)),zs(u,f,m)):[]}function sT(u,f){return xy(u,f)}function aT(u,f,m){return g0(u,f,rt(m,2))}function uT(u,f){var m=u==null?0:u.length;if(m){var b=xy(u,f);if(b<m&&oa(u[b],f))return b}return-1}function lT(u,f){return xy(u,f,!0)}function cT(u,f,m){return g0(u,f,rt(m,2),!0)}function fT(u,f){var m=u==null?0:u.length;if(m){var b=xy(u,f,!0)-1;if(oa(u[b],f))return b}return-1}function dT(u){return u&&u.length?Zv(u):[]}function pT(u,f){return u&&u.length?Zv(u,rt(f,2)):[]}function hT(u){var f=u==null?0:u.length;return f?zs(u,1,f):[]}function gT(u,f,m){return u&&u.length?(f=m||f===r?1:It(f),zs(u,0,f<0?0:f)):[]}function mT(u,f,m){var b=u==null?0:u.length;return b?(f=m||f===r?1:It(f),f=b-f,zs(u,f<0?0:f,b)):[]}function yT(u,f){return u&&u.length?Ty(u,rt(f,3),!1,!0):[]}function bT(u,f){return u&&u.length?Ty(u,rt(f,3)):[]}var vT=Pt(function(u){return Ba(qn(u,1,Jr,!0))}),_T=Pt(function(u){var f=Hs(u);return Jr(f)&&(f=r),Ba(qn(u,1,Jr,!0),rt(f,2))}),wT=Pt(function(u){var f=Hs(u);return f=typeof f=="function"?f:r,Ba(qn(u,1,Jr,!0),r,f)});function xT(u){return u&&u.length?Ba(u):[]}function TT(u,f){return u&&u.length?Ba(u,rt(f,2)):[]}function OT(u,f){return f=typeof f=="function"?f:r,u&&u.length?Ba(u,r,f):[]}function R0(u){if(!(u&&u.length))return[];var f=0;return u=Na(u,function(m){if(Jr(m))return f=xn(m.length,f),!0}),Xy(f,function(m){return Ar(u,qy(m))})}function P_(u,f){if(!(u&&u.length))return[];var m=R0(u);return f==null?m:Ar(m,function(b){return Bo(f,r,b)})}var ST=Pt(function(u,f){return Jr(u)?Sg(u,f):[]}),ET=Pt(function(u){return y0(Na(u,Jr))}),IT=Pt(function(u){var f=Hs(u);return Jr(f)&&(f=r),y0(Na(u,Jr),rt(f,2))}),AT=Pt(function(u){var f=Hs(u);return f=typeof f=="function"?f:r,y0(Na(u,Jr),r,f)}),PT=Pt(R0);function CT(u,f){return Gv(u||[],f||[],Og)}function $T(u,f){return Gv(u||[],f||[],Ag)}var DT=Pt(function(u){var f=u.length,m=f>1?u[f-1]:r;return m=typeof m=="function"?(u.pop(),m):r,P_(u,m)});function C_(u){var f=x(u);return f.__chain__=!0,f}function RT(u,f){return f(u),u}function Dy(u,f){return f(u)}var NT=Ia(function(u){var f=u.length,m=f?u[0]:0,b=this.__wrapped__,w=function(T){return i0(T,u)};return f>1||this.__actions__.length||!(b instanceof Nt)||!Aa(m)?this.thru(w):(b=b.slice(m,+m+(f?1:0)),b.__actions__.push({func:Dy,args:[w],thisArg:r}),new Vs(b,this.__chain__).thru(function(T){return f&&!T.length&&T.push(r),T}))});function kT(){return C_(this)}function FT(){return new Vs(this.value(),this.__chain__)}function LT(){this.__values__===r&&(this.__values__=z_(this.value()));var u=this.__index__>=this.__values__.length,f=u?r:this.__values__[this.__index__++];return{done:u,value:f}}function MT(){return this}function BT(u){for(var f,m=this;m instanceof yy;){var b=T_(m);b.__index__=0,b.__values__=r,f?w.__wrapped__=b:f=b;var w=b;m=m.__wrapped__}return w.__wrapped__=u,f}function UT(){var u=this.__wrapped__;if(u instanceof Nt){var f=u;return this.__actions__.length&&(f=new Nt(this)),f=f.reverse(),f.__actions__.push({func:Dy,args:[D0],thisArg:r}),new Vs(f,this.__chain__)}return this.thru(D0)}function jT(){return Wv(this.__wrapped__,this.__actions__)}var VT=Oy(function(u,f,m){lr.call(u,m)?++u[m]:Sa(u,m,1)});function ZT(u,f,m){var b=Et(u)?ov:R1;return m&&ui(u,f,m)&&(f=r),b(u,rt(f,3))}function zT(u,f){var m=Et(u)?Na:Pv;return m(u,rt(f,3))}var HT=n_(O_),WT=n_(S_);function GT(u,f){return qn(Ry(u,f),1)}function qT(u,f){return qn(Ry(u,f),at)}function KT(u,f,m){return m=m===r?1:It(m),qn(Ry(u,f),m)}function $_(u,f){var m=Et(u)?Bs:Ma;return m(u,rt(f,3))}function D_(u,f){var m=Et(u)?hw:Av;return m(u,rt(f,3))}var YT=Oy(function(u,f,m){lr.call(u,m)?u[m].push(f):Sa(u,m,[f])});function XT(u,f,m,b){u=di(u)?u:Nd(u),m=m&&!b?It(m):0;var w=u.length;return m<0&&(m=xn(w+m,0)),My(u)?m<=w&&u.indexOf(f,m)>-1:!!w&&Eu(u,f,m)>-1}var JT=Pt(function(u,f,m){var b=-1,w=typeof f=="function",T=di(u)?Y(u.length):[];return Ma(u,function(P){T[++b]=w?Bo(f,P,m):Eg(P,f,m)}),T}),QT=Oy(function(u,f,m){Sa(u,m,f)});function Ry(u,f){var m=Et(u)?Ar:kv;return m(u,rt(f,3))}function e2(u,f,m,b){return u==null?[]:(Et(f)||(f=f==null?[]:[f]),m=b?r:m,Et(m)||(m=m==null?[]:[m]),Bv(u,f,m))}var t2=Oy(function(u,f,m){u[m?0:1].push(f)},function(){return[[],[]]});function r2(u,f,m){var b=Et(u)?Wy:lv,w=arguments.length<3;return b(u,rt(f,4),m,w,Ma)}function n2(u,f,m){var b=Et(u)?gw:lv,w=arguments.length<3;return b(u,rt(f,4),m,w,Av)}function i2(u,f){var m=Et(u)?Na:Pv;return m(u,Fy(rt(f,3)))}function o2(u){var f=Et(u)?Ov:X1;return f(u)}function s2(u,f,m){(m?ui(u,f,m):f===r)?f=1:f=It(f);var b=Et(u)?A1:J1;return b(u,f)}function a2(u){var f=Et(u)?P1:ex;return f(u)}function u2(u){if(u==null)return 0;if(di(u))return My(u)?Lu(u):u.length;var f=ri(u);return f==F||f==_e?u.size:c0(u).length}function l2(u,f,m){var b=Et(u)?Gy:tx;return m&&ui(u,f,m)&&(f=r),b(u,rt(f,3))}var c2=Pt(function(u,f){if(u==null)return[];var m=f.length;return m>1&&ui(u,f[0],f[1])?f=[]:m>2&&ui(f[0],f[1],f[2])&&(f=[f[0]]),Bv(u,qn(f,1),[])}),Ny=zw||function(){return Hn.Date.now()};function f2(u,f){if(typeof f!="function")throw new js(s);return u=It(u),function(){if(--u<1)return f.apply(this,arguments)}}function R_(u,f,m){return f=m?r:f,f=u&&f==null?u.length:f,Ea(u,Tt,r,r,r,r,f)}function N_(u,f){var m;if(typeof f!="function")throw new js(s);return u=It(u),function(){return--u>0&&(m=f.apply(this,arguments)),u<=1&&(f=r),m}}var N0=Pt(function(u,f,m){var b=A;if(m.length){var w=Fa(m,Cd(N0));b|=Ne}return Ea(u,b,f,m,w)}),k_=Pt(function(u,f,m){var b=A|H;if(m.length){var w=Fa(m,Cd(k_));b|=Ne}return Ea(f,b,u,m,w)});function F_(u,f,m){f=m?r:f;var b=Ea(u,G,r,r,r,r,r,f);return b.placeholder=F_.placeholder,b}function L_(u,f,m){f=m?r:f;var b=Ea(u,pe,r,r,r,r,r,f);return b.placeholder=L_.placeholder,b}function M_(u,f,m){var b,w,T,P,k,V,se=0,ue=!1,ge=!1,$e=!0;if(typeof u!="function")throw new js(s);f=Ws(f)||0,Fr(m)&&(ue=!!m.leading,ge="maxWait"in m,T=ge?xn(Ws(m.maxWait)||0,f):T,$e="trailing"in m?!!m.trailing:$e);function Ze(rn){var ga=b,$a=w;return b=w=r,se=rn,P=u.apply($a,ga),P}function it(rn){return se=rn,k=$g(Rt,f),ue?Ze(rn):P}function At(rn){var ga=rn-V,$a=rn-se,nw=f-ga;return ge?ti(nw,T-$a):nw}function ot(rn){var ga=rn-V,$a=rn-se;return V===r||ga>=f||ga<0||ge&&$a>=T}function Rt(){var rn=Ny();if(ot(rn))return Lt(rn);k=$g(Rt,At(rn))}function Lt(rn){return k=r,$e&&b?Ze(rn):(b=w=r,P)}function Wo(){k!==r&&qv(k),se=0,b=V=w=k=r}function ci(){return k===r?P:Lt(Ny())}function Go(){var rn=Ny(),ga=ot(rn);if(b=arguments,w=this,V=rn,ga){if(k===r)return it(V);if(ge)return qv(k),k=$g(Rt,f),Ze(V)}return k===r&&(k=$g(Rt,f)),P}return Go.cancel=Wo,Go.flush=ci,Go}var d2=Pt(function(u,f){return Iv(u,1,f)}),p2=Pt(function(u,f,m){return Iv(u,Ws(f)||0,m)});function h2(u){return Ea(u,Ue)}function ky(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new js(s);var m=function(){var b=arguments,w=f?f.apply(this,b):b[0],T=m.cache;if(T.has(w))return T.get(w);var P=u.apply(this,b);return m.cache=T.set(w,P)||T,P};return m.cache=new(ky.Cache||Oa),m}ky.Cache=Oa;function Fy(u){if(typeof u!="function")throw new js(s);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function g2(u){return N_(2,u)}var m2=rx(function(u,f){f=f.length==1&&Et(f[0])?Ar(f[0],Uo(rt())):Ar(qn(f,1),Uo(rt()));var m=f.length;return Pt(function(b){for(var w=-1,T=ti(b.length,m);++w<T;)b[w]=f[w].call(this,b[w]);return Bo(u,this,b)})}),k0=Pt(function(u,f){var m=Fa(f,Cd(k0));return Ea(u,Ne,r,f,m)}),B_=Pt(function(u,f){var m=Fa(f,Cd(B_));return Ea(u,ze,r,f,m)}),y2=Ia(function(u,f){return Ea(u,yt,r,r,r,f)});function b2(u,f){if(typeof u!="function")throw new js(s);return f=f===r?f:It(f),Pt(u,f)}function v2(u,f){if(typeof u!="function")throw new js(s);return f=f==null?0:xn(It(f),0),Pt(function(m){var b=m[f],w=Va(m,0,f);return b&&ka(w,b),Bo(u,this,w)})}function _2(u,f,m){var b=!0,w=!0;if(typeof u!="function")throw new js(s);return Fr(m)&&(b="leading"in m?!!m.leading:b,w="trailing"in m?!!m.trailing:w),M_(u,f,{leading:b,maxWait:f,trailing:w})}function w2(u){return R_(u,1)}function x2(u,f){return k0(v0(f),u)}function T2(){if(!arguments.length)return[];var u=arguments[0];return Et(u)?u:[u]}function O2(u){return Zs(u,y)}function S2(u,f){return f=typeof f=="function"?f:r,Zs(u,y,f)}function E2(u){return Zs(u,c|y)}function I2(u,f){return f=typeof f=="function"?f:r,Zs(u,c|y,f)}function A2(u,f){return f==null||Ev(u,f,Sn(f))}function oa(u,f){return u===f||u!==u&&f!==f}var P2=Ay(a0),C2=Ay(function(u,f){return u>=f}),gu=Dv(function(){return arguments}())?Dv:function(u){return Hr(u)&&lr.call(u,"callee")&&!bv.call(u,"callee")},Et=Y.isArray,$2=Q0?Uo(Q0):B1;function di(u){return u!=null&&Ly(u.length)&&!Pa(u)}function Jr(u){return Hr(u)&&di(u)}function D2(u){return u===!0||u===!1||Hr(u)&&ai(u)==vr}var za=Ww||W0,R2=ev?Uo(ev):U1;function N2(u){return Hr(u)&&u.nodeType===1&&!Dg(u)}function k2(u){if(u==null)return!0;if(di(u)&&(Et(u)||typeof u=="string"||typeof u.splice=="function"||za(u)||Rd(u)||gu(u)))return!u.length;var f=ri(u);if(f==F||f==_e)return!u.size;if(Cg(u))return!c0(u).length;for(var m in u)if(lr.call(u,m))return!1;return!0}function F2(u,f){return Ig(u,f)}function L2(u,f,m){m=typeof m=="function"?m:r;var b=m?m(u,f):r;return b===r?Ig(u,f,r,m):!!b}function F0(u){if(!Hr(u))return!1;var f=ai(u);return f==In||f==Kr||typeof u.message=="string"&&typeof u.name=="string"&&!Dg(u)}function M2(u){return typeof u=="number"&&_v(u)}function Pa(u){if(!Fr(u))return!1;var f=ai(u);return f==An||f==C||f==on||f==Ae}function U_(u){return typeof u=="number"&&u==It(u)}function Ly(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=st}function Fr(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Hr(u){return u!=null&&typeof u=="object"}var j_=tv?Uo(tv):V1;function B2(u,f){return u===f||l0(u,f,E0(f))}function U2(u,f,m){return m=typeof m=="function"?m:r,l0(u,f,E0(f),m)}function j2(u){return V_(u)&&u!=+u}function V2(u){if(Sx(u))throw new xt(n);return Rv(u)}function Z2(u){return u===null}function z2(u){return u==null}function V_(u){return typeof u=="number"||Hr(u)&&ai(u)==X}function Dg(u){if(!Hr(u)||ai(u)!=ie)return!1;var f=cy(u);if(f===null)return!0;var m=lr.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&sy.call(m)==Uw}var L0=rv?Uo(rv):Z1;function H2(u){return U_(u)&&u>=-st&&u<=st}var Z_=nv?Uo(nv):z1;function My(u){return typeof u=="string"||!Et(u)&&Hr(u)&&ai(u)==he}function zo(u){return typeof u=="symbol"||Hr(u)&&ai(u)==Ce}var Rd=iv?Uo(iv):H1;function W2(u){return u===r}function G2(u){return Hr(u)&&ri(u)==Le}function q2(u){return Hr(u)&&ai(u)==Qe}var K2=Ay(f0),Y2=Ay(function(u,f){return u<=f});function z_(u){if(!u)return[];if(di(u))return My(u)?Ks(u):fi(u);if(mg&&u[mg])return Aw(u[mg]());var f=ri(u),m=f==F?Qy:f==_e?ny:Nd;return m(u)}function Ca(u){if(!u)return u===0?u:0;if(u=Ws(u),u===at||u===-at){var f=u<0?-1:1;return f*qt}return u===u?u:0}function It(u){var f=Ca(u),m=f%1;return f===f?m?f-m:f:0}function H_(u){return u?cu(It(u),0,Ht):0}function Ws(u){if(typeof u=="number")return u;if(zo(u))return Sr;if(Fr(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=Fr(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=cv(u);var m=Da.test(u);return m||jg.test(u)?fw(u.slice(2),m?2:8):Fd.test(u)?Sr:+u}function W_(u){return ba(u,Ro(u))}function X2(u){return u?cu(It(u),-st,st):u===0?u:0}function Qt(u){return u==null?"":Vo(u)}var J2=xd(function(u,f){if(Cg(f)||di(f)){ba(f,Sn(f),u);return}for(var m in f)lr.call(f,m)&&Og(u,m,f[m])}),G_=xd(function(u,f){ba(f,Ro(f),u)}),By=xd(function(u,f,m,b){ba(f,Ro(f),u,b)}),Q2=xd(function(u,f,m,b){ba(f,Sn(f),u,b)}),eO=Ia(i0);function tO(u,f){var m=bd(u);return f==null?m:Sv(m,f)}var rO=Pt(function(u,f){u=wr(u);var m=-1,b=f.length,w=b>2?f[2]:r;for(w&&ui(f[0],f[1],w)&&(b=1);++m<b;)for(var T=f[m],P=Ro(T),k=-1,V=P.length;++k<V;){var se=P[k],ue=u[se];(ue===r||oa(ue,gd[se])&&!lr.call(u,se))&&(u[se]=T[se])}return u}),nO=Pt(function(u){return u.push(r,c_),Bo(q_,r,u)});function iO(u,f){return sv(u,rt(f,3),ya)}function oO(u,f){return sv(u,rt(f,3),s0)}function sO(u,f){return u==null?u:o0(u,rt(f,3),Ro)}function aO(u,f){return u==null?u:Cv(u,rt(f,3),Ro)}function uO(u,f){return u&&ya(u,rt(f,3))}function lO(u,f){return u&&s0(u,rt(f,3))}function cO(u){return u==null?[]:_y(u,Sn(u))}function fO(u){return u==null?[]:_y(u,Ro(u))}function M0(u,f,m){var b=u==null?r:du(u,f);return b===r?m:b}function dO(u,f){return u!=null&&p_(u,f,k1)}function B0(u,f){return u!=null&&p_(u,f,F1)}var pO=o_(function(u,f,m){f!=null&&typeof f.toString!="function"&&(f=ay.call(f)),u[f]=m},j0(No)),hO=o_(function(u,f,m){f!=null&&typeof f.toString!="function"&&(f=ay.call(f)),lr.call(u,f)?u[f].push(m):u[f]=[m]},rt),gO=Pt(Eg);function Sn(u){return di(u)?Tv(u):c0(u)}function Ro(u){return di(u)?Tv(u,!0):W1(u)}function mO(u,f){var m={};return f=rt(f,3),ya(u,function(b,w,T){Sa(m,f(b,w,T),b)}),m}function yO(u,f){var m={};return f=rt(f,3),ya(u,function(b,w,T){Sa(m,w,f(b,w,T))}),m}var bO=xd(function(u,f,m){wy(u,f,m)}),q_=xd(function(u,f,m,b){wy(u,f,m,b)}),vO=Ia(function(u,f){var m={};if(u==null)return m;var b=!1;f=Ar(f,function(T){return T=Ua(T,u),b||(b=T.length>1),T}),ba(u,O0(u),m),b&&(m=Zs(m,c|g|y,px));for(var w=f.length;w--;)m0(m,f[w]);return m});function _O(u,f){return K_(u,Fy(rt(f)))}var wO=Ia(function(u,f){return u==null?{}:q1(u,f)});function K_(u,f){if(u==null)return{};var m=Ar(O0(u),function(b){return[b]});return f=rt(f),Uv(u,m,function(b,w){return f(b,w[0])})}function xO(u,f,m){f=Ua(f,u);var b=-1,w=f.length;for(w||(w=1,u=r);++b<w;){var T=u==null?r:u[va(f[b])];T===r&&(b=w,T=m),u=Pa(T)?T.call(u):T}return u}function TO(u,f,m){return u==null?u:Ag(u,f,m)}function OO(u,f,m,b){return b=typeof b=="function"?b:r,u==null?u:Ag(u,f,m,b)}var Y_=u_(Sn),X_=u_(Ro);function SO(u,f,m){var b=Et(u),w=b||za(u)||Rd(u);if(f=rt(f,4),m==null){var T=u&&u.constructor;w?m=b?new T:[]:Fr(u)?m=Pa(T)?bd(cy(u)):{}:m={}}return(w?Bs:ya)(u,function(P,k,V){return f(m,P,k,V)}),m}function EO(u,f){return u==null?!0:m0(u,f)}function IO(u,f,m){return u==null?u:Hv(u,f,v0(m))}function AO(u,f,m,b){return b=typeof b=="function"?b:r,u==null?u:Hv(u,f,v0(m),b)}function Nd(u){return u==null?[]:Jy(u,Sn(u))}function PO(u){return u==null?[]:Jy(u,Ro(u))}function CO(u,f,m){return m===r&&(m=f,f=r),m!==r&&(m=Ws(m),m=m===m?m:0),f!==r&&(f=Ws(f),f=f===f?f:0),cu(Ws(u),f,m)}function $O(u,f,m){return f=Ca(f),m===r?(m=f,f=0):m=Ca(m),u=Ws(u),L1(u,f,m)}function DO(u,f,m){if(m&&typeof m!="boolean"&&ui(u,f,m)&&(f=m=r),m===r&&(typeof f=="boolean"?(m=f,f=r):typeof u=="boolean"&&(m=u,u=r)),u===r&&f===r?(u=0,f=1):(u=Ca(u),f===r?(f=u,u=0):f=Ca(f)),u>f){var b=u;u=f,f=b}if(m||u%1||f%1){var w=wv();return ti(u+w*(f-u+cw("1e-"+((w+"").length-1))),f)}return p0(u,f)}var RO=Td(function(u,f,m){return f=f.toLowerCase(),u+(m?J_(f):f)});function J_(u){return U0(Qt(u).toLowerCase())}function Q_(u){return u=Qt(u),u&&u.replace(Zg,Tw).replace(Rs,"")}function kO(u,f,m){u=Qt(u),f=Vo(f);var b=u.length;m=m===r?b:cu(It(m),0,b);var w=m;return m-=f.length,m>=0&&u.slice(m,w)==f}function FO(u){return u=Qt(u),u&&ke.test(u)?u.replace(j,Ow):u}function LO(u){return u=Qt(u),u&&Ga.test(u)?u.replace(wa,"\\$&"):u}var MO=Td(function(u,f,m){return u+(m?"-":"")+f.toLowerCase()}),BO=Td(function(u,f,m){return u+(m?" ":"")+f.toLowerCase()}),UO=r_("toLowerCase");function jO(u,f,m){u=Qt(u),f=It(f);var b=f?Lu(u):0;if(!f||b>=f)return u;var w=(f-b)/2;return Iy(hy(w),m)+u+Iy(py(w),m)}function VO(u,f,m){u=Qt(u),f=It(f);var b=f?Lu(u):0;return f&&b<f?u+Iy(f-b,m):u}function ZO(u,f,m){u=Qt(u),f=It(f);var b=f?Lu(u):0;return f&&b<f?Iy(f-b,m)+u:u}function zO(u,f,m){return m||f==null?f=0:f&&(f=+f),Yw(Qt(u).replace(J,""),f||0)}function HO(u,f,m){return(m?ui(u,f,m):f===r)?f=1:f=It(f),h0(Qt(u),f)}function WO(){var u=arguments,f=Qt(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var GO=Td(function(u,f,m){return u+(m?"_":"")+f.toLowerCase()});function qO(u,f,m){return m&&typeof m!="number"&&ui(u,f,m)&&(f=m=r),m=m===r?Ht:m>>>0,m?(u=Qt(u),u&&(typeof f=="string"||f!=null&&!L0(f))&&(f=Vo(f),!f&&Au(u))?Va(Ks(u),0,m):u.split(f,m)):[]}var KO=Td(function(u,f,m){return u+(m?" ":"")+U0(f)});function YO(u,f,m){return u=Qt(u),m=m==null?0:cu(It(m),0,u.length),f=Vo(f),u.slice(m,m+f.length)==f}function XO(u,f,m){var b=x.templateSettings;m&&ui(u,f,m)&&(f=r),u=Qt(u),f=By({},f,b,l_);var w=By({},f.imports,b.imports,l_),T=Sn(w),P=Jy(w,T),k,V,se=0,ue=f.interpolate||nu,ge="__p += '",$e=Zb((f.escape||nu).source+"|"+ue.source+"|"+(ue===jr?kd:nu).source+"|"+(f.evaluate||nu).source+"|$","g"),Ze="//# sourceURL="+(lr.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tr+"]")+`
`;u.replace($e,function(ot,Rt,Lt,Wo,ci,Go){return Lt||(Lt=Wo),ge+=u.slice(se,Go).replace(Md,Sw),Rt&&(k=!0,ge+=`' +
__e(`+Rt+`) +
'`),ci&&(V=!0,ge+=`';
`+ci+`;
__p += '`),Lt&&(ge+=`' +
((__t = (`+Lt+`)) == null ? '' : __t) +
'`),se=Go+ot.length,ot}),ge+=`';
`;var it=lr.call(f,"variable")&&f.variable;if(!it)ge=`with (obj) {
`+ge+`
}
`;else if(Mg.test(it))throw new xt(d);ge=(V?ge.replace(Jo,""):ge).replace(_a,"$1").replace(E,"$1;"),ge="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ge+`return __p
}`;var At=tw(function(){return Yt(T,Ze+"return "+ge).apply(r,P)});if(At.source=ge,F0(At))throw At;return At}function JO(u){return Qt(u).toLowerCase()}function QO(u){return Qt(u).toUpperCase()}function eS(u,f,m){if(u=Qt(u),u&&(m||f===r))return cv(u);if(!u||!(f=Vo(f)))return u;var b=Ks(u),w=Ks(f),T=fv(b,w),P=dv(b,w)+1;return Va(b,T,P).join("")}function tS(u,f,m){if(u=Qt(u),u&&(m||f===r))return u.slice(0,hv(u)+1);if(!u||!(f=Vo(f)))return u;var b=Ks(u),w=dv(b,Ks(f))+1;return Va(b,0,w).join("")}function rS(u,f,m){if(u=Qt(u),u&&(m||f===r))return u.replace(J,"");if(!u||!(f=Vo(f)))return u;var b=Ks(u),w=fv(b,Ks(f));return Va(b,w).join("")}function nS(u,f){var m=Bt,b=ni;if(Fr(f)){var w="separator"in f?f.separator:w;m="length"in f?It(f.length):m,b="omission"in f?Vo(f.omission):b}u=Qt(u);var T=u.length;if(Au(u)){var P=Ks(u);T=P.length}if(m>=T)return u;var k=m-Lu(b);if(k<1)return b;var V=P?Va(P,0,k).join(""):u.slice(0,k);if(w===r)return V+b;if(P&&(k+=V.length-k),L0(w)){if(u.slice(k).search(w)){var se,ue=V;for(w.global||(w=Zb(w.source,Qt(ru.exec(w))+"g")),w.lastIndex=0;se=w.exec(ue);)var ge=se.index;V=V.slice(0,ge===r?k:ge)}}else if(u.indexOf(Vo(w),k)!=k){var $e=V.lastIndexOf(w);$e>-1&&(V=V.slice(0,$e))}return V+b}function iS(u){return u=Qt(u),u&&ne.test(u)?u.replace(M,Dw):u}var oS=Td(function(u,f,m){return u+(m?" ":"")+f.toUpperCase()}),U0=r_("toUpperCase");function ew(u,f,m){return u=Qt(u),f=m?r:f,f===r?Iw(u)?kw(u):bw(u):u.match(f)||[]}var tw=Pt(function(u,f){try{return Bo(u,r,f)}catch(m){return F0(m)?m:new xt(m)}}),sS=Ia(function(u,f){return Bs(f,function(m){m=va(m),Sa(u,m,N0(u[m],u))}),u});function aS(u){var f=u==null?0:u.length,m=rt();return u=f?Ar(u,function(b){if(typeof b[1]!="function")throw new js(s);return[m(b[0]),b[1]]}):[],Pt(function(b){for(var w=-1;++w<f;){var T=u[w];if(Bo(T[0],this,b))return Bo(T[1],this,b)}})}function uS(u){return D1(Zs(u,c))}function j0(u){return function(){return u}}function lS(u,f){return u==null||u!==u?f:u}var cS=i_(),fS=i_(!0);function No(u){return u}function V0(u){return Nv(typeof u=="function"?u:Zs(u,c))}function dS(u){return Fv(Zs(u,c))}function pS(u,f){return Lv(u,Zs(f,c))}var hS=Pt(function(u,f){return function(m){return Eg(m,u,f)}}),gS=Pt(function(u,f){return function(m){return Eg(u,m,f)}});function Z0(u,f,m){var b=Sn(f),w=_y(f,b);m==null&&!(Fr(f)&&(w.length||!b.length))&&(m=f,f=u,u=this,w=_y(f,Sn(f)));var T=!(Fr(m)&&"chain"in m)||!!m.chain,P=Pa(u);return Bs(w,function(k){var V=f[k];u[k]=V,P&&(u.prototype[k]=function(){var se=this.__chain__;if(T||se){var ue=u(this.__wrapped__),ge=ue.__actions__=fi(this.__actions__);return ge.push({func:V,args:arguments,thisArg:u}),ue.__chain__=se,ue}return V.apply(u,ka([this.value()],arguments))})}),u}function mS(){return Hn._===this&&(Hn._=jw),this}function z0(){}function yS(u){return u=It(u),Pt(function(f){return Mv(f,u)})}var bS=w0(Ar),vS=w0(ov),_S=w0(Gy);function rw(u){return A0(u)?qy(va(u)):K1(u)}function wS(u){return function(f){return u==null?r:du(u,f)}}var xS=s_(),TS=s_(!0);function H0(){return[]}function W0(){return!1}function OS(){return{}}function SS(){return""}function ES(){return!0}function IS(u,f){if(u=It(u),u<1||u>st)return[];var m=Ht,b=ti(u,Ht);f=rt(f),u-=Ht;for(var w=Xy(b,f);++m<u;)f(m);return w}function AS(u){return Et(u)?Ar(u,va):zo(u)?[u]:fi(x_(Qt(u)))}function PS(u){var f=++Bw;return Qt(u)+f}var CS=Ey(function(u,f){return u+f},0),$S=x0("ceil"),DS=Ey(function(u,f){return u/f},1),RS=x0("floor");function NS(u){return u&&u.length?vy(u,No,a0):r}function kS(u,f){return u&&u.length?vy(u,rt(f,2),a0):r}function FS(u){return uv(u,No)}function LS(u,f){return uv(u,rt(f,2))}function MS(u){return u&&u.length?vy(u,No,f0):r}function BS(u,f){return u&&u.length?vy(u,rt(f,2),f0):r}var US=Ey(function(u,f){return u*f},1),jS=x0("round"),VS=Ey(function(u,f){return u-f},0);function ZS(u){return u&&u.length?Yy(u,No):0}function zS(u,f){return u&&u.length?Yy(u,rt(f,2)):0}return x.after=f2,x.ary=R_,x.assign=J2,x.assignIn=G_,x.assignInWith=By,x.assignWith=Q2,x.at=eO,x.before=N_,x.bind=N0,x.bindAll=sS,x.bindKey=k_,x.castArray=T2,x.chain=C_,x.chunk=Dx,x.compact=Rx,x.concat=Nx,x.cond=aS,x.conforms=uS,x.constant=j0,x.countBy=VT,x.create=tO,x.curry=F_,x.curryRight=L_,x.debounce=M_,x.defaults=rO,x.defaultsDeep=nO,x.defer=d2,x.delay=p2,x.difference=kx,x.differenceBy=Fx,x.differenceWith=Lx,x.drop=Mx,x.dropRight=Bx,x.dropRightWhile=Ux,x.dropWhile=jx,x.fill=Vx,x.filter=zT,x.flatMap=GT,x.flatMapDeep=qT,x.flatMapDepth=KT,x.flatten=E_,x.flattenDeep=Zx,x.flattenDepth=zx,x.flip=h2,x.flow=cS,x.flowRight=fS,x.fromPairs=Hx,x.functions=cO,x.functionsIn=fO,x.groupBy=YT,x.initial=Gx,x.intersection=qx,x.intersectionBy=Kx,x.intersectionWith=Yx,x.invert=pO,x.invertBy=hO,x.invokeMap=JT,x.iteratee=V0,x.keyBy=QT,x.keys=Sn,x.keysIn=Ro,x.map=Ry,x.mapKeys=mO,x.mapValues=yO,x.matches=dS,x.matchesProperty=pS,x.memoize=ky,x.merge=bO,x.mergeWith=q_,x.method=hS,x.methodOf=gS,x.mixin=Z0,x.negate=Fy,x.nthArg=yS,x.omit=vO,x.omitBy=_O,x.once=g2,x.orderBy=e2,x.over=bS,x.overArgs=m2,x.overEvery=vS,x.overSome=_S,x.partial=k0,x.partialRight=B_,x.partition=t2,x.pick=wO,x.pickBy=K_,x.property=rw,x.propertyOf=wS,x.pull=eT,x.pullAll=A_,x.pullAllBy=tT,x.pullAllWith=rT,x.pullAt=nT,x.range=xS,x.rangeRight=TS,x.rearg=y2,x.reject=i2,x.remove=iT,x.rest=b2,x.reverse=D0,x.sampleSize=s2,x.set=TO,x.setWith=OO,x.shuffle=a2,x.slice=oT,x.sortBy=c2,x.sortedUniq=dT,x.sortedUniqBy=pT,x.split=qO,x.spread=v2,x.tail=hT,x.take=gT,x.takeRight=mT,x.takeRightWhile=yT,x.takeWhile=bT,x.tap=RT,x.throttle=_2,x.thru=Dy,x.toArray=z_,x.toPairs=Y_,x.toPairsIn=X_,x.toPath=AS,x.toPlainObject=W_,x.transform=SO,x.unary=w2,x.union=vT,x.unionBy=_T,x.unionWith=wT,x.uniq=xT,x.uniqBy=TT,x.uniqWith=OT,x.unset=EO,x.unzip=R0,x.unzipWith=P_,x.update=IO,x.updateWith=AO,x.values=Nd,x.valuesIn=PO,x.without=ST,x.words=ew,x.wrap=x2,x.xor=ET,x.xorBy=IT,x.xorWith=AT,x.zip=PT,x.zipObject=CT,x.zipObjectDeep=$T,x.zipWith=DT,x.entries=Y_,x.entriesIn=X_,x.extend=G_,x.extendWith=By,Z0(x,x),x.add=CS,x.attempt=tw,x.camelCase=RO,x.capitalize=J_,x.ceil=$S,x.clamp=CO,x.clone=O2,x.cloneDeep=E2,x.cloneDeepWith=I2,x.cloneWith=S2,x.conformsTo=A2,x.deburr=Q_,x.defaultTo=lS,x.divide=DS,x.endsWith=kO,x.eq=oa,x.escape=FO,x.escapeRegExp=LO,x.every=ZT,x.find=HT,x.findIndex=O_,x.findKey=iO,x.findLast=WT,x.findLastIndex=S_,x.findLastKey=oO,x.floor=RS,x.forEach=$_,x.forEachRight=D_,x.forIn=sO,x.forInRight=aO,x.forOwn=uO,x.forOwnRight=lO,x.get=M0,x.gt=P2,x.gte=C2,x.has=dO,x.hasIn=B0,x.head=I_,x.identity=No,x.includes=XT,x.indexOf=Wx,x.inRange=$O,x.invoke=gO,x.isArguments=gu,x.isArray=Et,x.isArrayBuffer=$2,x.isArrayLike=di,x.isArrayLikeObject=Jr,x.isBoolean=D2,x.isBuffer=za,x.isDate=R2,x.isElement=N2,x.isEmpty=k2,x.isEqual=F2,x.isEqualWith=L2,x.isError=F0,x.isFinite=M2,x.isFunction=Pa,x.isInteger=U_,x.isLength=Ly,x.isMap=j_,x.isMatch=B2,x.isMatchWith=U2,x.isNaN=j2,x.isNative=V2,x.isNil=z2,x.isNull=Z2,x.isNumber=V_,x.isObject=Fr,x.isObjectLike=Hr,x.isPlainObject=Dg,x.isRegExp=L0,x.isSafeInteger=H2,x.isSet=Z_,x.isString=My,x.isSymbol=zo,x.isTypedArray=Rd,x.isUndefined=W2,x.isWeakMap=G2,x.isWeakSet=q2,x.join=Xx,x.kebabCase=MO,x.last=Hs,x.lastIndexOf=Jx,x.lowerCase=BO,x.lowerFirst=UO,x.lt=K2,x.lte=Y2,x.max=NS,x.maxBy=kS,x.mean=FS,x.meanBy=LS,x.min=MS,x.minBy=BS,x.stubArray=H0,x.stubFalse=W0,x.stubObject=OS,x.stubString=SS,x.stubTrue=ES,x.multiply=US,x.nth=Qx,x.noConflict=mS,x.noop=z0,x.now=Ny,x.pad=jO,x.padEnd=VO,x.padStart=ZO,x.parseInt=zO,x.random=DO,x.reduce=r2,x.reduceRight=n2,x.repeat=HO,x.replace=WO,x.result=xO,x.round=jS,x.runInContext=B,x.sample=o2,x.size=u2,x.snakeCase=GO,x.some=l2,x.sortedIndex=sT,x.sortedIndexBy=aT,x.sortedIndexOf=uT,x.sortedLastIndex=lT,x.sortedLastIndexBy=cT,x.sortedLastIndexOf=fT,x.startCase=KO,x.startsWith=YO,x.subtract=VS,x.sum=ZS,x.sumBy=zS,x.template=XO,x.times=IS,x.toFinite=Ca,x.toInteger=It,x.toLength=H_,x.toLower=JO,x.toNumber=Ws,x.toSafeInteger=X2,x.toString=Qt,x.toUpper=QO,x.trim=eS,x.trimEnd=tS,x.trimStart=rS,x.truncate=nS,x.unescape=iS,x.uniqueId=PS,x.upperCase=oS,x.upperFirst=U0,x.each=$_,x.eachRight=D_,x.first=I_,Z0(x,function(){var u={};return ya(x,function(f,m){lr.call(x.prototype,m)||(u[m]=f)}),u}(),{chain:!1}),x.VERSION=o,Bs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){x[u].placeholder=x}),Bs(["drop","take"],function(u,f){Nt.prototype[u]=function(m){m=m===r?1:xn(It(m),0);var b=this.__filtered__&&!f?new Nt(this):this.clone();return b.__filtered__?b.__takeCount__=ti(m,b.__takeCount__):b.__views__.push({size:ti(m,Ht),type:u+(b.__dir__<0?"Right":"")}),b},Nt.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),Bs(["filter","map","takeWhile"],function(u,f){var m=f+1,b=m==et||m==fr;Nt.prototype[u]=function(w){var T=this.clone();return T.__iteratees__.push({iteratee:rt(w,3),type:m}),T.__filtered__=T.__filtered__||b,T}}),Bs(["head","last"],function(u,f){var m="take"+(f?"Right":"");Nt.prototype[u]=function(){return this[m](1).value()[0]}}),Bs(["initial","tail"],function(u,f){var m="drop"+(f?"":"Right");Nt.prototype[u]=function(){return this.__filtered__?new Nt(this):this[m](1)}}),Nt.prototype.compact=function(){return this.filter(No)},Nt.prototype.find=function(u){return this.filter(u).head()},Nt.prototype.findLast=function(u){return this.reverse().find(u)},Nt.prototype.invokeMap=Pt(function(u,f){return typeof u=="function"?new Nt(this):this.map(function(m){return Eg(m,u,f)})}),Nt.prototype.reject=function(u){return this.filter(Fy(rt(u)))},Nt.prototype.slice=function(u,f){u=It(u);var m=this;return m.__filtered__&&(u>0||f<0)?new Nt(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),f!==r&&(f=It(f),m=f<0?m.dropRight(-f):m.take(f-u)),m)},Nt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Nt.prototype.toArray=function(){return this.take(Ht)},ya(Nt.prototype,function(u,f){var m=/^(?:filter|find|map|reject)|While$/.test(f),b=/^(?:head|last)$/.test(f),w=x[b?"take"+(f=="last"?"Right":""):f],T=b||/^find/.test(f);w&&(x.prototype[f]=function(){var P=this.__wrapped__,k=b?[1]:arguments,V=P instanceof Nt,se=k[0],ue=V||Et(P),ge=function(Rt){var Lt=w.apply(x,ka([Rt],k));return b&&$e?Lt[0]:Lt};ue&&m&&typeof se=="function"&&se.length!=1&&(V=ue=!1);var $e=this.__chain__,Ze=!!this.__actions__.length,it=T&&!$e,At=V&&!Ze;if(!T&&ue){P=At?P:new Nt(this);var ot=u.apply(P,k);return ot.__actions__.push({func:Dy,args:[ge],thisArg:r}),new Vs(ot,$e)}return it&&At?u.apply(this,k):(ot=this.thru(ge),it?b?ot.value()[0]:ot.value():ot)})}),Bs(["pop","push","shift","sort","splice","unshift"],function(u){var f=iy[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",b=/^(?:pop|shift)$/.test(u);x.prototype[u]=function(){var w=arguments;if(b&&!this.__chain__){var T=this.value();return f.apply(Et(T)?T:[],w)}return this[m](function(P){return f.apply(Et(P)?P:[],w)})}}),ya(Nt.prototype,function(u,f){var m=x[f];if(m){var b=m.name+"";lr.call(yd,b)||(yd[b]=[]),yd[b].push({name:f,func:m})}}),yd[Sy(r,H).name]=[{name:"wrapper",func:r}],Nt.prototype.clone=n1,Nt.prototype.reverse=i1,Nt.prototype.value=o1,x.prototype.at=NT,x.prototype.chain=kT,x.prototype.commit=FT,x.prototype.next=LT,x.prototype.plant=BT,x.prototype.reverse=UT,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=jT,x.prototype.first=x.prototype.head,mg&&(x.prototype[mg]=MT),x},Zu=Fw();su?((su.exports=Zu)._=Zu,Zy._=Zu):Hn._=Zu}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;function iota$1(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var iota_1=iota$1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(e){return e!=null&&(isBuffer$1(e)||isSlowBuffer(e)||!!e._isBuffer)};function isBuffer$1(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&isBuffer$1(e.slice(0,0))}var iota=iota_1,isBuffer=isBuffer_1,hasTypedArrays=typeof Float64Array<"u";function compare1st(e,t){return e[0]-t[0]}function order(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(compare1st);var o=new Array(t.length);for(r=0;r<o.length;++r)o[r]=t[r][1];return o}function compileConstructor(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var o=e==="generic";if(t===-1){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",I=new Function(a);return I()}else if(t===0){var a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",I=new Function("TrivialArray",a);return I(CACHED_CONSTRUCTORS[e][0])}var a=["'use strict'"],n=iota(t),s=n.map(function(A){return"i"+A}),d="this.offset+"+n.map(function(A){return"this.stride["+A+"]*i"+A}).join("+"),h=n.map(function(A){return"b"+A}).join(","),i=n.map(function(A){return"c"+A}).join(",");a.push("function "+r+"(a,"+h+","+i+",d){this.data=a","this.shape=["+h+"]","this.stride=["+i+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+n.map(function(A){return"this.shape["+A+"]"}).join("*"),"}})"),t===1?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),t===2?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+s.join(",")+",v){"),o?a.push("return this.data.set("+d+",v)}"):a.push("return this.data["+d+"]=v}"),a.push("proto.get=function "+r+"_get("+s.join(",")+"){"),o?a.push("return this.data.get("+d+")}"):a.push("return this.data["+d+"]}"),a.push("proto.index=function "+r+"_index(",s.join(),"){return "+d+"}"),a.push("proto.hi=function "+r+"_hi("+s.join(",")+"){return new "+r+"(this.data,"+n.map(function(A){return["(typeof i",A,"!=='number'||i",A,"<0)?this.shape[",A,"]:i",A,"|0"].join("")}).join(",")+","+n.map(function(A){return"this.stride["+A+"]"}).join(",")+",this.offset)}");var l=n.map(function(A){return"a"+A+"=this.shape["+A+"]"}),c=n.map(function(A){return"c"+A+"=this.stride["+A+"]"});a.push("proto.lo=function "+r+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+l.join(",")+","+c.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+r+"(this.data,"+n.map(function(A){return"a"+A}).join(",")+","+n.map(function(A){return"c"+A}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+s.join(",")+"){var "+n.map(function(A){return"a"+A+"=this.shape["+A+"]"}).join(",")+","+n.map(function(A){return"b"+A+"=this.stride["+A+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+r+"(this.data,"+n.map(function(A){return"a"+A}).join(",")+","+n.map(function(A){return"b"+A}).join(",")+",c)}");for(var y=new Array(t),S=new Array(t),g=0;g<t;++g)y[g]="a[i"+g+"]",S[g]="b[i"+g+"]";a.push("proto.transpose=function "+r+"_transpose("+s+"){"+s.map(function(A,H){return A+"=("+A+"===undefined?"+H+":"+A+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+S.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+s+"){var a=[],b=[],c=this.offset");for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+n.map(function(A){return"shape["+A+"]"}).join(",")+","+n.map(function(A){return"stride["+A+"]"}).join(",")+",offset)}");var I=new Function("CTOR_LIST","ORDER",a.join(`
`));return I(CACHED_CONSTRUCTORS[e],order)}function arrayDType(e){if(isBuffer(e))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function wrappedNDArrayCtor(e,t,r,o){if(e===void 0){var i=CACHED_CONSTRUCTORS.array[0];return i([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var a=t.length;if(r===void 0){r=new Array(a);for(var n=a-1,s=1;n>=0;--n)r[n]=s,s*=t[n]}if(o===void 0){o=0;for(var n=0;n<a;++n)r[n]<0&&(o-=(t[n]-1)*r[n])}for(var d=arrayDType(e),h=CACHED_CONSTRUCTORS[d];h.length<=a+1;)h.push(compileConstructor(d,h.length-1));var i=h[a+1];return i(e,t,r,o)}var ndarray=wrappedNDArrayCtor;const ndarray5=getDefaultExportFromCjs(ndarray);/*!
 * ONNX Runtime Web v1.17.1
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var vd=Object.create,En=Object.defineProperty,wd=Object.getOwnPropertyDescriptor,_d=Object.getOwnPropertyNames,Od=Object.getPrototypeOf,Id=Object.prototype.hasOwnProperty,L=(e,t)=>()=>(e&&(t=e(e=0)),t),me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pr=(e,t)=>{for(var r in t)En(e,r,{get:t[r],enumerable:!0})},Ha=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of _d(t))!Id.call(e,a)&&a!==r&&En(e,a,{get:()=>t[a],enumerable:!(o=wd(t,a))||o.enumerable});return e},Er=(e,t,r)=>(r=e!=null?vd(Od(e)):{},Ha(t||!e||!e.__esModule?En(r,"default",{value:e,enumerable:!0}):r,e)),rr=e=>Ha(En({},"__esModule",{value:!0}),e),Dn,nr,or,Ln,Fn=L(()=>{Dn=new Map,nr=[],or=(e,t,r)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let o=Dn.get(e);if(o===void 0)Dn.set(e,{backend:t,priority:r});else{if(o.priority>r)return;if(o.priority===r&&o.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${r}`)}if(r>=0){let a=nr.indexOf(e);a!==-1&&nr.splice(a,1);for(let n=0;n<nr.length;n++)if(Dn.get(nr[n]).priority<=r){nr.splice(n,0,e);return}nr.push(e)}return}throw new TypeError("not a valid backend")},Ln=async e=>{let t=e.length===0?nr:e,r=[];for(let o of t){let a=Dn.get(o);if(a){if(a.initialized)return a.backend;if(a.aborted)continue;let n=!!a.initPromise;try{return n||(a.initPromise=a.backend.init(o)),await a.initPromise,a.initialized=!0,a.backend}catch(s){n||r.push({name:o,err:s}),a.aborted=!0}finally{delete a.initPromise}}}throw new Error(`no available backend found. ERR: ${r.map(o=>`[${o.name}] ${o.err}`).join(", ")}`)}}),qa=L(()=>{Fn()}),ja,Ya=L(()=>{ja="1.17.1"}),Xa,ir,Ho=L(()=>{Ya(),Xa="warning",ir={wasm:{},webgl:{},webgpu:{},versions:{common:ja},set logLevel(e){if(e!==void 0){if(typeof e!="string"||["verbose","info","warning","error","fatal"].indexOf(e)===-1)throw new Error(`Unsupported logging level: ${e}`);Xa=e}},get logLevel(){return Xa}},Object.defineProperty(ir,"logLevel",{enumerable:!0})}),Z,Ka=L(()=>{Ho(),Z=ir}),Ja,Za,Qa=L(()=>{Ja=(e,t)=>{let r=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);r.width=e.dims[3],r.height=e.dims[2];let o=r.getContext("2d");if(o!=null){let a,n;(t==null?void 0:t.tensorLayout)!==void 0&&t.tensorLayout==="NHWC"?(a=e.dims[2],n=e.dims[3]):(a=e.dims[3],n=e.dims[2]);let s=(t==null?void 0:t.format)!==void 0?t.format:"RGB",d=t==null?void 0:t.norm,h,i;d===void 0||d.mean===void 0?h=[255,255,255,255]:typeof d.mean=="number"?h=[d.mean,d.mean,d.mean,d.mean]:(h=[d.mean[0],d.mean[1],d.mean[2],0],d.mean[3]!==void 0&&(h[3]=d.mean[3])),d===void 0||d.bias===void 0?i=[0,0,0,0]:typeof d.bias=="number"?i=[d.bias,d.bias,d.bias,d.bias]:(i=[d.bias[0],d.bias[1],d.bias[2],0],d.bias[3]!==void 0&&(i[3]=d.bias[3]));let l=n*a,c=0,g=l,y=l*2,S=-1;s==="RGBA"?(c=0,g=l,y=l*2,S=l*3):s==="RGB"?(c=0,g=l,y=l*2):s==="RBG"&&(c=0,y=l,g=l*2);for(let I=0;I<n;I++)for(let A=0;A<a;A++){let H=(e.data[c++]-i[0])*h[0],N=(e.data[g++]-i[1])*h[1],G=(e.data[y++]-i[2])*h[2],pe=S===-1?255:(e.data[S++]-i[3])*h[3];o.fillStyle="rgba("+H+","+N+","+G+","+pe+")",o.fillRect(A,I,1,1)}if("toDataURL"in r)return r.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},Za=(e,t)=>{let r=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),o;if(r!=null){let a,n,s;(t==null?void 0:t.tensorLayout)!==void 0&&t.tensorLayout==="NHWC"?(a=e.dims[2],n=e.dims[1],s=e.dims[3]):(a=e.dims[3],n=e.dims[2],s=e.dims[1]);let d=t!==void 0&&t.format!==void 0?t.format:"RGB",h=t==null?void 0:t.norm,i,l;h===void 0||h.mean===void 0?i=[255,255,255,255]:typeof h.mean=="number"?i=[h.mean,h.mean,h.mean,h.mean]:(i=[h.mean[0],h.mean[1],h.mean[2],255],h.mean[3]!==void 0&&(i[3]=h.mean[3])),h===void 0||h.bias===void 0?l=[0,0,0,0]:typeof h.bias=="number"?l=[h.bias,h.bias,h.bias,h.bias]:(l=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(l[3]=h.bias[3]));let c=n*a;if(t!==void 0&&(t.format!==void 0&&s===4&&t.format!=="RGBA"||s===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let g=4,y=0,S=1,I=2,A=3,H=0,N=c,G=c*2,pe=-1;d==="RGBA"?(H=0,N=c,G=c*2,pe=c*3):d==="RGB"?(H=0,N=c,G=c*2):d==="RBG"&&(H=0,G=c,N=c*2),o=r.createImageData(a,n);for(let Ne=0;Ne<n*a;y+=g,S+=g,I+=g,A+=g,Ne++)o.data[y]=(e.data[H++]-l[0])*i[0],o.data[S]=(e.data[N++]-l[1])*i[1],o.data[I]=(e.data[G++]-l[2])*i[2],o.data[A]=pe===-1?255:(e.data[pe++]-l[3])*i[3]}else throw new Error("Can not access image data");return o}}),qo,es,ts,rs,ns,os=L(()=>{$n(),qo=(e,t)=>{if(e===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:r,width:o}=t,a=t.norm??{mean:255,bias:0},n,s;typeof a.mean=="number"?n=[a.mean,a.mean,a.mean,a.mean]:n=[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],typeof a.bias=="number"?s=[a.bias,a.bias,a.bias,a.bias]:s=[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];let d=t.format!==void 0?t.format:"RGBA",h=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",i=r*o,l=h==="RGBA"?new Float32Array(i*4):new Float32Array(i*3),c=4,g=0,y=1,S=2,I=3,A=0,H=i,N=i*2,G=-1;d==="RGB"&&(c=3,g=0,y=1,S=2,I=-1),h==="RGBA"?G=i*3:h==="RBG"?(A=0,N=i,H=i*2):h==="BGR"&&(N=0,H=i,A=i*2);for(let pe=0;pe<i;pe++,g+=c,S+=c,y+=c,I+=c)l[A++]=(e[g]+s[0])/n[0],l[H++]=(e[y]+s[1])/n[1],l[N++]=(e[S]+s[2])/n[2],G!==-1&&I!==-1&&(l[G++]=(e[I]+s[3])/n[3]);return h==="RGBA"?new Ye("float32",l,[1,4,r,o]):new Ye("float32",l,[1,3,r,o])},es=async(e,t)=>{let r=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,o=typeof ImageData<"u"&&e instanceof ImageData,a=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,n=typeof e=="string",s,d=t??{},h=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},i=l=>l instanceof HTMLCanvasElement||l instanceof OffscreenCanvas?l.getContext("2d"):null;if(r){let l=h();l.width=e.width,l.height=e.height;let c=i(l);if(c!=null){let g=e.height,y=e.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(g=t.resizedHeight,y=t.resizedWidth),t!==void 0){if(d=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");d.tensorFormat="RGBA",d.height=g,d.width=y}else d.tensorFormat="RGBA",d.height=g,d.width=y;c.drawImage(e,0,0),s=c.getImageData(0,0,y,g).data}else throw new Error("Can not access image data")}else if(o){let l,c;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(l=t.resizedHeight,c=t.resizedWidth):(l=e.height,c=e.width),t!==void 0&&(d=t),d.format="RGBA",d.height=l,d.width=c,t!==void 0){let g=h();g.width=c,g.height=l;let y=i(g);if(y!=null)y.putImageData(e,0,0),s=y.getImageData(0,0,c,l).data;else throw new Error("Can not access image data")}else s=e.data}else if(a){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let l=h();l.width=e.width,l.height=e.height;let c=i(l);if(c!=null){let g=e.height,y=e.width;return c.drawImage(e,0,0,y,g),s=c.getImageData(0,0,y,g).data,d.height=g,d.width=y,qo(s,d)}else throw new Error("Can not access image data")}else{if(n)return new Promise((l,c)=>{let g=h(),y=i(g);if(!e||!y)return c();let S=new Image;S.crossOrigin="Anonymous",S.src=e,S.onload=()=>{g.width=S.width,g.height=S.height,y.drawImage(S,0,0,g.width,g.height);let I=y.getImageData(0,0,g.width,g.height);d.height=g.height,d.width=g.width,l(qo(I.data,d))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return qo(s,d);throw new Error("Input data provided is not supported - aborted tensor creation")},ts=(e,t)=>{let{width:r,height:o,download:a,dispose:n}=t,s=[1,o,r,4];return new Ye({location:"texture",type:"float32",texture:e,dims:s,download:a,dispose:n})},rs=(e,t)=>{let{dataType:r,dims:o,download:a,dispose:n}=t;return new Ye({location:"gpu-buffer",type:r??"float32",gpuBuffer:e,dims:o,download:a,dispose:n})},ns=(e,t,r)=>new Ye({location:"cpu-pinned",type:e,data:t,dims:r??[t.length]})}),Qr,Cn,is,as,ss=L(()=>{Qr=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Cn=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),is=!1,as=()=>{if(!is){is=!0;let e=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",t=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";e&&(Qr.set("int64",BigInt64Array),Cn.set(BigInt64Array,"int64")),t&&(Qr.set("uint64",BigUint64Array),Cn.set(BigUint64Array,"uint64"))}}}),us,ls,fs=L(()=>{$n(),us=e=>{let t=1;for(let r=0;r<e.length;r++){let o=e[r];if(typeof o!="number"||!Number.isSafeInteger(o))throw new TypeError(`dims[${r}] must be an integer, got: ${o}`);if(o<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${o}`);t*=o}return t},ls=(e,t)=>{switch(e.location){case"cpu":return new Ye(e.type,e.data,t);case"cpu-pinned":return new Ye({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new Ye({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new Ye({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${e.location} is not supported`)}}}),Ye,$n=L(()=>{Qa(),os(),ss(),fs(),Ye=class{constructor(e,t,r){as();let o,a;if(typeof e=="object"&&"location"in e)switch(this.dataLocation=e.location,o=e.type,a=e.dims,e.location){case"cpu-pinned":{let s=Qr.get(o);if(!s)throw new TypeError(`unsupported type "${o}" to create tensor from pinned buffer`);if(!(e.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=e.data;break}case"texture":{if(o!=="float32")throw new TypeError(`unsupported type "${o}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break}case"gpu-buffer":{if(o!=="float32"&&o!=="float16"&&o!=="int32"&&o!=="int64"&&o!=="uint32"&&o!=="bool")throw new TypeError(`unsupported type "${o}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,d;if(typeof e=="string")if(o=e,d=r,e==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");s=t}else{let h=Qr.get(e);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if(e==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");e==="uint64"||e==="int64"?s=h.from(t,BigInt):s=h.from(t)}else if(t instanceof h)s=t;else throw new TypeError(`A ${o} tensor's data must be type of ${h}`)}else if(d=t,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof e[0];if(h==="string")o="string",s=e;else if(h==="boolean")o="bool",s=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=Cn.get(e.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);o=h,s=e}if(d===void 0)d=[s.length];else if(!Array.isArray(d))throw new TypeError("A tensor's dims must be a number array");a=d,this.cpuData=s,this.dataLocation="cpu"}let n=us(a);if(this.cpuData&&n!==this.cpuData.length)throw new Error(`Tensor's size(${n}) does not match data length(${this.cpuData.length}).`);this.type=o,this.dims=a,this.size=n}static async fromImage(e,t){return es(e,t)}static fromTexture(e,t){return ts(e,t)}static fromGpuBuffer(e,t){return rs(e,t)}static fromPinnedBuffer(e,t,r){return ns(e,t,r)}toDataURL(e){return Ja(this,e)}toImageData(e){return Za(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return ls(this,e)}}}),Re,kn=L(()=>{$n(),Re=Ye}),cs,ps,ar,sr,jo=L(()=>{Ho(),cs=(e,t)=>{ir.wasm.trace&&console.timeStamp(`${e}::ORT::${t}`)},ps=(e,t)=>{var a;let r=((a=new Error().stack)==null?void 0:a.split(/\r\n|\r|\n/g))||[],o=!1;for(let n=0;n<r.length;n++){if(o&&!r[n].includes("TRACE_FUNC")){let s=`FUNC_${e}::${r[n].trim().split(" ")[1]}`;t&&(s+=`::${t}`),cs("CPU",s);return}r[n].includes("TRACE_FUNC")&&(o=!0)}},ar=e=>{ir.wasm.trace&&ps("BEGIN",e)},sr=e=>{ir.wasm.trace&&ps("END",e)}}),Bn,ds=L(()=>{Fn(),kn(),jo(),Bn=class iw{constructor(t){this.handler=t}async run(t,r,o){ar();let a={},n={};if(typeof t!="object"||t===null||t instanceof Re||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof r=="object"){if(r===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof Re)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(r.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let i of r){if(typeof i!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(i)===-1)throw new RangeError(`'fetches' contains invalid output name: ${i}.`);a[i]=null}if(typeof o=="object"&&o!==null)n=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else{let i=!1,l=Object.getOwnPropertyNames(r);for(let c of this.outputNames)if(l.indexOf(c)!==-1){let g=r[c];(g===null||g instanceof Re)&&(i=!0,s=!1,a[c]=g)}if(i){if(typeof o=="object"&&o!==null)n=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else n=r}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let i of this.inputNames)if(typeof t[i]>"u")throw new Error(`input '${i}' is missing in 'feeds'.`);if(s)for(let i of this.outputNames)a[i]=null;let d=await this.handler.run(t,a,n),h={};for(let i in d)if(Object.hasOwnProperty.call(d,i)){let l=d[i];l instanceof Re?h[i]=l:h[i]=new Re(l.type,l.data,l.dims)}return sr(),h}async release(){return this.handler.dispose()}static async create(t,r,o,a){ar();let n,s={};if(typeof t=="string"){if(n=t,typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(n=t,typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let i=t,l=0,c=t.byteLength;if(typeof r=="object"&&r!==null)s=r;else if(typeof r=="number"){if(l=r,!Number.isSafeInteger(l))throw new RangeError("'byteOffset' must be an integer.");if(l<0||l>=i.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${i.byteLength}).`);if(c=t.byteLength-l,typeof o=="number"){if(c=o,!Number.isSafeInteger(c))throw new RangeError("'byteLength' must be an integer.");if(c<=0||l+c>i.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${i.byteLength-l}].`);if(typeof a=="object"&&a!==null)s=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof o<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");n=new Uint8Array(i,l,c)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let d=(s.executionProviders||[]).map(i=>typeof i=="string"?i:i.name),h=await(await Ln(d)).createInferenceSessionHandler(n,s);return sr(),new iw(h)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),Sd,hs=L(()=>{ds(),Sd=Bn}),ms=L(()=>{}),Ad,Nn,bs=L(()=>{Fn(),kn(),Ad="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Nn=class ow{constructor(t,r,o){this.handler=t,this.hasOptimizerModel=r,this.hasEvalModel=o}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,r){let o=t.evalModel||"",a=t.optimizerModel||"",n=r||{},s=(n.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),d=await Ln(s);if(d.createTrainingSessionHandler){let h=await d.createTrainingSessionHandler(t.checkpointState,t.trainModel,o,a,n);return new ow(h,!!t.optimizerModel,!!t.evalModel)}else throw new Error(Ad)}typeNarrowingForRunStep(t,r,o,a,n){let s={},d={};if(typeof o!="object"||o===null||o instanceof Re||Array.isArray(o))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let h=!0;if(typeof a=="object"){if(a===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof Re)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(a.length===0)throw new TypeError("'fetches' cannot be an empty array.");h=!1;for(let i of a){if(typeof i!="string")throw new TypeError("'fetches' must be a string array or an object.");if(r.indexOf(i)===-1)throw new RangeError(`'fetches' contains invalid output name: ${i}.`);s[i]=null}if(typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else{let i=!1,l=Object.getOwnPropertyNames(a);for(let c of r)if(l.indexOf(c)!==-1){let g=a[c];(g===null||g instanceof Re)&&(i=!0,h=!1,s[c]=g)}if(i){if(typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else d=a}}else if(typeof a<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let i of t)if(typeof o[i]>"u")throw new Error(`input '${i}' is missing in 'feeds'.`);if(h)for(let i of r)s[i]=null;return[s,d]}convertHandlerReturnTypeToMapOfTensors(t){let r={};for(let o in t)if(Object.hasOwnProperty.call(t,o)){let a=t[o];a instanceof Re?r[o]=a:r[o]=new Re(a.type,a.data,a.dims)}return r}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(t,r,o){let[a,n]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,t,r,o),s=await this.handler.runTrainStep(t,a,n);return this.convertHandlerReturnTypeToMapOfTensors(s)}async runOptimizerStep(t){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(t||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(t,r,o){if(this.hasEvalModel){let[a,n]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,t,r,o),s=await this.handler.runEvalStep(t,a,n);return this.convertHandlerReturnTypeToMapOfTensors(s)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(t=!0){return this.handler.getParametersSize(t)}async loadParametersBuffer(t,r=!0){let o=await this.getParametersSize(r);if(t.length!==4*o)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(t,r)}async getContiguousParameters(t=!0){return this.handler.getContiguousParameters(t)}async release(){return this.handler.dispose()}}}),Pd,gs=L(()=>{bs(),Pd=Nn}),Yo={};Pr(Yo,{InferenceSession:()=>Sd,TRACE:()=>cs,TRACE_FUNC_BEGIN:()=>ar,TRACE_FUNC_END:()=>sr,Tensor:()=>Re,TrainingSession:()=>Pd,env:()=>Z,registerBackend:()=>or});var vt=L(()=>{qa(),Ka(),hs(),kn(),jo(),ms(),gs()});function jt(e,t,r,o){if(t===void 0)return Dd(e);if(r===void 0)Rn(e,t);else if(typeof r=="number"&&o===void 0)Rn(e,t);else if(typeof r=="string"&&o===void 0)Rn(e,r,1,t);else if(typeof r=="string"&&typeof o=="number")Rn(e,r,o,t);else throw new TypeError("input is valid")}function Dd(e){return{verbose:jt.verbose.bind(null,e),info:jt.info.bind(null,e),warning:jt.warning.bind(null,e),error:jt.error.bind(null,e),fatal:jt.fatal.bind(null,e)}}function Rn(e,t,r,o){let a=en[o||""]||en[""];Ts[e]<Ts[a.minimalSeverity]||(a.logDateTime&&(t=`${new Date().toISOString()}|${t}`),a.logSourceLocation,Ed[a.provider].log(e,t,o))}var Xo,Ko,Ts,Ed,xs,en,ce,Gn,Un,zn,Mn,ut=L(()=>{Xo=class{log(e,t,r){}},Ko=class{log(e,t,r){console.log(`${this.color(e)} ${r?"\x1B[35m"+r+"\x1B[0m ":""}${t}`)}color(e){switch(e){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${e}`)}}},Ts={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Ed={none:new Xo,console:new Ko},xs={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},en={"":xs},(e=>{function t(i,l){e("verbose",i,l)}e.verbose=t;function r(i,l){e("info",i,l)}e.info=r;function o(i,l){e("warning",i,l)}e.warning=o;function a(i,l){e("error",i,l)}e.error=a;function n(i,l){e("fatal",i,l)}e.fatal=n;function s(i){en={},d("",i||{})}e.reset=s;function d(i,l){if(i==="*")s(l);else{let c=en[i]||xs;en[i]={provider:l.provider||c.provider,minimalSeverity:l.minimalSeverity||c.minimalSeverity,logDateTime:l.logDateTime===void 0?c.logDateTime:l.logDateTime,logSourceLocation:l.logSourceLocation===void 0?c.logSourceLocation:l.logSourceLocation}}}e.set=d;function h(i){let l={};i.logLevel&&(l.minimalSeverity=i.logLevel),d("",l)}e.setWithEnv=h})(jt||(jt={})),ce=jt,Gn=class{constructor(e,t,r,o,a,n){this.category=e,this.name=t,this.startTime=r,this.endCallback=o,this.timer=a,this.ctx=n}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},Un=class{constructor(e,t,r,o){this.category=e,this.name=t,this.startTime=r,this.endTime=o}},zn=class{constructor(e,t,r){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=e===void 0?1e4:e,this._flushBatchSize=t===void 0?10:t,this._flushIntervalInMilliseconds=r===void 0?5e3:r}static create(e){return e===void 0?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=Mn(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,r,o){let a=this._started?this.begin(e,t,o):void 0,n=!1,s=r();if(s&&typeof s.then=="function")return n=!0,new Promise((d,h)=>{s.then(async i=>{a&&await a.end(),d(i)},async i=>{a&&await a.end(),h(i)})});if(!n&&a){let d=a.end();if(d&&typeof d.then=="function")return new Promise((h,i)=>{d.then(()=>{h(s)},l=>{i(l)})})}return s}begin(e,t,r){if(!this._started)throw new Error("profiler is not started yet");if(r===void 0){let o=Mn();return this.flush(o),new Gn(e,t,o,a=>this.endSync(a))}else{let o=r.beginTimer();return new Gn(e,t,0,async a=>this.end(a),o,r)}}async end(e){let t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Un(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){let t=Mn();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Un(e.category,e.name,e.startTime,t)),this.flush(t))}logOneEvent(e){ce.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(let t=this._flushPointer;this._flushPointer<t+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=Mn()}}get started(){return this._started}},Mn=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function vs(e,t,r){for(let o of r){let a=o[0],n=o[1],s=o[2],d=o[3],h=o[4];if(e.opType===a){for(let i of t)if((i.domain===n||i.domain==="ai.onnx"&&n==="")&&Ld(i.version,s))return{opImpl:d,opInit:h}}}throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: ${t.map(o=>`${o.domain||"ai.onnx"} v${o.version}`).join(", ")}`)}function Ld(e,t){if(t.endsWith("+")){let r=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(r)&&r<=e}else if(t.split("-").length===2){let r=t.split("-"),o=Number.parseInt(r[0],10),a=Number.parseInt(r[1],10);return!isNaN(o)&&!isNaN(a)&&o<=e&&e<=a}else return Number.parseInt(t,10)===e}var ws=L(()=>{}),_s=me(e=>{e.__esModule=!0;var t=function(){function r(o){if(!o)throw new TypeError("Invalid argument; `value` has no value.");this.value=r.EMPTY,o&&r.isGuid(o)&&(this.value=o)}return r.isGuid=function(o){var a=o.toString();return o&&(o instanceof r||r.validator.test(a))},r.create=function(){return new r([r.gen(2),r.gen(1),r.gen(1),r.gen(1),r.gen(3)].join("-"))},r.createEmpty=function(){return new r("emptyguid")},r.parse=function(o){return new r(o)},r.raw=function(){return[r.gen(2),r.gen(1),r.gen(1),r.gen(1),r.gen(3)].join("-")},r.gen=function(o){for(var a="",n=0;n<o;n++)a+=((1+Math.random())*65536|0).toString(16).substring(1);return a},r.prototype.equals=function(o){return r.isGuid(o)&&this.value===o.toString()},r.prototype.isEmpty=function(){return this.value===r.EMPTY},r.prototype.toString=function(){return this.value},r.prototype.toJSON=function(){return{value:this.value}},r.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),r.EMPTY="00000000-0000-0000-0000-000000000000",r}();e.Guid=t});function be(e,t,r){this.low=e|0,this.high=t|0,this.unsigned=!!r}function We(e){return(e&&e.__isLong__)===!0}function Os(e){var t=Math.clz32(e&-e);return e?31-t:t}function ur(e,t){var r,o,a;return t?(e>>>=0,(a=0<=e&&e<256)&&(o=Ss[e],o)?o:(r=le(e,0,!0),a&&(Ss[e]=r),r)):(e|=0,(a=-128<=e&&e<128)&&(o=Is[e],o)?o:(r=le(e,e<0?-1:0,!1),a&&(Is[e]=r),r))}function ft(e,t){if(isNaN(e))return t?Ut:wt;if(t){if(e<0)return Ut;if(e>=Ds)return $s}else{if(e<=-Ps)return tt;if(e+1>=Ps)return Fs}return e<0?ft(-e,t).neg():le(e%Lr|0,e/Lr|0,t)}function le(e,t,r){return new be(e,t,r)}function Qo(e,t,r){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(r=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Ut:wt;if(r=r||10,r<2||36<r)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return Qo(e.substring(1),t,r).neg();for(var a=ft(Vn(r,8)),n=wt,s=0;s<e.length;s+=8){var d=Math.min(8,e.length-s),h=parseInt(e.substring(s,s+d),r);if(d<8){var i=ft(Vn(r,d));n=n.mul(i).add(ft(h))}else n=n.mul(a),n=n.add(ft(h))}return n.unsigned=t,n}function _t(e,t){return typeof e=="number"?ft(e,t):typeof e=="string"?Qo(e,t):le(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}var lt,Is,Ss,Vn,As,$d,Lr,Ds,Ps,Es,wt,Ut,Dr,Ls,Zo,Fs,$s,tt,$,zt,ei=L(()=>{lt=null;try{lt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}be.prototype.__isLong__,Object.defineProperty(be.prototype,"__isLong__",{value:!0}),be.isLong=We,Is={},Ss={},be.fromInt=ur,be.fromNumber=ft,be.fromBits=le,Vn=Math.pow,be.fromString=Qo,be.fromValue=_t,As=65536,$d=1<<24,Lr=As*As,Ds=Lr*Lr,Ps=Ds/2,Es=ur($d),wt=ur(0),be.ZERO=wt,Ut=ur(0,!0),be.UZERO=Ut,Dr=ur(1),be.ONE=Dr,Ls=ur(1,!0),be.UONE=Ls,Zo=ur(-1),be.NEG_ONE=Zo,Fs=le(-1,2147483647,!1),be.MAX_VALUE=Fs,$s=le(-1,-1,!0),be.MAX_UNSIGNED_VALUE=$s,tt=le(0,-2147483648,!1),be.MIN_VALUE=tt,$=be.prototype,$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*Lr+(this.low>>>0):this.high*Lr+(this.low>>>0)},$.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(tt)){var t=ft(e),r=this.div(t),o=r.mul(t).sub(this);return r.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=ft(Vn(e,6),this.unsigned),n=this,s="";;){var d=n.div(a),h=n.sub(d.mul(a)).toInt()>>>0,i=h.toString(e);if(n=d,n.isZero())return i+s;for(;i.length<6;)i="0"+i;s=""+i+s}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(tt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(this.low&1)===1},$.isEven=function(){return(this.low&1)===0},$.equals=function(e){return We(e)||(e=_t(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},$.eq=$.equals,$.notEquals=function(e){return!this.eq(e)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(e){return this.comp(e)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(e){return this.comp(e)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(e){return this.comp(e)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(e){return this.comp(e)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(e){if(We(e)||(e=_t(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(tt)?tt:this.not().add(Dr)},$.neg=$.negate,$.add=function(e){We(e)||(e=_t(e));var t=this.high>>>16,r=this.high&65535,o=this.low>>>16,a=this.low&65535,n=e.high>>>16,s=e.high&65535,d=e.low>>>16,h=e.low&65535,i=0,l=0,c=0,g=0;return g+=a+h,c+=g>>>16,g&=65535,c+=o+d,l+=c>>>16,c&=65535,l+=r+s,i+=l>>>16,l&=65535,i+=t+n,i&=65535,le(c<<16|g,i<<16|l,this.unsigned)},$.subtract=function(e){return We(e)||(e=_t(e)),this.add(e.neg())},$.sub=$.subtract,$.multiply=function(e){if(this.isZero())return this;if(We(e)||(e=_t(e)),lt){var t=lt.mul(this.low,this.high,e.low,e.high);return le(t,lt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Ut:wt;if(this.eq(tt))return e.isOdd()?tt:wt;if(e.eq(tt))return this.isOdd()?tt:wt;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Es)&&e.lt(Es))return ft(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,a=this.low>>>16,n=this.low&65535,s=e.high>>>16,d=e.high&65535,h=e.low>>>16,i=e.low&65535,l=0,c=0,g=0,y=0;return y+=n*i,g+=y>>>16,y&=65535,g+=a*i,c+=g>>>16,g&=65535,g+=n*h,c+=g>>>16,g&=65535,c+=o*i,l+=c>>>16,c&=65535,c+=a*h,l+=c>>>16,c&=65535,c+=n*d,l+=c>>>16,c&=65535,l+=r*i+o*h+a*d+n*s,l&=65535,le(g<<16|y,l<<16|c,this.unsigned)},$.mul=$.multiply,$.divide=function(e){if(We(e)||(e=_t(e)),e.isZero())throw Error("division by zero");if(lt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?lt.div_u:lt.div_s)(this.low,this.high,e.low,e.high);return le(t,lt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ut:wt;var r,o,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ut;if(e.gt(this.shru(1)))return Ls;a=Ut}else{if(this.eq(tt)){if(e.eq(Dr)||e.eq(Zo))return tt;if(e.eq(tt))return Dr;var n=this.shr(1);return r=n.div(e).shl(1),r.eq(wt)?e.isNegative()?Dr:Zo:(o=this.sub(e.mul(r)),a=r.add(o.div(e)),a)}else if(e.eq(tt))return this.unsigned?Ut:wt;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=wt}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),d=s<=48?1:Vn(2,s-48),h=ft(r),i=h.mul(e);i.isNegative()||i.gt(o);)r-=d,h=ft(r,this.unsigned),i=h.mul(e);h.isZero()&&(h=Dr),a=a.add(h),o=o.sub(i)}return a},$.div=$.divide,$.modulo=function(e){if(We(e)||(e=_t(e)),lt){var t=(this.unsigned?lt.rem_u:lt.rem_s)(this.low,this.high,e.low,e.high);return le(t,lt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return le(~this.low,~this.high,this.unsigned)},$.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},$.clz=$.countLeadingZeros,$.countTrailingZeros=function(){return this.low?Os(this.low):Os(this.high)+32},$.ctz=$.countTrailingZeros,$.and=function(e){return We(e)||(e=_t(e)),le(this.low&e.low,this.high&e.high,this.unsigned)},$.or=function(e){return We(e)||(e=_t(e)),le(this.low|e.low,this.high|e.high,this.unsigned)},$.xor=function(e){return We(e)||(e=_t(e)),le(this.low^e.low,this.high^e.high,this.unsigned)},$.shiftLeft=function(e){return We(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?le(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):le(0,this.low<<e-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(e){return We(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?le(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):le(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(e){return We(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?le(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?le(this.high,0,this.unsigned):le(this.high>>>e-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.rotateLeft=function(e){var t;return We(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?le(this.high,this.low,this.unsigned):e<32?(t=32-e,le(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,le(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},$.rotl=$.rotateLeft,$.rotateRight=function(e){var t;return We(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?le(this.high,this.low,this.unsigned):e<32?(t=32-e,le(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,le(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},$.rotr=$.rotateRight,$.toSigned=function(){return this.unsigned?le(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:le(this.low,this.high,!0)},$.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},$.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]},be.fromBytes=function(e,t,r){return r?be.fromBytesLE(e,t):be.fromBytesBE(e,t)},be.fromBytesLE=function(e,t){return new be(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},be.fromBytesBE=function(e,t){return new be(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},zt=be}),_,Wn=L(()=>{_={},_.Offset,_.Table,_.SIZEOF_SHORT=2,_.SIZEOF_INT=4,_.FILE_IDENTIFIER_LENGTH=4,_.SIZE_PREFIX_LENGTH=4,_.Encoding={UTF8_BYTES:1,UTF16_STRING:2},_.int32=new Int32Array(2),_.float32=new Float32Array(_.int32.buffer),_.float64=new Float64Array(_.int32.buffer),_.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,_.Long=function(e,t){this.low=e|0,this.high=t|0},_.Long.create=function(e,t){return e==0&&t==0?_.Long.ZERO:new _.Long(e,t)},_.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},_.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},_.Long.ZERO=new _.Long(0,0),_.Builder=function(e){if(e)var t=e;else var t=1024;this.bb=_.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},_.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},_.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},_.Builder.prototype.dataBuffer=function(){return this.bb},_.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},_.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var o=this.bb.capacity();this.bb=_.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(r)},_.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},_.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},_.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},_.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},_.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},_.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},_.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},_.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},_.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},_.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},_.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},_.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},_.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},_.Builder.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},_.Builder.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},_.Builder.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},_.Builder.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},_.Builder.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},_.Builder.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},_.Builder.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},_.Builder.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},_.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},_.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},_.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},_.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},_.Builder.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,o=_.ByteBuffer.allocate(r);return o.setPosition(r-t),o.bytes().set(e.bytes(),r-t),o},_.Builder.prototype.addOffset=function(e){this.prep(_.SIZEOF_INT,0),this.writeInt32(this.offset()-e+_.SIZEOF_INT)},_.Builder.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},_.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var o=2;this.addInt16(e-this.object_start);var a=(r+o)*_.SIZEOF_SHORT;this.addInt16(a);var n=0,s=this.space;e:for(t=0;t<this.vtables.length;t++){var d=this.bb.capacity()-this.vtables[t];if(a==this.bb.readInt16(d)){for(var h=_.SIZEOF_SHORT;h<a;h+=_.SIZEOF_SHORT)if(this.bb.readInt16(s+h)!=this.bb.readInt16(d+h))continue e;n=this.vtables[t];break}}return n?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,n-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},_.Builder.prototype.finish=function(e,t,r){var o=r?_.SIZE_PREFIX_LENGTH:0;if(t){var a=t;if(this.prep(this.minalign,_.SIZEOF_INT+_.FILE_IDENTIFIER_LENGTH+o),a.length!=_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+_.FILE_IDENTIFIER_LENGTH);for(var n=_.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(a.charCodeAt(n))}this.prep(this.minalign,_.SIZEOF_INT+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},_.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},_.Builder.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,o=r-this.bb.readInt32(r),a=this.bb.readInt16(o+t)!=0;if(!a)throw new Error("FlatBuffers: field "+t+" must be set")},_.Builder.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(_.SIZEOF_INT,e*t),this.prep(r,e*t)},_.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},_.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else for(var t=[],r=0;r<e.length;){var o,a=e.charCodeAt(r++);if(a<55296||a>=56320)o=a;else{var n=e.charCodeAt(r++);o=(a<<10)+n+-56613888}o<128?t.push(o):(o<2048?t.push(o>>6&31|192):(o<65536?t.push(o>>12&15|224):t.push(o>>18&7|240,o>>12&63|128),t.push(o>>6&63|128)),t.push(o&63|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,s=this.space,d=this.bb.bytes();r<t.length;r++)d[s++]=t[r];return this.endVector()},_.Builder.prototype.createLong=function(e,t){return _.Long.create(e,t)},_.ByteBuffer=function(e){this.bytes_=e,this.position_=0},_.ByteBuffer.allocate=function(e){return new _.ByteBuffer(new Uint8Array(e))},_.ByteBuffer.prototype.clear=function(){this.position_=0},_.ByteBuffer.prototype.bytes=function(){return this.bytes_},_.ByteBuffer.prototype.position=function(){return this.position_},_.ByteBuffer.prototype.setPosition=function(e){this.position_=e},_.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},_.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},_.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},_.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},_.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},_.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},_.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},_.ByteBuffer.prototype.readInt64=function(e){return new _.Long(this.readInt32(e),this.readInt32(e+4))},_.ByteBuffer.prototype.readUint64=function(e){return new _.Long(this.readUint32(e),this.readUint32(e+4))},_.ByteBuffer.prototype.readFloat32=function(e){return _.int32[0]=this.readInt32(e),_.float32[0]},_.ByteBuffer.prototype.readFloat64=function(e){return _.int32[_.isLittleEndian?0:1]=this.readInt32(e),_.int32[_.isLittleEndian?1:0]=this.readInt32(e+4),_.float64[0]},_.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},_.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},_.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},_.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},_.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},_.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},_.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},_.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},_.ByteBuffer.prototype.writeFloat32=function(e,t){_.float32[0]=t,this.writeInt32(e,_.int32[0])},_.ByteBuffer.prototype.writeFloat64=function(e,t){_.float64[0]=t,this.writeInt32(e,_.int32[_.isLittleEndian?0:1]),this.writeInt32(e+4,_.int32[_.isLittleEndian?1:0])},_.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+_.SIZEOF_INT+_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<_.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+_.SIZEOF_INT+t));return e},_.ByteBuffer.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},_.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},_.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),o="",a=0;if(e+=_.SIZEOF_INT,t===_.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;a<r;){var n,s=this.readUint8(e+a++);if(s<192)n=s;else{var d=this.readUint8(e+a++);if(s<224)n=(s&31)<<6|d&63;else{var h=this.readUint8(e+a++);if(s<240)n=(s&15)<<12|(d&63)<<6|h&63;else{var i=this.readUint8(e+a++);n=(s&7)<<18|(d&63)<<12|(h&63)<<6|i&63}}}n<65536?o+=String.fromCharCode(n):(n-=65536,o+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return o},_.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},_.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+_.SIZEOF_INT},_.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},_.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+_.FILE_IDENTIFIER_LENGTH);for(var t=0;t<_.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+_.SIZEOF_INT+t))return!1;return!0},_.ByteBuffer.prototype.createLong=function(e,t){return _.Long.create(e,t)}}),W,tn=L(()=>{Wn(),(e=>{(t=>{(r=>{(o=>(o[o.UNDEFINED=0]="UNDEFINED",o[o.FLOAT=1]="FLOAT",o[o.INT=2]="INT",o[o.STRING=3]="STRING",o[o.TENSOR=4]="TENSOR",o[o.GRAPH=5]="GRAPH",o[o.FLOATS=6]="FLOATS",o[o.INTS=7]="INTS",o[o.STRINGS=8]="STRINGS",o[o.TENSORS=9]="TENSORS",o[o.GRAPHS=10]="GRAPHS",o[o.SPARSE_TENSOR=11]="SPARSE_TENSOR",o[o.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(r.AttributeType||(r.AttributeType={}))})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{(o=>(o[o.UNKNOWN=0]="UNKNOWN",o[o.VALUE=1]="VALUE",o[o.PARAM=2]="PARAM"))(r.DimensionValueType||(r.DimensionValueType={}))})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{(o=>(o[o.UNDEFINED=0]="UNDEFINED",o[o.FLOAT=1]="FLOAT",o[o.UINT8=2]="UINT8",o[o.INT8=3]="INT8",o[o.UINT16=4]="UINT16",o[o.INT16=5]="INT16",o[o.INT32=6]="INT32",o[o.INT64=7]="INT64",o[o.STRING=8]="STRING",o[o.BOOL=9]="BOOL",o[o.FLOAT16=10]="FLOAT16",o[o.DOUBLE=11]="DOUBLE",o[o.UINT32=12]="UINT32",o[o.UINT64=13]="UINT64",o[o.COMPLEX64=14]="COMPLEX64",o[o.COMPLEX128=15]="COMPLEX128",o[o.BFLOAT16=16]="BFLOAT16",o[o.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",o[o.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",o[o.FLOAT8E5M2=19]="FLOAT8E5M2",o[o.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(r.TensorDataType||(r.TensorDataType={}))})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{(o=>(o[o.Primitive=0]="Primitive",o[o.Fused=1]="Fused"))(r.NodeType||(r.NodeType={}))})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{(o=>(o[o.NONE=0]="NONE",o[o.tensor_type=1]="tensor_type",o[o.sequence_type=2]="sequence_type",o[o.map_type=3]="map_type"))(r.TypeInfoValue||(r.TypeInfoValue={}))})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsShape(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsShape(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}dim(n,s){let d=this.bb.__offset(this.bb_pos,4);return d?(s||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}dimLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}static startShape(n){n.startObject(1)}static addDim(n,s){n.addFieldOffset(0,s,0)}static createDimVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startDimVector(n,s){n.startVector(4,s,4)}static endShape(n){return n.endObject()}static createShape(n,s){return o.startShape(n),o.addDim(n,s),o.endShape(n)}}r.Shape=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsDimension(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimension(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}value(n){let s=this.bb.__offset(this.bb_pos,4);return s?(n||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}denotation(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,n):null}static startDimension(n){n.startObject(2)}static addValue(n,s){n.addFieldOffset(0,s,0)}static addDenotation(n,s){n.addFieldOffset(1,s,0)}static endDimension(n){return n.endObject()}static createDimension(n,s,d){return o.startDimension(n),o.addValue(n,s),o.addDenotation(n,d),o.endDimension(n)}}r.Dimension=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsDimensionValue(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimensionValue(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}dimType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt8(this.bb_pos+n):0}dimValue(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}dimParam(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__string(this.bb_pos+s,n):null}static startDimensionValue(n){n.startObject(3)}static addDimType(n,s){n.addFieldInt8(0,s,0)}static addDimValue(n,s){n.addFieldInt64(1,s,n.createLong(0,0))}static addDimParam(n,s){n.addFieldOffset(2,s,0)}static endDimensionValue(n){return n.endObject()}static createDimensionValue(n,s,d,h){return o.startDimensionValue(n),o.addDimType(n,s),o.addDimValue(n,d),o.addDimParam(n,h),o.endDimensionValue(n)}}r.DimensionValue=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsTensorTypeAndShape(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensorTypeAndShape(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}elemType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):0}shape(n){let s=this.bb.__offset(this.bb_pos,6);return s?(n||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startTensorTypeAndShape(n){n.startObject(2)}static addElemType(n,s){n.addFieldInt32(0,s,0)}static addShape(n,s){n.addFieldOffset(1,s,0)}static endTensorTypeAndShape(n){return n.endObject()}static createTensorTypeAndShape(n,s,d){return o.startTensorTypeAndShape(n),o.addElemType(n,s),o.addShape(n,d),o.endTensorTypeAndShape(n)}}r.TensorTypeAndShape=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsMapType(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsMapType(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}keyType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):0}valueType(n){let s=this.bb.__offset(this.bb_pos,6);return s?(n||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startMapType(n){n.startObject(2)}static addKeyType(n,s){n.addFieldInt32(0,s,0)}static addValueType(n,s){n.addFieldOffset(1,s,0)}static endMapType(n){return n.endObject()}static createMapType(n,s,d){return o.startMapType(n),o.addKeyType(n,s),o.addValueType(n,d),o.endMapType(n)}}r.MapType=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsSequenceType(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSequenceType(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}elemType(n){let s=this.bb.__offset(this.bb_pos,4);return s?(n||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startSequenceType(n){n.startObject(1)}static addElemType(n,s){n.addFieldOffset(0,s,0)}static endSequenceType(n){return n.endObject()}static createSequenceType(n,s){return o.startSequenceType(n),o.addElemType(n,s),o.endSequenceType(n)}}r.SequenceType=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(n,s,d,h){return n.prep(4,12),n.writeInt32(h),n.writeInt32(d),n.writeInt32(s),n.offset()}}r.EdgeEnd=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsNodeEdge(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNodeEdge(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}nodeIndex(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readUint32(this.bb_pos+n):0}inputEdges(n,s){let d=this.bb.__offset(this.bb_pos,6);return d?(s||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+d)+n*12,this.bb):null}inputEdgesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}outputEdges(n,s){let d=this.bb.__offset(this.bb_pos,8);return d?(s||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+d)+n*12,this.bb):null}outputEdgesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNodeEdge(n){n.startObject(3)}static addNodeIndex(n,s){n.addFieldInt32(0,s,0)}static addInputEdges(n,s){n.addFieldOffset(1,s,0)}static startInputEdgesVector(n,s){n.startVector(12,s,4)}static addOutputEdges(n,s){n.addFieldOffset(2,s,0)}static startOutputEdgesVector(n,s){n.startVector(12,s,4)}static endNodeEdge(n){return n.endObject()}static createNodeEdge(n,s,d,h){return o.startNodeEdge(n),o.addNodeIndex(n,s),o.addInputEdges(n,d),o.addOutputEdges(n,h),o.endNodeEdge(n)}}r.NodeEdge=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsNode(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNode(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}name(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}docString(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,n):null}domain(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__string(this.bb_pos+s,n):null}sinceVersion(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):0}index(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readUint32(this.bb_pos+n):0}opType(n){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__string(this.bb_pos+s,n):null}type(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.readInt32(this.bb_pos+n):0}executionProviderType(n){let s=this.bb.__offset(this.bb_pos,18);return s?this.bb.__string(this.bb_pos+s,n):null}inputs(n,s){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,s){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}attributes(n,s){let d=this.bb.__offset(this.bb_pos,24);return d?(s||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}attributesLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCounts(n){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.readInt32(this.bb.__vector(this.bb_pos+s)+n*4):0}inputArgCountsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCountsArray(){let n=this.bb.__offset(this.bb_pos,26);return n?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}implicitInputs(n,s){let d=this.bb.__offset(this.bb_pos,28);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}implicitInputsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNode(n){n.startObject(13)}static addName(n,s){n.addFieldOffset(0,s,0)}static addDocString(n,s){n.addFieldOffset(1,s,0)}static addDomain(n,s){n.addFieldOffset(2,s,0)}static addSinceVersion(n,s){n.addFieldInt32(3,s,0)}static addIndex(n,s){n.addFieldInt32(4,s,0)}static addOpType(n,s){n.addFieldOffset(5,s,0)}static addType(n,s){n.addFieldInt32(6,s,0)}static addExecutionProviderType(n,s){n.addFieldOffset(7,s,0)}static addInputs(n,s){n.addFieldOffset(8,s,0)}static createInputsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startInputsVector(n,s){n.startVector(4,s,4)}static addOutputs(n,s){n.addFieldOffset(9,s,0)}static createOutputsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startOutputsVector(n,s){n.startVector(4,s,4)}static addAttributes(n,s){n.addFieldOffset(10,s,0)}static createAttributesVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startAttributesVector(n,s){n.startVector(4,s,4)}static addInputArgCounts(n,s){n.addFieldOffset(11,s,0)}static createInputArgCountsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addInt32(s[d]);return n.endVector()}static startInputArgCountsVector(n,s){n.startVector(4,s,4)}static addImplicitInputs(n,s){n.addFieldOffset(12,s,0)}static createImplicitInputsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startImplicitInputsVector(n,s){n.startVector(4,s,4)}static endNode(n){return n.endObject()}static createNode(n,s,d,h,i,l,c,g,y,S,I,A,H,N){return o.startNode(n),o.addName(n,s),o.addDocString(n,d),o.addDomain(n,h),o.addSinceVersion(n,i),o.addIndex(n,l),o.addOpType(n,c),o.addType(n,g),o.addExecutionProviderType(n,y),o.addInputs(n,S),o.addOutputs(n,I),o.addAttributes(n,A),o.addInputArgCounts(n,H),o.addImplicitInputs(n,N),o.endNode(n)}}r.Node=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsValueInfo(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsValueInfo(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}name(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}docString(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,n):null}type(n){let s=this.bb.__offset(this.bb_pos,8);return s?(n||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startValueInfo(n){n.startObject(3)}static addName(n,s){n.addFieldOffset(0,s,0)}static addDocString(n,s){n.addFieldOffset(1,s,0)}static addType(n,s){n.addFieldOffset(2,s,0)}static endValueInfo(n){return n.endObject()}static createValueInfo(n,s,d,h){return o.startValueInfo(n),o.addName(n,s),o.addDocString(n,d),o.addType(n,h),o.endValueInfo(n)}}r.ValueInfo=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsTypeInfo(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTypeInfo(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}denotation(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}valueType(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readUint8(this.bb_pos+n):0}value(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__union(n,this.bb_pos+s):null}static startTypeInfo(n){n.startObject(3)}static addDenotation(n,s){n.addFieldOffset(0,s,0)}static addValueType(n,s){n.addFieldInt8(1,s,0)}static addValue(n,s){n.addFieldOffset(2,s,0)}static endTypeInfo(n){return n.endObject()}static createTypeInfo(n,s,d,h){return o.startTypeInfo(n),o.addDenotation(n,s),o.addValueType(n,d),o.addValue(n,h),o.endTypeInfo(n)}}r.TypeInfo=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsOperatorSetId(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsOperatorSetId(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}domain(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}version(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}static startOperatorSetId(n){n.startObject(2)}static addDomain(n,s){n.addFieldOffset(0,s,0)}static addVersion(n,s){n.addFieldInt64(1,s,n.createLong(0,0))}static endOperatorSetId(n){return n.endObject()}static createOperatorSetId(n,s,d){return o.startOperatorSetId(n),o.addDomain(n,s),o.addVersion(n,d),o.endOperatorSetId(n)}}r.OperatorSetId=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsTensor(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensor(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}name(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}docString(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,n):null}dims(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt64(this.bb.__vector(this.bb_pos+s)+n*8):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}dataType(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):0}rawData(n){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.readUint8(this.bb.__vector(this.bb_pos+s)+n):0}rawDataLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}rawDataArray(){let n=this.bb.__offset(this.bb_pos,12);return n?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}stringData(n,s){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}stringDataLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}static startTensor(n){n.startObject(6)}static addName(n,s){n.addFieldOffset(0,s,0)}static addDocString(n,s){n.addFieldOffset(1,s,0)}static addDims(n,s){n.addFieldOffset(2,s,0)}static createDimsVector(n,s){n.startVector(8,s.length,8);for(let d=s.length-1;d>=0;d--)n.addInt64(s[d]);return n.endVector()}static startDimsVector(n,s){n.startVector(8,s,8)}static addDataType(n,s){n.addFieldInt32(3,s,0)}static addRawData(n,s){n.addFieldOffset(4,s,0)}static createRawDataVector(n,s){n.startVector(1,s.length,1);for(let d=s.length-1;d>=0;d--)n.addInt8(s[d]);return n.endVector()}static startRawDataVector(n,s){n.startVector(1,s,1)}static addStringData(n,s){n.addFieldOffset(5,s,0)}static createStringDataVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startStringDataVector(n,s){n.startVector(4,s,4)}static endTensor(n){return n.endObject()}static createTensor(n,s,d,h,i,l,c){return o.startTensor(n),o.addName(n,s),o.addDocString(n,d),o.addDims(n,h),o.addDataType(n,i),o.addRawData(n,l),o.addStringData(n,c),o.endTensor(n)}}r.Tensor=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsSparseTensor(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSparseTensor(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}values(n){let s=this.bb.__offset(this.bb_pos,4);return s?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}indices(n){let s=this.bb.__offset(this.bb_pos,6);return s?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}dims(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt64(this.bb.__vector(this.bb_pos+s)+n*8):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSparseTensor(n){n.startObject(3)}static addValues(n,s){n.addFieldOffset(0,s,0)}static addIndices(n,s){n.addFieldOffset(1,s,0)}static addDims(n,s){n.addFieldOffset(2,s,0)}static createDimsVector(n,s){n.startVector(8,s.length,8);for(let d=s.length-1;d>=0;d--)n.addInt64(s[d]);return n.endVector()}static startDimsVector(n,s){n.startVector(8,s,8)}static endSparseTensor(n){return n.endObject()}static createSparseTensor(n,s,d,h){return o.startSparseTensor(n),o.addValues(n,s),o.addIndices(n,d),o.addDims(n,h),o.endSparseTensor(n)}}r.SparseTensor=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsAttribute(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsAttribute(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}name(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}docString(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,n):null}type(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):0}f(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readFloat32(this.bb_pos+n):0}i(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}s(n){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__string(this.bb_pos+s,n):null}t(n){let s=this.bb.__offset(this.bb_pos,16);return s?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}g(n){let s=this.bb.__offset(this.bb_pos,18);return s?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}floats(n){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.readFloat32(this.bb.__vector(this.bb_pos+s)+n*4):0}floatsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}floatsArray(){let n=this.bb.__offset(this.bb_pos,20);return n?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}ints(n){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.readInt64(this.bb.__vector(this.bb_pos+s)+n*8):this.bb.createLong(0,0)}intsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}strings(n,s){let d=this.bb.__offset(this.bb_pos,24);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}stringsLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}tensors(n,s){let d=this.bb.__offset(this.bb_pos,26);return d?(s||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}tensorsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}graphs(n,s){let d=this.bb.__offset(this.bb_pos,28);return d?(s||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}graphsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startAttribute(n){n.startObject(13)}static addName(n,s){n.addFieldOffset(0,s,0)}static addDocString(n,s){n.addFieldOffset(1,s,0)}static addType(n,s){n.addFieldInt32(2,s,0)}static addF(n,s){n.addFieldFloat32(3,s,0)}static addI(n,s){n.addFieldInt64(4,s,n.createLong(0,0))}static addS(n,s){n.addFieldOffset(5,s,0)}static addT(n,s){n.addFieldOffset(6,s,0)}static addG(n,s){n.addFieldOffset(7,s,0)}static addFloats(n,s){n.addFieldOffset(8,s,0)}static createFloatsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addFloat32(s[d]);return n.endVector()}static startFloatsVector(n,s){n.startVector(4,s,4)}static addInts(n,s){n.addFieldOffset(9,s,0)}static createIntsVector(n,s){n.startVector(8,s.length,8);for(let d=s.length-1;d>=0;d--)n.addInt64(s[d]);return n.endVector()}static startIntsVector(n,s){n.startVector(8,s,8)}static addStrings(n,s){n.addFieldOffset(10,s,0)}static createStringsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startStringsVector(n,s){n.startVector(4,s,4)}static addTensors(n,s){n.addFieldOffset(11,s,0)}static createTensorsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startTensorsVector(n,s){n.startVector(4,s,4)}static addGraphs(n,s){n.addFieldOffset(12,s,0)}static createGraphsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startGraphsVector(n,s){n.startVector(4,s,4)}static endAttribute(n){return n.endObject()}static createAttribute(n,s,d,h,i,l,c,g,y,S,I,A,H,N){return o.startAttribute(n),o.addName(n,s),o.addDocString(n,d),o.addType(n,h),o.addF(n,i),o.addI(n,l),o.addS(n,c),o.addT(n,g),o.addG(n,y),o.addFloats(n,S),o.addInts(n,I),o.addStrings(n,A),o.addTensors(n,H),o.addGraphs(n,N),o.endAttribute(n)}}r.Attribute=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsGraph(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsGraph(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}initializers(n,s){let d=this.bb.__offset(this.bb_pos,4);return d?(s||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}initializersLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeArgs(n,s){let d=this.bb.__offset(this.bb_pos,6);return d?(s||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}nodeArgsLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}nodes(n,s){let d=this.bb.__offset(this.bb_pos,8);return d?(s||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}nodesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}maxNodeIndex(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readUint32(this.bb_pos+n):0}nodeEdges(n,s){let d=this.bb.__offset(this.bb_pos,12);return d?(s||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}nodeEdgesLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}inputs(n,s){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,s){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+n*4,s):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__vector_len(this.bb_pos+n):0}sparseInitializers(n,s){let d=this.bb.__offset(this.bb_pos,18);return d?(s||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}sparseInitializersLength(){let n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__vector_len(this.bb_pos+n):0}static startGraph(n){n.startObject(8)}static addInitializers(n,s){n.addFieldOffset(0,s,0)}static createInitializersVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startInitializersVector(n,s){n.startVector(4,s,4)}static addNodeArgs(n,s){n.addFieldOffset(1,s,0)}static createNodeArgsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startNodeArgsVector(n,s){n.startVector(4,s,4)}static addNodes(n,s){n.addFieldOffset(2,s,0)}static createNodesVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startNodesVector(n,s){n.startVector(4,s,4)}static addMaxNodeIndex(n,s){n.addFieldInt32(3,s,0)}static addNodeEdges(n,s){n.addFieldOffset(4,s,0)}static createNodeEdgesVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startNodeEdgesVector(n,s){n.startVector(4,s,4)}static addInputs(n,s){n.addFieldOffset(5,s,0)}static createInputsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startInputsVector(n,s){n.startVector(4,s,4)}static addOutputs(n,s){n.addFieldOffset(6,s,0)}static createOutputsVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startOutputsVector(n,s){n.startVector(4,s,4)}static addSparseInitializers(n,s){n.addFieldOffset(7,s,0)}static createSparseInitializersVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startSparseInitializersVector(n,s){n.startVector(4,s,4)}static endGraph(n){return n.endObject()}static createGraph(n,s,d,h,i,l,c,g,y){return o.startGraph(n),o.addInitializers(n,s),o.addNodeArgs(n,d),o.addNodes(n,h),o.addMaxNodeIndex(n,i),o.addNodeEdges(n,l),o.addInputs(n,c),o.addOutputs(n,g),o.addSparseInitializers(n,y),o.endGraph(n)}}r.Graph=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsModel(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsModel(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}irVersion(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}opsetImport(n,s){let d=this.bb.__offset(this.bb_pos,6);return d?(s||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}opsetImportLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}producerName(n){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__string(this.bb_pos+s,n):null}producerVersion(n){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__string(this.bb_pos+s,n):null}domain(n){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__string(this.bb_pos+s,n):null}modelVersion(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}docString(n){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__string(this.bb_pos+s,n):null}graph(n){let s=this.bb.__offset(this.bb_pos,18);return s?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}graphDocString(n){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__string(this.bb_pos+s,n):null}static startModel(n){n.startObject(9)}static addIrVersion(n,s){n.addFieldInt64(0,s,n.createLong(0,0))}static addOpsetImport(n,s){n.addFieldOffset(1,s,0)}static createOpsetImportVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startOpsetImportVector(n,s){n.startVector(4,s,4)}static addProducerName(n,s){n.addFieldOffset(2,s,0)}static addProducerVersion(n,s){n.addFieldOffset(3,s,0)}static addDomain(n,s){n.addFieldOffset(4,s,0)}static addModelVersion(n,s){n.addFieldInt64(5,s,n.createLong(0,0))}static addDocString(n,s){n.addFieldOffset(6,s,0)}static addGraph(n,s){n.addFieldOffset(7,s,0)}static addGraphDocString(n,s){n.addFieldOffset(8,s,0)}static endModel(n){return n.endObject()}static createModel(n,s,d,h,i,l,c,g,y,S){return o.startModel(n),o.addIrVersion(n,s),o.addOpsetImport(n,d),o.addProducerName(n,h),o.addProducerVersion(n,i),o.addDomain(n,l),o.addModelVersion(n,c),o.addDocString(n,g),o.addGraph(n,y),o.addGraphDocString(n,S),o.endModel(n)}}r.Model=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsKernelCreateInfos(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsKernelCreateInfos(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}nodeIndices(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readUint32(this.bb.__vector(this.bb_pos+s)+n*4):0}nodeIndicesLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeIndicesArray(){let n=this.bb.__offset(this.bb_pos,4);return n?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}kernelDefHashes(n){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readUint64(this.bb.__vector(this.bb_pos+s)+n*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startKernelCreateInfos(n){n.startObject(2)}static addNodeIndices(n,s){n.addFieldOffset(0,s,0)}static createNodeIndicesVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addInt32(s[d]);return n.endVector()}static startNodeIndicesVector(n,s){n.startVector(4,s,4)}static addKernelDefHashes(n,s){n.addFieldOffset(1,s,0)}static createKernelDefHashesVector(n,s){n.startVector(8,s.length,8);for(let d=s.length-1;d>=0;d--)n.addInt64(s[d]);return n.endVector()}static startKernelDefHashesVector(n,s){n.startVector(8,s,8)}static endKernelCreateInfos(n){return n.endObject()}static createKernelCreateInfos(n,s,d){return o.startKernelCreateInfos(n),o.addNodeIndices(n,s),o.addKernelDefHashes(n,d),o.endKernelCreateInfos(n)}}r.KernelCreateInfos=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsSubGraphSessionState(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSubGraphSessionState(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}graphId(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}sessionState(n){let s=this.bb.__offset(this.bb_pos,6);return s?(n||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startSubGraphSessionState(n){n.startObject(2)}static addGraphId(n,s){n.addFieldOffset(0,s,0)}static addSessionState(n,s){n.addFieldOffset(1,s,0)}static endSubGraphSessionState(n){let s=n.endObject();return n.requiredField(s,4),s}static createSubGraphSessionState(n,s,d){return o.startSubGraphSessionState(n),o.addGraphId(n,s),o.addSessionState(n,d),o.endSubGraphSessionState(n)}}r.SubGraphSessionState=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsSessionState(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSessionState(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}kernels(n){let s=this.bb.__offset(this.bb_pos,4);return s?(n||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}subGraphSessionStates(n,s){let d=this.bb.__offset(this.bb_pos,6);return d?(s||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+n*4),this.bb):null}subGraphSessionStatesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSessionState(n){n.startObject(2)}static addKernels(n,s){n.addFieldOffset(0,s,0)}static addSubGraphSessionStates(n,s){n.addFieldOffset(1,s,0)}static createSubGraphSessionStatesVector(n,s){n.startVector(4,s.length,4);for(let d=s.length-1;d>=0;d--)n.addOffset(s[d]);return n.endVector()}static startSubGraphSessionStatesVector(n,s){n.startVector(4,s,4)}static endSessionState(n){return n.endObject()}static createSessionState(n,s,d){return o.startSessionState(n),o.addKernels(n,s),o.addSubGraphSessionStates(n,d),o.endSessionState(n)}}r.SessionState=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={})),(e=>{(t=>{(r=>{class o{constructor(){this.bb=null,this.bb_pos=0}__init(n,s){return this.bb_pos=n,this.bb=s,this}static getRootAsInferenceSession(n,s){return(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsInferenceSession(n,s){return n.setPosition(n.position()+_.SIZE_PREFIX_LENGTH),(s||new o).__init(n.readInt32(n.position())+n.position(),n)}static bufferHasIdentifier(n){return n.__has_identifier("ORTM")}ortVersion(n){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,n):null}model(n){let s=this.bb.__offset(this.bb_pos,6);return s?(n||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}sessionState(n){let s=this.bb.__offset(this.bb_pos,8);return s?(n||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startInferenceSession(n){n.startObject(3)}static addOrtVersion(n,s){n.addFieldOffset(0,s,0)}static addModel(n,s){n.addFieldOffset(1,s,0)}static addSessionState(n,s){n.addFieldOffset(2,s,0)}static endInferenceSession(n){return n.endObject()}static finishInferenceSessionBuffer(n,s){n.finish(s,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(n,s){n.finish(s,"ORTM",!0)}static createInferenceSession(n,s,d,h){return o.startInferenceSession(n),o.addOrtVersion(n,s),o.addModel(n,d),o.addSessionState(n,h),o.endInferenceSession(n)}}r.InferenceSession=o})(t.fbs||(t.fbs={}))})(e.experimental||(e.experimental={}))})(W||(W={}))}),ks=me((e,t)=>{t.exports=r;function r(o,a){for(var n=new Array(arguments.length-1),s=0,d=2,h=!0;d<arguments.length;)n[s++]=arguments[d++];return new Promise(function(i,l){n[s]=function(c){if(h)if(h=!1,c)l(c);else{for(var g=new Array(arguments.length-1),y=0;y<g.length;)g[y++]=arguments[y];i.apply(null,g)}};try{o.apply(a||null,n)}catch(c){h&&(h=!1,l(c))}})}}),Ms=me(e=>{var t=e;t.length=function(s){var d=s.length;if(!d)return 0;for(var h=0;--d%4>1&&s.charAt(d)==="=";)++h;return Math.ceil(s.length*3)/4-h};var r=new Array(64),o=new Array(123);for(a=0;a<64;)o[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;var a;t.encode=function(s,d,h){for(var i=null,l=[],c=0,g=0,y;d<h;){var S=s[d++];switch(g){case 0:l[c++]=r[S>>2],y=(S&3)<<4,g=1;break;case 1:l[c++]=r[y|S>>4],y=(S&15)<<2,g=2;break;case 2:l[c++]=r[y|S>>6],l[c++]=r[S&63],g=0;break}c>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,l)),c=0)}return g&&(l[c++]=r[y],l[c++]=61,g===1&&(l[c++]=61)),i?(c&&i.push(String.fromCharCode.apply(String,l.slice(0,c))),i.join("")):String.fromCharCode.apply(String,l.slice(0,c))};var n="invalid encoding";t.decode=function(s,d,h){for(var i=h,l=0,c,g=0;g<s.length;){var y=s.charCodeAt(g++);if(y===61&&l>1)break;if((y=o[y])===void 0)throw Error(n);switch(l){case 0:c=y,l=1;break;case 1:d[h++]=c<<2|(y&48)>>4,c=y,l=2;break;case 2:d[h++]=(c&15)<<4|(y&60)>>2,c=y,l=3;break;case 3:d[h++]=(c&3)<<6|y,l=0;break}}if(l===1)throw Error(n);return h-i},t.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}}),Us=me((e,t)=>{t.exports=r;function r(){this._listeners={}}r.prototype.on=function(o,a,n){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:a,ctx:n||this}),this},r.prototype.off=function(o,a){if(o===void 0)this._listeners={};else if(a===void 0)this._listeners[o]=[];else for(var n=this._listeners[o],s=0;s<n.length;)n[s].fn===a?n.splice(s,1):++s;return this},r.prototype.emit=function(o){var a=this._listeners[o];if(a){for(var n=[],s=1;s<arguments.length;)n.push(arguments[s++]);for(s=0;s<a.length;)a[s].fn.apply(a[s++].ctx,n)}return this}}),Ys=me((e,t)=>{t.exports=r(r);function r(d){return typeof Float32Array<"u"?function(){var h=new Float32Array([-0]),i=new Uint8Array(h.buffer),l=i[3]===128;function c(I,A,H){h[0]=I,A[H]=i[0],A[H+1]=i[1],A[H+2]=i[2],A[H+3]=i[3]}function g(I,A,H){h[0]=I,A[H]=i[3],A[H+1]=i[2],A[H+2]=i[1],A[H+3]=i[0]}d.writeFloatLE=l?c:g,d.writeFloatBE=l?g:c;function y(I,A){return i[0]=I[A],i[1]=I[A+1],i[2]=I[A+2],i[3]=I[A+3],h[0]}function S(I,A){return i[3]=I[A],i[2]=I[A+1],i[1]=I[A+2],i[0]=I[A+3],h[0]}d.readFloatLE=l?y:S,d.readFloatBE=l?S:y}():function(){function h(l,c,g,y){var S=c<0?1:0;if(S&&(c=-c),c===0)l(1/c>0?0:2147483648,g,y);else if(isNaN(c))l(2143289344,g,y);else if(c>34028234663852886e22)l((S<<31|2139095040)>>>0,g,y);else if(c<11754943508222875e-54)l((S<<31|Math.round(c/1401298464324817e-60))>>>0,g,y);else{var I=Math.floor(Math.log(c)/Math.LN2),A=Math.round(c*Math.pow(2,-I)*8388608)&8388607;l((S<<31|I+127<<23|A)>>>0,g,y)}}d.writeFloatLE=h.bind(null,o),d.writeFloatBE=h.bind(null,a);function i(l,c,g){var y=l(c,g),S=(y>>31)*2+1,I=y>>>23&255,A=y&8388607;return I===255?A?NaN:S*(1/0):I===0?S*1401298464324817e-60*A:S*Math.pow(2,I-150)*(A+8388608)}d.readFloatLE=i.bind(null,n),d.readFloatBE=i.bind(null,s)}(),typeof Float64Array<"u"?function(){var h=new Float64Array([-0]),i=new Uint8Array(h.buffer),l=i[7]===128;function c(I,A,H){h[0]=I,A[H]=i[0],A[H+1]=i[1],A[H+2]=i[2],A[H+3]=i[3],A[H+4]=i[4],A[H+5]=i[5],A[H+6]=i[6],A[H+7]=i[7]}function g(I,A,H){h[0]=I,A[H]=i[7],A[H+1]=i[6],A[H+2]=i[5],A[H+3]=i[4],A[H+4]=i[3],A[H+5]=i[2],A[H+6]=i[1],A[H+7]=i[0]}d.writeDoubleLE=l?c:g,d.writeDoubleBE=l?g:c;function y(I,A){return i[0]=I[A],i[1]=I[A+1],i[2]=I[A+2],i[3]=I[A+3],i[4]=I[A+4],i[5]=I[A+5],i[6]=I[A+6],i[7]=I[A+7],h[0]}function S(I,A){return i[7]=I[A],i[6]=I[A+1],i[5]=I[A+2],i[4]=I[A+3],i[3]=I[A+4],i[2]=I[A+5],i[1]=I[A+6],i[0]=I[A+7],h[0]}d.readDoubleLE=l?y:S,d.readDoubleBE=l?S:y}():function(){function h(l,c,g,y,S,I){var A=y<0?1:0;if(A&&(y=-y),y===0)l(0,S,I+c),l(1/y>0?0:2147483648,S,I+g);else if(isNaN(y))l(0,S,I+c),l(2146959360,S,I+g);else if(y>17976931348623157e292)l(0,S,I+c),l((A<<31|2146435072)>>>0,S,I+g);else{var H;if(y<22250738585072014e-324)H=y/5e-324,l(H>>>0,S,I+c),l((A<<31|H/4294967296)>>>0,S,I+g);else{var N=Math.floor(Math.log(y)/Math.LN2);N===1024&&(N=1023),H=y*Math.pow(2,-N),l(H*4503599627370496>>>0,S,I+c),l((A<<31|N+1023<<20|H*1048576&1048575)>>>0,S,I+g)}}}d.writeDoubleLE=h.bind(null,o,0,4),d.writeDoubleBE=h.bind(null,a,4,0);function i(l,c,g,y,S){var I=l(y,S+c),A=l(y,S+g),H=(A>>31)*2+1,N=A>>>20&2047,G=4294967296*(A&1048575)+I;return N===2047?G?NaN:H*(1/0):N===0?H*5e-324*G:H*Math.pow(2,N-1075)*(G+4503599627370496)}d.readDoubleLE=i.bind(null,n,0,4),d.readDoubleBE=i.bind(null,s,4,0)}(),d}function o(d,h,i){h[i]=d&255,h[i+1]=d>>>8&255,h[i+2]=d>>>16&255,h[i+3]=d>>>24}function a(d,h,i){h[i]=d>>>24,h[i+1]=d>>>16&255,h[i+2]=d>>>8&255,h[i+3]=d&255}function n(d,h){return(d[h]|d[h+1]<<8|d[h+2]<<16|d[h+3]<<24)>>>0}function s(d,h){return(d[h]<<24|d[h+1]<<16|d[h+2]<<8|d[h+3])>>>0}}),Xs=me((exports,module)=>{module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}}),Js=me(e=>{var t=e;t.length=function(r){for(var o=0,a=0,n=0;n<r.length;++n)a=r.charCodeAt(n),a<128?o+=1:a<2048?o+=2:(a&64512)===55296&&(r.charCodeAt(n+1)&64512)===56320?(++n,o+=4):o+=3;return o},t.read=function(r,o,a){var n=a-o;if(n<1)return"";for(var s=null,d=[],h=0,i;o<a;)i=r[o++],i<128?d[h++]=i:i>191&&i<224?d[h++]=(i&31)<<6|r[o++]&63:i>239&&i<365?(i=((i&7)<<18|(r[o++]&63)<<12|(r[o++]&63)<<6|r[o++]&63)-65536,d[h++]=55296+(i>>10),d[h++]=56320+(i&1023)):d[h++]=(i&15)<<12|(r[o++]&63)<<6|r[o++]&63,h>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,d)),h=0);return s?(h&&s.push(String.fromCharCode.apply(String,d.slice(0,h))),s.join("")):String.fromCharCode.apply(String,d.slice(0,h))},t.write=function(r,o,a){for(var n=a,s,d,h=0;h<r.length;++h)s=r.charCodeAt(h),s<128?o[a++]=s:s<2048?(o[a++]=s>>6|192,o[a++]=s&63|128):(s&64512)===55296&&((d=r.charCodeAt(h+1))&64512)===56320?(s=65536+((s&1023)<<10)+(d&1023),++h,o[a++]=s>>18|240,o[a++]=s>>12&63|128,o[a++]=s>>6&63|128,o[a++]=s&63|128):(o[a++]=s>>12|224,o[a++]=s>>6&63|128,o[a++]=s&63|128);return a-n}}),Qs=me((e,t)=>{t.exports=r;function r(o,a,n){var s=n||8192,d=s>>>1,h=null,i=s;return function(l){if(l<1||l>d)return o(l);i+l>s&&(h=o(s),i=0);var c=a.call(h,i,i+=l);return i&7&&(i=(i|7)+1),c}}}),tu=me((e,t)=>{t.exports=o;var r=Xt();function o(d,h){this.lo=d>>>0,this.hi=h>>>0}var a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var n=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(d){if(d===0)return a;var h=d<0;h&&(d=-d);var i=d>>>0,l=(d-i)/4294967296>>>0;return h&&(l=~l>>>0,i=~i>>>0,++i>4294967295&&(i=0,++l>4294967295&&(l=0))),new o(i,l)},o.from=function(d){if(typeof d=="number")return o.fromNumber(d);if(r.isString(d))if(r.Long)d=r.Long.fromString(d);else return o.fromNumber(parseInt(d,10));return d.low||d.high?new o(d.low>>>0,d.high>>>0):a},o.prototype.toNumber=function(d){if(!d&&this.hi>>>31){var h=~this.lo+1>>>0,i=~this.hi>>>0;return h||(i=i+1>>>0),-(h+i*4294967296)}return this.lo+this.hi*4294967296},o.prototype.toLong=function(d){return r.Long?new r.Long(this.lo|0,this.hi|0,!!d):{low:this.lo|0,high:this.hi|0,unsigned:!!d}};var s=String.prototype.charCodeAt;o.fromHash=function(d){return d===n?a:new o((s.call(d,0)|s.call(d,1)<<8|s.call(d,2)<<16|s.call(d,3)<<24)>>>0,(s.call(d,4)|s.call(d,5)<<8|s.call(d,6)<<16|s.call(d,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var d=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^d)>>>0,this.lo=(this.lo<<1^d)>>>0,this},o.prototype.zzDecode=function(){var d=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^d)>>>0,this.hi=(this.hi>>>1^d)>>>0,this},o.prototype.length=function(){var d=this.lo,h=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?h===0?d<16384?d<128?1:2:d<2097152?3:4:h<16384?h<128?5:6:h<2097152?7:8:i<128?9:10}}),Xt=me(e=>{var t=e;t.asPromise=ks(),t.base64=Ms(),t.EventEmitter=Us(),t.float=Ys(),t.inquire=Xs(),t.utf8=Js(),t.pool=Qs(),t.LongBits=tu(),t.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),t.global=t.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},t.isString=function(a){return typeof a=="string"||a instanceof String},t.isObject=function(a){return a&&typeof a=="object"},t.isset=t.isSet=function(a,n){var s=a[n];return s!=null&&a.hasOwnProperty(n)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},t.Buffer=function(){try{var a=t.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(a){return typeof a=="number"?t.Buffer?t._Buffer_allocUnsafe(a):new t.Array(a):t.Buffer?t._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(a){return a?t.LongBits.from(a).toHash():t.LongBits.zeroHash},t.longFromHash=function(a,n){var s=t.LongBits.fromHash(a);return t.Long?t.Long.fromBits(s.lo,s.hi,n):s.toNumber(!!n)};function r(a,n,s){for(var d=Object.keys(n),h=0;h<d.length;++h)(a[d[h]]===void 0||!s)&&(a[d[h]]=n[d[h]]);return a}t.merge=r,t.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function o(a){function n(s,d){if(!(this instanceof n))return new n(s,d);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),d&&r(this,d)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}t.newError=o,t.ProtocolError=o("ProtocolError"),t.oneOfGetter=function(a){for(var n={},s=0;s<a.length;++s)n[a[s]]=1;return function(){for(var d=Object.keys(this),h=d.length-1;h>-1;--h)if(n[d[h]]===1&&this[d[h]]!==void 0&&this[d[h]]!==null)return d[h]}},t.oneOfSetter=function(a){return function(n){for(var s=0;s<a.length;++s)a[s]!==n&&delete this[a[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var a=t.Buffer;if(!a){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=a.from!==Uint8Array.from&&a.from||function(n,s){return new a(n,s)},t._Buffer_allocUnsafe=a.allocUnsafe||function(n){return new a(n)}}}),li=me((e,t)=>{t.exports=l;var r=Xt(),o,a=r.LongBits,n=r.base64,s=r.utf8;function d(N,G,pe){this.fn=N,this.len=G,this.next=void 0,this.val=pe}function h(){}function i(N){this.head=N.head,this.tail=N.tail,this.len=N.len,this.next=N.states}function l(){this.len=0,this.head=new d(h,0,0),this.tail=this.head,this.states=null}var c=function(){return r.Buffer?function(){return(l.create=function(){return new o})()}:function(){return new l}};l.create=c(),l.alloc=function(N){return new r.Array(N)},r.Array!==Array&&(l.alloc=r.pool(l.alloc,r.Array.prototype.subarray)),l.prototype._push=function(N,G,pe){return this.tail=this.tail.next=new d(N,G,pe),this.len+=G,this};function g(N,G,pe){G[pe]=N&255}function y(N,G,pe){for(;N>127;)G[pe++]=N&127|128,N>>>=7;G[pe]=N}function S(N,G){this.len=N,this.next=void 0,this.val=G}S.prototype=Object.create(d.prototype),S.prototype.fn=y,l.prototype.uint32=function(N){return this.len+=(this.tail=this.tail.next=new S((N=N>>>0)<128?1:N<16384?2:N<2097152?3:N<268435456?4:5,N)).len,this},l.prototype.int32=function(N){return N<0?this._push(I,10,a.fromNumber(N)):this.uint32(N)},l.prototype.sint32=function(N){return this.uint32((N<<1^N>>31)>>>0)};function I(N,G,pe){for(;N.hi;)G[pe++]=N.lo&127|128,N.lo=(N.lo>>>7|N.hi<<25)>>>0,N.hi>>>=7;for(;N.lo>127;)G[pe++]=N.lo&127|128,N.lo=N.lo>>>7;G[pe++]=N.lo}l.prototype.uint64=function(N){var G=a.from(N);return this._push(I,G.length(),G)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(N){var G=a.from(N).zzEncode();return this._push(I,G.length(),G)},l.prototype.bool=function(N){return this._push(g,1,N?1:0)};function A(N,G,pe){G[pe]=N&255,G[pe+1]=N>>>8&255,G[pe+2]=N>>>16&255,G[pe+3]=N>>>24}l.prototype.fixed32=function(N){return this._push(A,4,N>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(N){var G=a.from(N);return this._push(A,4,G.lo)._push(A,4,G.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(N){return this._push(r.float.writeFloatLE,4,N)},l.prototype.double=function(N){return this._push(r.float.writeDoubleLE,8,N)};var H=r.Array.prototype.set?function(N,G,pe){G.set(N,pe)}:function(N,G,pe){for(var Ne=0;Ne<N.length;++Ne)G[pe+Ne]=N[Ne]};l.prototype.bytes=function(N){var G=N.length>>>0;if(!G)return this._push(g,1,0);if(r.isString(N)){var pe=l.alloc(G=n.length(N));n.decode(N,pe,0),N=pe}return this.uint32(G)._push(H,G,N)},l.prototype.string=function(N){var G=s.length(N);return G?this.uint32(G)._push(s.write,G,N):this._push(g,1,0)},l.prototype.fork=function(){return this.states=new i(this),this.head=this.tail=new d(h,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new d(h,0,0),this.len=0),this},l.prototype.ldelim=function(){var N=this.head,G=this.tail,pe=this.len;return this.reset().uint32(pe),pe&&(this.tail.next=N.next,this.tail=G,this.len+=pe),this},l.prototype.finish=function(){for(var N=this.head.next,G=this.constructor.alloc(this.len),pe=0;N;)N.fn(N.val,G,pe),pe+=N.len,N=N.next;return G},l._configure=function(N){o=N,l.create=c(),o._configure()}}),fu=me((e,t)=>{t.exports=a;var r=li();(a.prototype=Object.create(r.prototype)).constructor=a;var o=Xt();function a(){r.call(this)}a._configure=function(){a.alloc=o._Buffer_allocUnsafe,a.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&o.Buffer.prototype.set.name==="set"?function(s,d,h){d.set(s,h)}:function(s,d,h){if(s.copy)s.copy(d,h,0,s.length);else for(var i=0;i<s.length;)d[h++]=s[i++]}},a.prototype.bytes=function(s){o.isString(s)&&(s=o._Buffer_from(s,"base64"));var d=s.length>>>0;return this.uint32(d),d&&this._push(a.writeBytesBuffer,d,s),this};function n(s,d,h){s.length<40?o.utf8.write(s,d,h):d.utf8Write?d.utf8Write(s,h):d.write(s,h)}a.prototype.string=function(s){var d=o.Buffer.byteLength(s);return this.uint32(d),d&&this._push(n,d,s),this},a._configure()}),pi=me((e,t)=>{t.exports=d;var r=Xt(),o,a=r.LongBits,n=r.utf8;function s(y,S){return RangeError("index out of range: "+y.pos+" + "+(S||1)+" > "+y.len)}function d(y){this.buf=y,this.pos=0,this.len=y.length}var h=typeof Uint8Array<"u"?function(y){if(y instanceof Uint8Array||Array.isArray(y))return new d(y);throw Error("illegal buffer")}:function(y){if(Array.isArray(y))return new d(y);throw Error("illegal buffer")},i=function(){return r.Buffer?function(y){return(d.create=function(S){return r.Buffer.isBuffer(S)?new o(S):h(S)})(y)}:h};d.create=i(),d.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,d.prototype.uint32=function(){var y=4294967295;return function(){if(y=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(y=(y|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return y;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return y}}(),d.prototype.int32=function(){return this.uint32()|0},d.prototype.sint32=function(){var y=this.uint32();return y>>>1^-(y&1)|0};function l(){var y=new a(0,0),S=0;if(this.len-this.pos>4){for(;S<4;++S)if(y.lo=(y.lo|(this.buf[this.pos]&127)<<S*7)>>>0,this.buf[this.pos++]<128)return y;if(y.lo=(y.lo|(this.buf[this.pos]&127)<<28)>>>0,y.hi=(y.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return y;S=0}else{for(;S<3;++S){if(this.pos>=this.len)throw s(this);if(y.lo=(y.lo|(this.buf[this.pos]&127)<<S*7)>>>0,this.buf[this.pos++]<128)return y}return y.lo=(y.lo|(this.buf[this.pos++]&127)<<S*7)>>>0,y}if(this.len-this.pos>4){for(;S<5;++S)if(y.hi=(y.hi|(this.buf[this.pos]&127)<<S*7+3)>>>0,this.buf[this.pos++]<128)return y}else for(;S<5;++S){if(this.pos>=this.len)throw s(this);if(y.hi=(y.hi|(this.buf[this.pos]&127)<<S*7+3)>>>0,this.buf[this.pos++]<128)return y}throw Error("invalid varint encoding")}d.prototype.bool=function(){return this.uint32()!==0};function c(y,S){return(y[S-4]|y[S-3]<<8|y[S-2]<<16|y[S-1]<<24)>>>0}d.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return c(this.buf,this.pos+=4)},d.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return c(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw s(this,8);return new a(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}d.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var y=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,y},d.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var y=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,y},d.prototype.bytes=function(){var y=this.uint32(),S=this.pos,I=this.pos+y;if(I>this.len)throw s(this,y);return this.pos+=y,Array.isArray(this.buf)?this.buf.slice(S,I):S===I?new this.buf.constructor(0):this._slice.call(this.buf,S,I)},d.prototype.string=function(){var y=this.bytes();return n.read(y,0,y.length)},d.prototype.skip=function(y){if(typeof y=="number"){if(this.pos+y>this.len)throw s(this,y);this.pos+=y}else do if(this.pos>=this.len)throw s(this);while(this.buf[this.pos++]&128);return this},d.prototype.skipType=function(y){switch(y){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(y=this.uint32()&7)!==4;)this.skipType(y);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+y+" at offset "+this.pos)}return this},d._configure=function(y){o=y,d.create=i(),o._configure();var S=r.Long?"toLong":"toNumber";r.merge(d.prototype,{int64:function(){return l.call(this)[S](!1)},uint64:function(){return l.call(this)[S](!0)},sint64:function(){return l.call(this).zzDecode()[S](!1)},fixed64:function(){return g.call(this)[S](!0)},sfixed64:function(){return g.call(this)[S](!1)}})}}),Tu=me((e,t)=>{t.exports=a;var r=pi();(a.prototype=Object.create(r.prototype)).constructor=a;var o=Xt();function a(n){r.call(this,n)}a._configure=function(){o.Buffer&&(a.prototype._slice=o.Buffer.prototype.slice)},a.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))},a._configure()}),vu=me((e,t)=>{t.exports=o;var r=Xt();(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o;function o(a,n,s){if(typeof a!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!n,this.responseDelimited=!!s}o.prototype.rpcCall=function a(n,s,d,h,i){if(!h)throw TypeError("request must be specified");var l=this;if(!i)return r.asPromise(a,l,n,s,d,h);if(!l.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return l.rpcImpl(n,s[l.requestDelimited?"encodeDelimited":"encode"](h).finish(),function(c,g){if(c)return l.emit("error",c,n),i(c);if(g===null){l.end(!0);return}if(!(g instanceof d))try{g=d[l.responseDelimited?"decodeDelimited":"decode"](g)}catch(y){return l.emit("error",y,n),i(y)}return l.emit("data",g,n),i(null,g)})}catch(c){l.emit("error",c,n),setTimeout(function(){i(c)},0);return}},o.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),_u=me(e=>{var t=e;t.Service=vu()}),Iu=me((e,t)=>{t.exports={}}),Pu=me(e=>{var t=e;t.build="minimal",t.Writer=li(),t.BufferWriter=fu(),t.Reader=pi(),t.BufferReader=Tu(),t.util=Xt(),t.rpc=_u(),t.roots=Iu(),t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()}),Du=me((e,t)=>{t.exports=Pu()}),$r=me((e,t)=>{var r=Du(),o=r.Reader,a=r.Writer,n=r.util,s=r.roots.default||(r.roots.default={});s.onnx=function(){var d={};return d.Version=function(){var h={},i=Object.create(h);return i[h[0]="_START_VERSION"]=0,i[h[1]="IR_VERSION_2017_10_10"]=1,i[h[2]="IR_VERSION_2017_10_30"]=2,i[h[3]="IR_VERSION_2017_11_3"]=3,i[h[4]="IR_VERSION_2019_1_22"]=4,i[h[5]="IR_VERSION_2019_3_18"]=5,i[h[6]="IR_VERSION_2019_9_19"]=6,i[h[7]="IR_VERSION_2020_5_8"]=7,i[h[8]="IR_VERSION_2021_7_30"]=8,i[h[9]="IR_VERSION"]=9,i}(),d.AttributeProto=function(){function h(i){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.name="",h.prototype.refAttrName="",h.prototype.docString="",h.prototype.type=0,h.prototype.f=0,h.prototype.i=n.Long?n.Long.fromBits(0,0,!1):0,h.prototype.s=n.newBuffer([]),h.prototype.t=null,h.prototype.g=null,h.prototype.sparseTensor=null,h.prototype.tp=null,h.prototype.floats=n.emptyArray,h.prototype.ints=n.emptyArray,h.prototype.strings=n.emptyArray,h.prototype.tensors=n.emptyArray,h.prototype.graphs=n.emptyArray,h.prototype.sparseTensors=n.emptyArray,h.prototype.typeProtos=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(10).string(i.name),i.f!=null&&Object.hasOwnProperty.call(i,"f")&&l.uint32(21).float(i.f),i.i!=null&&Object.hasOwnProperty.call(i,"i")&&l.uint32(24).int64(i.i),i.s!=null&&Object.hasOwnProperty.call(i,"s")&&l.uint32(34).bytes(i.s),i.t!=null&&Object.hasOwnProperty.call(i,"t")&&s.onnx.TensorProto.encode(i.t,l.uint32(42).fork()).ldelim(),i.g!=null&&Object.hasOwnProperty.call(i,"g")&&s.onnx.GraphProto.encode(i.g,l.uint32(50).fork()).ldelim(),i.floats!=null&&i.floats.length){l.uint32(58).fork();for(var c=0;c<i.floats.length;++c)l.float(i.floats[c]);l.ldelim()}if(i.ints!=null&&i.ints.length){l.uint32(66).fork();for(var c=0;c<i.ints.length;++c)l.int64(i.ints[c]);l.ldelim()}if(i.strings!=null&&i.strings.length)for(var c=0;c<i.strings.length;++c)l.uint32(74).bytes(i.strings[c]);if(i.tensors!=null&&i.tensors.length)for(var c=0;c<i.tensors.length;++c)s.onnx.TensorProto.encode(i.tensors[c],l.uint32(82).fork()).ldelim();if(i.graphs!=null&&i.graphs.length)for(var c=0;c<i.graphs.length;++c)s.onnx.GraphProto.encode(i.graphs[c],l.uint32(90).fork()).ldelim();if(i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(106).string(i.docString),i.tp!=null&&Object.hasOwnProperty.call(i,"tp")&&s.onnx.TypeProto.encode(i.tp,l.uint32(114).fork()).ldelim(),i.typeProtos!=null&&i.typeProtos.length)for(var c=0;c<i.typeProtos.length;++c)s.onnx.TypeProto.encode(i.typeProtos[c],l.uint32(122).fork()).ldelim();if(i.type!=null&&Object.hasOwnProperty.call(i,"type")&&l.uint32(160).int32(i.type),i.refAttrName!=null&&Object.hasOwnProperty.call(i,"refAttrName")&&l.uint32(170).string(i.refAttrName),i.sparseTensor!=null&&Object.hasOwnProperty.call(i,"sparseTensor")&&s.onnx.SparseTensorProto.encode(i.sparseTensor,l.uint32(178).fork()).ldelim(),i.sparseTensors!=null&&i.sparseTensors.length)for(var c=0;c<i.sparseTensors.length;++c)s.onnx.SparseTensorProto.encode(i.sparseTensors[c],l.uint32(186).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.AttributeProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.name=i.string();break}case 21:{g.refAttrName=i.string();break}case 13:{g.docString=i.string();break}case 20:{g.type=i.int32();break}case 2:{g.f=i.float();break}case 3:{g.i=i.int64();break}case 4:{g.s=i.bytes();break}case 5:{g.t=s.onnx.TensorProto.decode(i,i.uint32());break}case 6:{g.g=s.onnx.GraphProto.decode(i,i.uint32());break}case 22:{g.sparseTensor=s.onnx.SparseTensorProto.decode(i,i.uint32());break}case 14:{g.tp=s.onnx.TypeProto.decode(i,i.uint32());break}case 7:{if(g.floats&&g.floats.length||(g.floats=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.floats.push(i.float());else g.floats.push(i.float());break}case 8:{if(g.ints&&g.ints.length||(g.ints=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.ints.push(i.int64());else g.ints.push(i.int64());break}case 9:{g.strings&&g.strings.length||(g.strings=[]),g.strings.push(i.bytes());break}case 10:{g.tensors&&g.tensors.length||(g.tensors=[]),g.tensors.push(s.onnx.TensorProto.decode(i,i.uint32()));break}case 11:{g.graphs&&g.graphs.length||(g.graphs=[]),g.graphs.push(s.onnx.GraphProto.decode(i,i.uint32()));break}case 23:{g.sparseTensors&&g.sparseTensors.length||(g.sparseTensors=[]),g.sparseTensors.push(s.onnx.SparseTensorProto.decode(i,i.uint32()));break}case 15:{g.typeProtos&&g.typeProtos.length||(g.typeProtos=[]),g.typeProtos.push(s.onnx.TypeProto.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.refAttrName!=null&&i.hasOwnProperty("refAttrName")&&!n.isString(i.refAttrName))return"refAttrName: string expected";if(i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString))return"docString: string expected";if(i.type!=null&&i.hasOwnProperty("type"))switch(i.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(i.f!=null&&i.hasOwnProperty("f")&&typeof i.f!="number")return"f: number expected";if(i.i!=null&&i.hasOwnProperty("i")&&!n.isInteger(i.i)&&!(i.i&&n.isInteger(i.i.low)&&n.isInteger(i.i.high)))return"i: integer|Long expected";if(i.s!=null&&i.hasOwnProperty("s")&&!(i.s&&typeof i.s.length=="number"||n.isString(i.s)))return"s: buffer expected";if(i.t!=null&&i.hasOwnProperty("t")){var l=s.onnx.TensorProto.verify(i.t);if(l)return"t."+l}if(i.g!=null&&i.hasOwnProperty("g")){var l=s.onnx.GraphProto.verify(i.g);if(l)return"g."+l}if(i.sparseTensor!=null&&i.hasOwnProperty("sparseTensor")){var l=s.onnx.SparseTensorProto.verify(i.sparseTensor);if(l)return"sparseTensor."+l}if(i.tp!=null&&i.hasOwnProperty("tp")){var l=s.onnx.TypeProto.verify(i.tp);if(l)return"tp."+l}if(i.floats!=null&&i.hasOwnProperty("floats")){if(!Array.isArray(i.floats))return"floats: array expected";for(var c=0;c<i.floats.length;++c)if(typeof i.floats[c]!="number")return"floats: number[] expected"}if(i.ints!=null&&i.hasOwnProperty("ints")){if(!Array.isArray(i.ints))return"ints: array expected";for(var c=0;c<i.ints.length;++c)if(!n.isInteger(i.ints[c])&&!(i.ints[c]&&n.isInteger(i.ints[c].low)&&n.isInteger(i.ints[c].high)))return"ints: integer|Long[] expected"}if(i.strings!=null&&i.hasOwnProperty("strings")){if(!Array.isArray(i.strings))return"strings: array expected";for(var c=0;c<i.strings.length;++c)if(!(i.strings[c]&&typeof i.strings[c].length=="number"||n.isString(i.strings[c])))return"strings: buffer[] expected"}if(i.tensors!=null&&i.hasOwnProperty("tensors")){if(!Array.isArray(i.tensors))return"tensors: array expected";for(var c=0;c<i.tensors.length;++c){var l=s.onnx.TensorProto.verify(i.tensors[c]);if(l)return"tensors."+l}}if(i.graphs!=null&&i.hasOwnProperty("graphs")){if(!Array.isArray(i.graphs))return"graphs: array expected";for(var c=0;c<i.graphs.length;++c){var l=s.onnx.GraphProto.verify(i.graphs[c]);if(l)return"graphs."+l}}if(i.sparseTensors!=null&&i.hasOwnProperty("sparseTensors")){if(!Array.isArray(i.sparseTensors))return"sparseTensors: array expected";for(var c=0;c<i.sparseTensors.length;++c){var l=s.onnx.SparseTensorProto.verify(i.sparseTensors[c]);if(l)return"sparseTensors."+l}}if(i.typeProtos!=null&&i.hasOwnProperty("typeProtos")){if(!Array.isArray(i.typeProtos))return"typeProtos: array expected";for(var c=0;c<i.typeProtos.length;++c){var l=s.onnx.TypeProto.verify(i.typeProtos[c]);if(l)return"typeProtos."+l}}return null},h.fromObject=function(i){if(i instanceof s.onnx.AttributeProto)return i;var l=new s.onnx.AttributeProto;switch(i.name!=null&&(l.name=String(i.name)),i.refAttrName!=null&&(l.refAttrName=String(i.refAttrName)),i.docString!=null&&(l.docString=String(i.docString)),i.type){default:if(typeof i.type=="number"){l.type=i.type;break}break;case"UNDEFINED":case 0:l.type=0;break;case"FLOAT":case 1:l.type=1;break;case"INT":case 2:l.type=2;break;case"STRING":case 3:l.type=3;break;case"TENSOR":case 4:l.type=4;break;case"GRAPH":case 5:l.type=5;break;case"SPARSE_TENSOR":case 11:l.type=11;break;case"TYPE_PROTO":case 13:l.type=13;break;case"FLOATS":case 6:l.type=6;break;case"INTS":case 7:l.type=7;break;case"STRINGS":case 8:l.type=8;break;case"TENSORS":case 9:l.type=9;break;case"GRAPHS":case 10:l.type=10;break;case"SPARSE_TENSORS":case 12:l.type=12;break;case"TYPE_PROTOS":case 14:l.type=14;break}if(i.f!=null&&(l.f=Number(i.f)),i.i!=null&&(n.Long?(l.i=n.Long.fromValue(i.i)).unsigned=!1:typeof i.i=="string"?l.i=parseInt(i.i,10):typeof i.i=="number"?l.i=i.i:typeof i.i=="object"&&(l.i=new n.LongBits(i.i.low>>>0,i.i.high>>>0).toNumber())),i.s!=null&&(typeof i.s=="string"?n.base64.decode(i.s,l.s=n.newBuffer(n.base64.length(i.s)),0):i.s.length>=0&&(l.s=i.s)),i.t!=null){if(typeof i.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");l.t=s.onnx.TensorProto.fromObject(i.t)}if(i.g!=null){if(typeof i.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");l.g=s.onnx.GraphProto.fromObject(i.g)}if(i.sparseTensor!=null){if(typeof i.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");l.sparseTensor=s.onnx.SparseTensorProto.fromObject(i.sparseTensor)}if(i.tp!=null){if(typeof i.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");l.tp=s.onnx.TypeProto.fromObject(i.tp)}if(i.floats){if(!Array.isArray(i.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");l.floats=[];for(var c=0;c<i.floats.length;++c)l.floats[c]=Number(i.floats[c])}if(i.ints){if(!Array.isArray(i.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");l.ints=[];for(var c=0;c<i.ints.length;++c)n.Long?(l.ints[c]=n.Long.fromValue(i.ints[c])).unsigned=!1:typeof i.ints[c]=="string"?l.ints[c]=parseInt(i.ints[c],10):typeof i.ints[c]=="number"?l.ints[c]=i.ints[c]:typeof i.ints[c]=="object"&&(l.ints[c]=new n.LongBits(i.ints[c].low>>>0,i.ints[c].high>>>0).toNumber())}if(i.strings){if(!Array.isArray(i.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");l.strings=[];for(var c=0;c<i.strings.length;++c)typeof i.strings[c]=="string"?n.base64.decode(i.strings[c],l.strings[c]=n.newBuffer(n.base64.length(i.strings[c])),0):i.strings[c].length>=0&&(l.strings[c]=i.strings[c])}if(i.tensors){if(!Array.isArray(i.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");l.tensors=[];for(var c=0;c<i.tensors.length;++c){if(typeof i.tensors[c]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");l.tensors[c]=s.onnx.TensorProto.fromObject(i.tensors[c])}}if(i.graphs){if(!Array.isArray(i.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");l.graphs=[];for(var c=0;c<i.graphs.length;++c){if(typeof i.graphs[c]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");l.graphs[c]=s.onnx.GraphProto.fromObject(i.graphs[c])}}if(i.sparseTensors){if(!Array.isArray(i.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");l.sparseTensors=[];for(var c=0;c<i.sparseTensors.length;++c){if(typeof i.sparseTensors[c]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");l.sparseTensors[c]=s.onnx.SparseTensorProto.fromObject(i.sparseTensors[c])}}if(i.typeProtos){if(!Array.isArray(i.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");l.typeProtos=[];for(var c=0;c<i.typeProtos.length;++c){if(typeof i.typeProtos[c]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");l.typeProtos[c]=s.onnx.TypeProto.fromObject(i.typeProtos[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.floats=[],c.ints=[],c.strings=[],c.tensors=[],c.graphs=[],c.typeProtos=[],c.sparseTensors=[]),l.defaults){if(c.name="",c.f=0,n.Long){var g=new n.Long(0,0,!1);c.i=l.longs===String?g.toString():l.longs===Number?g.toNumber():g}else c.i=l.longs===String?"0":0;l.bytes===String?c.s="":(c.s=[],l.bytes!==Array&&(c.s=n.newBuffer(c.s))),c.t=null,c.g=null,c.docString="",c.tp=null,c.type=l.enums===String?"UNDEFINED":0,c.refAttrName="",c.sparseTensor=null}if(i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.f!=null&&i.hasOwnProperty("f")&&(c.f=l.json&&!isFinite(i.f)?String(i.f):i.f),i.i!=null&&i.hasOwnProperty("i")&&(typeof i.i=="number"?c.i=l.longs===String?String(i.i):i.i:c.i=l.longs===String?n.Long.prototype.toString.call(i.i):l.longs===Number?new n.LongBits(i.i.low>>>0,i.i.high>>>0).toNumber():i.i),i.s!=null&&i.hasOwnProperty("s")&&(c.s=l.bytes===String?n.base64.encode(i.s,0,i.s.length):l.bytes===Array?Array.prototype.slice.call(i.s):i.s),i.t!=null&&i.hasOwnProperty("t")&&(c.t=s.onnx.TensorProto.toObject(i.t,l)),i.g!=null&&i.hasOwnProperty("g")&&(c.g=s.onnx.GraphProto.toObject(i.g,l)),i.floats&&i.floats.length){c.floats=[];for(var y=0;y<i.floats.length;++y)c.floats[y]=l.json&&!isFinite(i.floats[y])?String(i.floats[y]):i.floats[y]}if(i.ints&&i.ints.length){c.ints=[];for(var y=0;y<i.ints.length;++y)typeof i.ints[y]=="number"?c.ints[y]=l.longs===String?String(i.ints[y]):i.ints[y]:c.ints[y]=l.longs===String?n.Long.prototype.toString.call(i.ints[y]):l.longs===Number?new n.LongBits(i.ints[y].low>>>0,i.ints[y].high>>>0).toNumber():i.ints[y]}if(i.strings&&i.strings.length){c.strings=[];for(var y=0;y<i.strings.length;++y)c.strings[y]=l.bytes===String?n.base64.encode(i.strings[y],0,i.strings[y].length):l.bytes===Array?Array.prototype.slice.call(i.strings[y]):i.strings[y]}if(i.tensors&&i.tensors.length){c.tensors=[];for(var y=0;y<i.tensors.length;++y)c.tensors[y]=s.onnx.TensorProto.toObject(i.tensors[y],l)}if(i.graphs&&i.graphs.length){c.graphs=[];for(var y=0;y<i.graphs.length;++y)c.graphs[y]=s.onnx.GraphProto.toObject(i.graphs[y],l)}if(i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.tp!=null&&i.hasOwnProperty("tp")&&(c.tp=s.onnx.TypeProto.toObject(i.tp,l)),i.typeProtos&&i.typeProtos.length){c.typeProtos=[];for(var y=0;y<i.typeProtos.length;++y)c.typeProtos[y]=s.onnx.TypeProto.toObject(i.typeProtos[y],l)}if(i.type!=null&&i.hasOwnProperty("type")&&(c.type=l.enums===String?s.onnx.AttributeProto.AttributeType[i.type]===void 0?i.type:s.onnx.AttributeProto.AttributeType[i.type]:i.type),i.refAttrName!=null&&i.hasOwnProperty("refAttrName")&&(c.refAttrName=i.refAttrName),i.sparseTensor!=null&&i.hasOwnProperty("sparseTensor")&&(c.sparseTensor=s.onnx.SparseTensorProto.toObject(i.sparseTensor,l)),i.sparseTensors&&i.sparseTensors.length){c.sparseTensors=[];for(var y=0;y<i.sparseTensors.length;++y)c.sparseTensors[y]=s.onnx.SparseTensorProto.toObject(i.sparseTensors[y],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.AttributeProto"},h.AttributeType=function(){var i={},l=Object.create(i);return l[i[0]="UNDEFINED"]=0,l[i[1]="FLOAT"]=1,l[i[2]="INT"]=2,l[i[3]="STRING"]=3,l[i[4]="TENSOR"]=4,l[i[5]="GRAPH"]=5,l[i[11]="SPARSE_TENSOR"]=11,l[i[13]="TYPE_PROTO"]=13,l[i[6]="FLOATS"]=6,l[i[7]="INTS"]=7,l[i[8]="STRINGS"]=8,l[i[9]="TENSORS"]=9,l[i[10]="GRAPHS"]=10,l[i[12]="SPARSE_TENSORS"]=12,l[i[14]="TYPE_PROTOS"]=14,l}(),h}(),d.ValueInfoProto=function(){function h(i){if(i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.name="",h.prototype.type=null,h.prototype.docString="",h.create=function(i){return new h(i)},h.encode=function(i,l){return l||(l=a.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(10).string(i.name),i.type!=null&&Object.hasOwnProperty.call(i,"type")&&s.onnx.TypeProto.encode(i.type,l.uint32(18).fork()).ldelim(),i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(26).string(i.docString),l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.ValueInfoProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.name=i.string();break}case 2:{g.type=s.onnx.TypeProto.decode(i,i.uint32());break}case 3:{g.docString=i.string();break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.type!=null&&i.hasOwnProperty("type")){var l=s.onnx.TypeProto.verify(i.type);if(l)return"type."+l}return i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString)?"docString: string expected":null},h.fromObject=function(i){if(i instanceof s.onnx.ValueInfoProto)return i;var l=new s.onnx.ValueInfoProto;if(i.name!=null&&(l.name=String(i.name)),i.type!=null){if(typeof i.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");l.type=s.onnx.TypeProto.fromObject(i.type)}return i.docString!=null&&(l.docString=String(i.docString)),l},h.toObject=function(i,l){l||(l={});var c={};return l.defaults&&(c.name="",c.type=null,c.docString=""),i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.type!=null&&i.hasOwnProperty("type")&&(c.type=s.onnx.TypeProto.toObject(i.type,l)),i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.ValueInfoProto"},h}(),d.NodeProto=function(){function h(i){if(this.input=[],this.output=[],this.attribute=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.input=n.emptyArray,h.prototype.output=n.emptyArray,h.prototype.name="",h.prototype.opType="",h.prototype.domain="",h.prototype.attribute=n.emptyArray,h.prototype.docString="",h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.input!=null&&i.input.length)for(var c=0;c<i.input.length;++c)l.uint32(10).string(i.input[c]);if(i.output!=null&&i.output.length)for(var c=0;c<i.output.length;++c)l.uint32(18).string(i.output[c]);if(i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(26).string(i.name),i.opType!=null&&Object.hasOwnProperty.call(i,"opType")&&l.uint32(34).string(i.opType),i.attribute!=null&&i.attribute.length)for(var c=0;c<i.attribute.length;++c)s.onnx.AttributeProto.encode(i.attribute[c],l.uint32(42).fork()).ldelim();return i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(50).string(i.docString),i.domain!=null&&Object.hasOwnProperty.call(i,"domain")&&l.uint32(58).string(i.domain),l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.NodeProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.input&&g.input.length||(g.input=[]),g.input.push(i.string());break}case 2:{g.output&&g.output.length||(g.output=[]),g.output.push(i.string());break}case 3:{g.name=i.string();break}case 4:{g.opType=i.string();break}case 7:{g.domain=i.string();break}case 5:{g.attribute&&g.attribute.length||(g.attribute=[]),g.attribute.push(s.onnx.AttributeProto.decode(i,i.uint32()));break}case 6:{g.docString=i.string();break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.input!=null&&i.hasOwnProperty("input")){if(!Array.isArray(i.input))return"input: array expected";for(var l=0;l<i.input.length;++l)if(!n.isString(i.input[l]))return"input: string[] expected"}if(i.output!=null&&i.hasOwnProperty("output")){if(!Array.isArray(i.output))return"output: array expected";for(var l=0;l<i.output.length;++l)if(!n.isString(i.output[l]))return"output: string[] expected"}if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.opType!=null&&i.hasOwnProperty("opType")&&!n.isString(i.opType))return"opType: string expected";if(i.domain!=null&&i.hasOwnProperty("domain")&&!n.isString(i.domain))return"domain: string expected";if(i.attribute!=null&&i.hasOwnProperty("attribute")){if(!Array.isArray(i.attribute))return"attribute: array expected";for(var l=0;l<i.attribute.length;++l){var c=s.onnx.AttributeProto.verify(i.attribute[l]);if(c)return"attribute."+c}}return i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString)?"docString: string expected":null},h.fromObject=function(i){if(i instanceof s.onnx.NodeProto)return i;var l=new s.onnx.NodeProto;if(i.input){if(!Array.isArray(i.input))throw TypeError(".onnx.NodeProto.input: array expected");l.input=[];for(var c=0;c<i.input.length;++c)l.input[c]=String(i.input[c])}if(i.output){if(!Array.isArray(i.output))throw TypeError(".onnx.NodeProto.output: array expected");l.output=[];for(var c=0;c<i.output.length;++c)l.output[c]=String(i.output[c])}if(i.name!=null&&(l.name=String(i.name)),i.opType!=null&&(l.opType=String(i.opType)),i.domain!=null&&(l.domain=String(i.domain)),i.attribute){if(!Array.isArray(i.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");l.attribute=[];for(var c=0;c<i.attribute.length;++c){if(typeof i.attribute[c]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");l.attribute[c]=s.onnx.AttributeProto.fromObject(i.attribute[c])}}return i.docString!=null&&(l.docString=String(i.docString)),l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.input=[],c.output=[],c.attribute=[]),l.defaults&&(c.name="",c.opType="",c.docString="",c.domain=""),i.input&&i.input.length){c.input=[];for(var g=0;g<i.input.length;++g)c.input[g]=i.input[g]}if(i.output&&i.output.length){c.output=[];for(var g=0;g<i.output.length;++g)c.output[g]=i.output[g]}if(i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.opType!=null&&i.hasOwnProperty("opType")&&(c.opType=i.opType),i.attribute&&i.attribute.length){c.attribute=[];for(var g=0;g<i.attribute.length;++g)c.attribute[g]=s.onnx.AttributeProto.toObject(i.attribute[g],l)}return i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.domain!=null&&i.hasOwnProperty("domain")&&(c.domain=i.domain),c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.NodeProto"},h}(),d.TrainingInfoProto=function(){function h(i){if(this.initializationBinding=[],this.updateBinding=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.initialization=null,h.prototype.algorithm=null,h.prototype.initializationBinding=n.emptyArray,h.prototype.updateBinding=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.initialization!=null&&Object.hasOwnProperty.call(i,"initialization")&&s.onnx.GraphProto.encode(i.initialization,l.uint32(10).fork()).ldelim(),i.algorithm!=null&&Object.hasOwnProperty.call(i,"algorithm")&&s.onnx.GraphProto.encode(i.algorithm,l.uint32(18).fork()).ldelim(),i.initializationBinding!=null&&i.initializationBinding.length)for(var c=0;c<i.initializationBinding.length;++c)s.onnx.StringStringEntryProto.encode(i.initializationBinding[c],l.uint32(26).fork()).ldelim();if(i.updateBinding!=null&&i.updateBinding.length)for(var c=0;c<i.updateBinding.length;++c)s.onnx.StringStringEntryProto.encode(i.updateBinding[c],l.uint32(34).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.TrainingInfoProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.initialization=s.onnx.GraphProto.decode(i,i.uint32());break}case 2:{g.algorithm=s.onnx.GraphProto.decode(i,i.uint32());break}case 3:{g.initializationBinding&&g.initializationBinding.length||(g.initializationBinding=[]),g.initializationBinding.push(s.onnx.StringStringEntryProto.decode(i,i.uint32()));break}case 4:{g.updateBinding&&g.updateBinding.length||(g.updateBinding=[]),g.updateBinding.push(s.onnx.StringStringEntryProto.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.initialization!=null&&i.hasOwnProperty("initialization")){var l=s.onnx.GraphProto.verify(i.initialization);if(l)return"initialization."+l}if(i.algorithm!=null&&i.hasOwnProperty("algorithm")){var l=s.onnx.GraphProto.verify(i.algorithm);if(l)return"algorithm."+l}if(i.initializationBinding!=null&&i.hasOwnProperty("initializationBinding")){if(!Array.isArray(i.initializationBinding))return"initializationBinding: array expected";for(var c=0;c<i.initializationBinding.length;++c){var l=s.onnx.StringStringEntryProto.verify(i.initializationBinding[c]);if(l)return"initializationBinding."+l}}if(i.updateBinding!=null&&i.hasOwnProperty("updateBinding")){if(!Array.isArray(i.updateBinding))return"updateBinding: array expected";for(var c=0;c<i.updateBinding.length;++c){var l=s.onnx.StringStringEntryProto.verify(i.updateBinding[c]);if(l)return"updateBinding."+l}}return null},h.fromObject=function(i){if(i instanceof s.onnx.TrainingInfoProto)return i;var l=new s.onnx.TrainingInfoProto;if(i.initialization!=null){if(typeof i.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");l.initialization=s.onnx.GraphProto.fromObject(i.initialization)}if(i.algorithm!=null){if(typeof i.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");l.algorithm=s.onnx.GraphProto.fromObject(i.algorithm)}if(i.initializationBinding){if(!Array.isArray(i.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");l.initializationBinding=[];for(var c=0;c<i.initializationBinding.length;++c){if(typeof i.initializationBinding[c]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");l.initializationBinding[c]=s.onnx.StringStringEntryProto.fromObject(i.initializationBinding[c])}}if(i.updateBinding){if(!Array.isArray(i.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");l.updateBinding=[];for(var c=0;c<i.updateBinding.length;++c){if(typeof i.updateBinding[c]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");l.updateBinding[c]=s.onnx.StringStringEntryProto.fromObject(i.updateBinding[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.initializationBinding=[],c.updateBinding=[]),l.defaults&&(c.initialization=null,c.algorithm=null),i.initialization!=null&&i.hasOwnProperty("initialization")&&(c.initialization=s.onnx.GraphProto.toObject(i.initialization,l)),i.algorithm!=null&&i.hasOwnProperty("algorithm")&&(c.algorithm=s.onnx.GraphProto.toObject(i.algorithm,l)),i.initializationBinding&&i.initializationBinding.length){c.initializationBinding=[];for(var g=0;g<i.initializationBinding.length;++g)c.initializationBinding[g]=s.onnx.StringStringEntryProto.toObject(i.initializationBinding[g],l)}if(i.updateBinding&&i.updateBinding.length){c.updateBinding=[];for(var g=0;g<i.updateBinding.length;++g)c.updateBinding[g]=s.onnx.StringStringEntryProto.toObject(i.updateBinding[g],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.TrainingInfoProto"},h}(),d.ModelProto=function(){function h(i){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.irVersion=n.Long?n.Long.fromBits(0,0,!1):0,h.prototype.opsetImport=n.emptyArray,h.prototype.producerName="",h.prototype.producerVersion="",h.prototype.domain="",h.prototype.modelVersion=n.Long?n.Long.fromBits(0,0,!1):0,h.prototype.docString="",h.prototype.graph=null,h.prototype.metadataProps=n.emptyArray,h.prototype.trainingInfo=n.emptyArray,h.prototype.functions=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.irVersion!=null&&Object.hasOwnProperty.call(i,"irVersion")&&l.uint32(8).int64(i.irVersion),i.producerName!=null&&Object.hasOwnProperty.call(i,"producerName")&&l.uint32(18).string(i.producerName),i.producerVersion!=null&&Object.hasOwnProperty.call(i,"producerVersion")&&l.uint32(26).string(i.producerVersion),i.domain!=null&&Object.hasOwnProperty.call(i,"domain")&&l.uint32(34).string(i.domain),i.modelVersion!=null&&Object.hasOwnProperty.call(i,"modelVersion")&&l.uint32(40).int64(i.modelVersion),i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(50).string(i.docString),i.graph!=null&&Object.hasOwnProperty.call(i,"graph")&&s.onnx.GraphProto.encode(i.graph,l.uint32(58).fork()).ldelim(),i.opsetImport!=null&&i.opsetImport.length)for(var c=0;c<i.opsetImport.length;++c)s.onnx.OperatorSetIdProto.encode(i.opsetImport[c],l.uint32(66).fork()).ldelim();if(i.metadataProps!=null&&i.metadataProps.length)for(var c=0;c<i.metadataProps.length;++c)s.onnx.StringStringEntryProto.encode(i.metadataProps[c],l.uint32(114).fork()).ldelim();if(i.trainingInfo!=null&&i.trainingInfo.length)for(var c=0;c<i.trainingInfo.length;++c)s.onnx.TrainingInfoProto.encode(i.trainingInfo[c],l.uint32(162).fork()).ldelim();if(i.functions!=null&&i.functions.length)for(var c=0;c<i.functions.length;++c)s.onnx.FunctionProto.encode(i.functions[c],l.uint32(202).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.ModelProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.irVersion=i.int64();break}case 8:{g.opsetImport&&g.opsetImport.length||(g.opsetImport=[]),g.opsetImport.push(s.onnx.OperatorSetIdProto.decode(i,i.uint32()));break}case 2:{g.producerName=i.string();break}case 3:{g.producerVersion=i.string();break}case 4:{g.domain=i.string();break}case 5:{g.modelVersion=i.int64();break}case 6:{g.docString=i.string();break}case 7:{g.graph=s.onnx.GraphProto.decode(i,i.uint32());break}case 14:{g.metadataProps&&g.metadataProps.length||(g.metadataProps=[]),g.metadataProps.push(s.onnx.StringStringEntryProto.decode(i,i.uint32()));break}case 20:{g.trainingInfo&&g.trainingInfo.length||(g.trainingInfo=[]),g.trainingInfo.push(s.onnx.TrainingInfoProto.decode(i,i.uint32()));break}case 25:{g.functions&&g.functions.length||(g.functions=[]),g.functions.push(s.onnx.FunctionProto.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.irVersion!=null&&i.hasOwnProperty("irVersion")&&!n.isInteger(i.irVersion)&&!(i.irVersion&&n.isInteger(i.irVersion.low)&&n.isInteger(i.irVersion.high)))return"irVersion: integer|Long expected";if(i.opsetImport!=null&&i.hasOwnProperty("opsetImport")){if(!Array.isArray(i.opsetImport))return"opsetImport: array expected";for(var l=0;l<i.opsetImport.length;++l){var c=s.onnx.OperatorSetIdProto.verify(i.opsetImport[l]);if(c)return"opsetImport."+c}}if(i.producerName!=null&&i.hasOwnProperty("producerName")&&!n.isString(i.producerName))return"producerName: string expected";if(i.producerVersion!=null&&i.hasOwnProperty("producerVersion")&&!n.isString(i.producerVersion))return"producerVersion: string expected";if(i.domain!=null&&i.hasOwnProperty("domain")&&!n.isString(i.domain))return"domain: string expected";if(i.modelVersion!=null&&i.hasOwnProperty("modelVersion")&&!n.isInteger(i.modelVersion)&&!(i.modelVersion&&n.isInteger(i.modelVersion.low)&&n.isInteger(i.modelVersion.high)))return"modelVersion: integer|Long expected";if(i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString))return"docString: string expected";if(i.graph!=null&&i.hasOwnProperty("graph")){var c=s.onnx.GraphProto.verify(i.graph);if(c)return"graph."+c}if(i.metadataProps!=null&&i.hasOwnProperty("metadataProps")){if(!Array.isArray(i.metadataProps))return"metadataProps: array expected";for(var l=0;l<i.metadataProps.length;++l){var c=s.onnx.StringStringEntryProto.verify(i.metadataProps[l]);if(c)return"metadataProps."+c}}if(i.trainingInfo!=null&&i.hasOwnProperty("trainingInfo")){if(!Array.isArray(i.trainingInfo))return"trainingInfo: array expected";for(var l=0;l<i.trainingInfo.length;++l){var c=s.onnx.TrainingInfoProto.verify(i.trainingInfo[l]);if(c)return"trainingInfo."+c}}if(i.functions!=null&&i.hasOwnProperty("functions")){if(!Array.isArray(i.functions))return"functions: array expected";for(var l=0;l<i.functions.length;++l){var c=s.onnx.FunctionProto.verify(i.functions[l]);if(c)return"functions."+c}}return null},h.fromObject=function(i){if(i instanceof s.onnx.ModelProto)return i;var l=new s.onnx.ModelProto;if(i.irVersion!=null&&(n.Long?(l.irVersion=n.Long.fromValue(i.irVersion)).unsigned=!1:typeof i.irVersion=="string"?l.irVersion=parseInt(i.irVersion,10):typeof i.irVersion=="number"?l.irVersion=i.irVersion:typeof i.irVersion=="object"&&(l.irVersion=new n.LongBits(i.irVersion.low>>>0,i.irVersion.high>>>0).toNumber())),i.opsetImport){if(!Array.isArray(i.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");l.opsetImport=[];for(var c=0;c<i.opsetImport.length;++c){if(typeof i.opsetImport[c]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");l.opsetImport[c]=s.onnx.OperatorSetIdProto.fromObject(i.opsetImport[c])}}if(i.producerName!=null&&(l.producerName=String(i.producerName)),i.producerVersion!=null&&(l.producerVersion=String(i.producerVersion)),i.domain!=null&&(l.domain=String(i.domain)),i.modelVersion!=null&&(n.Long?(l.modelVersion=n.Long.fromValue(i.modelVersion)).unsigned=!1:typeof i.modelVersion=="string"?l.modelVersion=parseInt(i.modelVersion,10):typeof i.modelVersion=="number"?l.modelVersion=i.modelVersion:typeof i.modelVersion=="object"&&(l.modelVersion=new n.LongBits(i.modelVersion.low>>>0,i.modelVersion.high>>>0).toNumber())),i.docString!=null&&(l.docString=String(i.docString)),i.graph!=null){if(typeof i.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");l.graph=s.onnx.GraphProto.fromObject(i.graph)}if(i.metadataProps){if(!Array.isArray(i.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");l.metadataProps=[];for(var c=0;c<i.metadataProps.length;++c){if(typeof i.metadataProps[c]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");l.metadataProps[c]=s.onnx.StringStringEntryProto.fromObject(i.metadataProps[c])}}if(i.trainingInfo){if(!Array.isArray(i.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");l.trainingInfo=[];for(var c=0;c<i.trainingInfo.length;++c){if(typeof i.trainingInfo[c]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");l.trainingInfo[c]=s.onnx.TrainingInfoProto.fromObject(i.trainingInfo[c])}}if(i.functions){if(!Array.isArray(i.functions))throw TypeError(".onnx.ModelProto.functions: array expected");l.functions=[];for(var c=0;c<i.functions.length;++c){if(typeof i.functions[c]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");l.functions[c]=s.onnx.FunctionProto.fromObject(i.functions[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.opsetImport=[],c.metadataProps=[],c.trainingInfo=[],c.functions=[]),l.defaults){if(n.Long){var g=new n.Long(0,0,!1);c.irVersion=l.longs===String?g.toString():l.longs===Number?g.toNumber():g}else c.irVersion=l.longs===String?"0":0;if(c.producerName="",c.producerVersion="",c.domain="",n.Long){var g=new n.Long(0,0,!1);c.modelVersion=l.longs===String?g.toString():l.longs===Number?g.toNumber():g}else c.modelVersion=l.longs===String?"0":0;c.docString="",c.graph=null}if(i.irVersion!=null&&i.hasOwnProperty("irVersion")&&(typeof i.irVersion=="number"?c.irVersion=l.longs===String?String(i.irVersion):i.irVersion:c.irVersion=l.longs===String?n.Long.prototype.toString.call(i.irVersion):l.longs===Number?new n.LongBits(i.irVersion.low>>>0,i.irVersion.high>>>0).toNumber():i.irVersion),i.producerName!=null&&i.hasOwnProperty("producerName")&&(c.producerName=i.producerName),i.producerVersion!=null&&i.hasOwnProperty("producerVersion")&&(c.producerVersion=i.producerVersion),i.domain!=null&&i.hasOwnProperty("domain")&&(c.domain=i.domain),i.modelVersion!=null&&i.hasOwnProperty("modelVersion")&&(typeof i.modelVersion=="number"?c.modelVersion=l.longs===String?String(i.modelVersion):i.modelVersion:c.modelVersion=l.longs===String?n.Long.prototype.toString.call(i.modelVersion):l.longs===Number?new n.LongBits(i.modelVersion.low>>>0,i.modelVersion.high>>>0).toNumber():i.modelVersion),i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.graph!=null&&i.hasOwnProperty("graph")&&(c.graph=s.onnx.GraphProto.toObject(i.graph,l)),i.opsetImport&&i.opsetImport.length){c.opsetImport=[];for(var y=0;y<i.opsetImport.length;++y)c.opsetImport[y]=s.onnx.OperatorSetIdProto.toObject(i.opsetImport[y],l)}if(i.metadataProps&&i.metadataProps.length){c.metadataProps=[];for(var y=0;y<i.metadataProps.length;++y)c.metadataProps[y]=s.onnx.StringStringEntryProto.toObject(i.metadataProps[y],l)}if(i.trainingInfo&&i.trainingInfo.length){c.trainingInfo=[];for(var y=0;y<i.trainingInfo.length;++y)c.trainingInfo[y]=s.onnx.TrainingInfoProto.toObject(i.trainingInfo[y],l)}if(i.functions&&i.functions.length){c.functions=[];for(var y=0;y<i.functions.length;++y)c.functions[y]=s.onnx.FunctionProto.toObject(i.functions[y],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.ModelProto"},h}(),d.StringStringEntryProto=function(){function h(i){if(i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.key="",h.prototype.value="",h.create=function(i){return new h(i)},h.encode=function(i,l){return l||(l=a.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&l.uint32(10).string(i.key),i.value!=null&&Object.hasOwnProperty.call(i,"value")&&l.uint32(18).string(i.value),l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.StringStringEntryProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.key=i.string();break}case 2:{g.value=i.string();break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){return typeof i!="object"||i===null?"object expected":i.key!=null&&i.hasOwnProperty("key")&&!n.isString(i.key)?"key: string expected":i.value!=null&&i.hasOwnProperty("value")&&!n.isString(i.value)?"value: string expected":null},h.fromObject=function(i){if(i instanceof s.onnx.StringStringEntryProto)return i;var l=new s.onnx.StringStringEntryProto;return i.key!=null&&(l.key=String(i.key)),i.value!=null&&(l.value=String(i.value)),l},h.toObject=function(i,l){l||(l={});var c={};return l.defaults&&(c.key="",c.value=""),i.key!=null&&i.hasOwnProperty("key")&&(c.key=i.key),i.value!=null&&i.hasOwnProperty("value")&&(c.value=i.value),c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.StringStringEntryProto"},h}(),d.TensorAnnotation=function(){function h(i){if(this.quantParameterTensorNames=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.tensorName="",h.prototype.quantParameterTensorNames=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.tensorName!=null&&Object.hasOwnProperty.call(i,"tensorName")&&l.uint32(10).string(i.tensorName),i.quantParameterTensorNames!=null&&i.quantParameterTensorNames.length)for(var c=0;c<i.quantParameterTensorNames.length;++c)s.onnx.StringStringEntryProto.encode(i.quantParameterTensorNames[c],l.uint32(18).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.TensorAnnotation;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.tensorName=i.string();break}case 2:{g.quantParameterTensorNames&&g.quantParameterTensorNames.length||(g.quantParameterTensorNames=[]),g.quantParameterTensorNames.push(s.onnx.StringStringEntryProto.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.tensorName!=null&&i.hasOwnProperty("tensorName")&&!n.isString(i.tensorName))return"tensorName: string expected";if(i.quantParameterTensorNames!=null&&i.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(i.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var l=0;l<i.quantParameterTensorNames.length;++l){var c=s.onnx.StringStringEntryProto.verify(i.quantParameterTensorNames[l]);if(c)return"quantParameterTensorNames."+c}}return null},h.fromObject=function(i){if(i instanceof s.onnx.TensorAnnotation)return i;var l=new s.onnx.TensorAnnotation;if(i.tensorName!=null&&(l.tensorName=String(i.tensorName)),i.quantParameterTensorNames){if(!Array.isArray(i.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");l.quantParameterTensorNames=[];for(var c=0;c<i.quantParameterTensorNames.length;++c){if(typeof i.quantParameterTensorNames[c]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");l.quantParameterTensorNames[c]=s.onnx.StringStringEntryProto.fromObject(i.quantParameterTensorNames[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.quantParameterTensorNames=[]),l.defaults&&(c.tensorName=""),i.tensorName!=null&&i.hasOwnProperty("tensorName")&&(c.tensorName=i.tensorName),i.quantParameterTensorNames&&i.quantParameterTensorNames.length){c.quantParameterTensorNames=[];for(var g=0;g<i.quantParameterTensorNames.length;++g)c.quantParameterTensorNames[g]=s.onnx.StringStringEntryProto.toObject(i.quantParameterTensorNames[g],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.TensorAnnotation"},h}(),d.GraphProto=function(){function h(i){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.node=n.emptyArray,h.prototype.name="",h.prototype.initializer=n.emptyArray,h.prototype.sparseInitializer=n.emptyArray,h.prototype.docString="",h.prototype.input=n.emptyArray,h.prototype.output=n.emptyArray,h.prototype.valueInfo=n.emptyArray,h.prototype.quantizationAnnotation=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.node!=null&&i.node.length)for(var c=0;c<i.node.length;++c)s.onnx.NodeProto.encode(i.node[c],l.uint32(10).fork()).ldelim();if(i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(18).string(i.name),i.initializer!=null&&i.initializer.length)for(var c=0;c<i.initializer.length;++c)s.onnx.TensorProto.encode(i.initializer[c],l.uint32(42).fork()).ldelim();if(i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(82).string(i.docString),i.input!=null&&i.input.length)for(var c=0;c<i.input.length;++c)s.onnx.ValueInfoProto.encode(i.input[c],l.uint32(90).fork()).ldelim();if(i.output!=null&&i.output.length)for(var c=0;c<i.output.length;++c)s.onnx.ValueInfoProto.encode(i.output[c],l.uint32(98).fork()).ldelim();if(i.valueInfo!=null&&i.valueInfo.length)for(var c=0;c<i.valueInfo.length;++c)s.onnx.ValueInfoProto.encode(i.valueInfo[c],l.uint32(106).fork()).ldelim();if(i.quantizationAnnotation!=null&&i.quantizationAnnotation.length)for(var c=0;c<i.quantizationAnnotation.length;++c)s.onnx.TensorAnnotation.encode(i.quantizationAnnotation[c],l.uint32(114).fork()).ldelim();if(i.sparseInitializer!=null&&i.sparseInitializer.length)for(var c=0;c<i.sparseInitializer.length;++c)s.onnx.SparseTensorProto.encode(i.sparseInitializer[c],l.uint32(122).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.GraphProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.node&&g.node.length||(g.node=[]),g.node.push(s.onnx.NodeProto.decode(i,i.uint32()));break}case 2:{g.name=i.string();break}case 5:{g.initializer&&g.initializer.length||(g.initializer=[]),g.initializer.push(s.onnx.TensorProto.decode(i,i.uint32()));break}case 15:{g.sparseInitializer&&g.sparseInitializer.length||(g.sparseInitializer=[]),g.sparseInitializer.push(s.onnx.SparseTensorProto.decode(i,i.uint32()));break}case 10:{g.docString=i.string();break}case 11:{g.input&&g.input.length||(g.input=[]),g.input.push(s.onnx.ValueInfoProto.decode(i,i.uint32()));break}case 12:{g.output&&g.output.length||(g.output=[]),g.output.push(s.onnx.ValueInfoProto.decode(i,i.uint32()));break}case 13:{g.valueInfo&&g.valueInfo.length||(g.valueInfo=[]),g.valueInfo.push(s.onnx.ValueInfoProto.decode(i,i.uint32()));break}case 14:{g.quantizationAnnotation&&g.quantizationAnnotation.length||(g.quantizationAnnotation=[]),g.quantizationAnnotation.push(s.onnx.TensorAnnotation.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.node!=null&&i.hasOwnProperty("node")){if(!Array.isArray(i.node))return"node: array expected";for(var l=0;l<i.node.length;++l){var c=s.onnx.NodeProto.verify(i.node[l]);if(c)return"node."+c}}if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.initializer!=null&&i.hasOwnProperty("initializer")){if(!Array.isArray(i.initializer))return"initializer: array expected";for(var l=0;l<i.initializer.length;++l){var c=s.onnx.TensorProto.verify(i.initializer[l]);if(c)return"initializer."+c}}if(i.sparseInitializer!=null&&i.hasOwnProperty("sparseInitializer")){if(!Array.isArray(i.sparseInitializer))return"sparseInitializer: array expected";for(var l=0;l<i.sparseInitializer.length;++l){var c=s.onnx.SparseTensorProto.verify(i.sparseInitializer[l]);if(c)return"sparseInitializer."+c}}if(i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString))return"docString: string expected";if(i.input!=null&&i.hasOwnProperty("input")){if(!Array.isArray(i.input))return"input: array expected";for(var l=0;l<i.input.length;++l){var c=s.onnx.ValueInfoProto.verify(i.input[l]);if(c)return"input."+c}}if(i.output!=null&&i.hasOwnProperty("output")){if(!Array.isArray(i.output))return"output: array expected";for(var l=0;l<i.output.length;++l){var c=s.onnx.ValueInfoProto.verify(i.output[l]);if(c)return"output."+c}}if(i.valueInfo!=null&&i.hasOwnProperty("valueInfo")){if(!Array.isArray(i.valueInfo))return"valueInfo: array expected";for(var l=0;l<i.valueInfo.length;++l){var c=s.onnx.ValueInfoProto.verify(i.valueInfo[l]);if(c)return"valueInfo."+c}}if(i.quantizationAnnotation!=null&&i.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(i.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var l=0;l<i.quantizationAnnotation.length;++l){var c=s.onnx.TensorAnnotation.verify(i.quantizationAnnotation[l]);if(c)return"quantizationAnnotation."+c}}return null},h.fromObject=function(i){if(i instanceof s.onnx.GraphProto)return i;var l=new s.onnx.GraphProto;if(i.node){if(!Array.isArray(i.node))throw TypeError(".onnx.GraphProto.node: array expected");l.node=[];for(var c=0;c<i.node.length;++c){if(typeof i.node[c]!="object")throw TypeError(".onnx.GraphProto.node: object expected");l.node[c]=s.onnx.NodeProto.fromObject(i.node[c])}}if(i.name!=null&&(l.name=String(i.name)),i.initializer){if(!Array.isArray(i.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");l.initializer=[];for(var c=0;c<i.initializer.length;++c){if(typeof i.initializer[c]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");l.initializer[c]=s.onnx.TensorProto.fromObject(i.initializer[c])}}if(i.sparseInitializer){if(!Array.isArray(i.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");l.sparseInitializer=[];for(var c=0;c<i.sparseInitializer.length;++c){if(typeof i.sparseInitializer[c]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");l.sparseInitializer[c]=s.onnx.SparseTensorProto.fromObject(i.sparseInitializer[c])}}if(i.docString!=null&&(l.docString=String(i.docString)),i.input){if(!Array.isArray(i.input))throw TypeError(".onnx.GraphProto.input: array expected");l.input=[];for(var c=0;c<i.input.length;++c){if(typeof i.input[c]!="object")throw TypeError(".onnx.GraphProto.input: object expected");l.input[c]=s.onnx.ValueInfoProto.fromObject(i.input[c])}}if(i.output){if(!Array.isArray(i.output))throw TypeError(".onnx.GraphProto.output: array expected");l.output=[];for(var c=0;c<i.output.length;++c){if(typeof i.output[c]!="object")throw TypeError(".onnx.GraphProto.output: object expected");l.output[c]=s.onnx.ValueInfoProto.fromObject(i.output[c])}}if(i.valueInfo){if(!Array.isArray(i.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");l.valueInfo=[];for(var c=0;c<i.valueInfo.length;++c){if(typeof i.valueInfo[c]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");l.valueInfo[c]=s.onnx.ValueInfoProto.fromObject(i.valueInfo[c])}}if(i.quantizationAnnotation){if(!Array.isArray(i.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");l.quantizationAnnotation=[];for(var c=0;c<i.quantizationAnnotation.length;++c){if(typeof i.quantizationAnnotation[c]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");l.quantizationAnnotation[c]=s.onnx.TensorAnnotation.fromObject(i.quantizationAnnotation[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.node=[],c.initializer=[],c.input=[],c.output=[],c.valueInfo=[],c.quantizationAnnotation=[],c.sparseInitializer=[]),l.defaults&&(c.name="",c.docString=""),i.node&&i.node.length){c.node=[];for(var g=0;g<i.node.length;++g)c.node[g]=s.onnx.NodeProto.toObject(i.node[g],l)}if(i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.initializer&&i.initializer.length){c.initializer=[];for(var g=0;g<i.initializer.length;++g)c.initializer[g]=s.onnx.TensorProto.toObject(i.initializer[g],l)}if(i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.input&&i.input.length){c.input=[];for(var g=0;g<i.input.length;++g)c.input[g]=s.onnx.ValueInfoProto.toObject(i.input[g],l)}if(i.output&&i.output.length){c.output=[];for(var g=0;g<i.output.length;++g)c.output[g]=s.onnx.ValueInfoProto.toObject(i.output[g],l)}if(i.valueInfo&&i.valueInfo.length){c.valueInfo=[];for(var g=0;g<i.valueInfo.length;++g)c.valueInfo[g]=s.onnx.ValueInfoProto.toObject(i.valueInfo[g],l)}if(i.quantizationAnnotation&&i.quantizationAnnotation.length){c.quantizationAnnotation=[];for(var g=0;g<i.quantizationAnnotation.length;++g)c.quantizationAnnotation[g]=s.onnx.TensorAnnotation.toObject(i.quantizationAnnotation[g],l)}if(i.sparseInitializer&&i.sparseInitializer.length){c.sparseInitializer=[];for(var g=0;g<i.sparseInitializer.length;++g)c.sparseInitializer[g]=s.onnx.SparseTensorProto.toObject(i.sparseInitializer[g],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.GraphProto"},h}(),d.TensorProto=function(){function h(i){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.dims=n.emptyArray,h.prototype.dataType=0,h.prototype.segment=null,h.prototype.floatData=n.emptyArray,h.prototype.int32Data=n.emptyArray,h.prototype.stringData=n.emptyArray,h.prototype.int64Data=n.emptyArray,h.prototype.name="",h.prototype.docString="",h.prototype.rawData=n.newBuffer([]),h.prototype.externalData=n.emptyArray,h.prototype.dataLocation=0,h.prototype.doubleData=n.emptyArray,h.prototype.uint64Data=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.dims!=null&&i.dims.length){l.uint32(10).fork();for(var c=0;c<i.dims.length;++c)l.int64(i.dims[c]);l.ldelim()}if(i.dataType!=null&&Object.hasOwnProperty.call(i,"dataType")&&l.uint32(16).int32(i.dataType),i.segment!=null&&Object.hasOwnProperty.call(i,"segment")&&s.onnx.TensorProto.Segment.encode(i.segment,l.uint32(26).fork()).ldelim(),i.floatData!=null&&i.floatData.length){l.uint32(34).fork();for(var c=0;c<i.floatData.length;++c)l.float(i.floatData[c]);l.ldelim()}if(i.int32Data!=null&&i.int32Data.length){l.uint32(42).fork();for(var c=0;c<i.int32Data.length;++c)l.int32(i.int32Data[c]);l.ldelim()}if(i.stringData!=null&&i.stringData.length)for(var c=0;c<i.stringData.length;++c)l.uint32(50).bytes(i.stringData[c]);if(i.int64Data!=null&&i.int64Data.length){l.uint32(58).fork();for(var c=0;c<i.int64Data.length;++c)l.int64(i.int64Data[c]);l.ldelim()}if(i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(66).string(i.name),i.rawData!=null&&Object.hasOwnProperty.call(i,"rawData")&&l.uint32(74).bytes(i.rawData),i.doubleData!=null&&i.doubleData.length){l.uint32(82).fork();for(var c=0;c<i.doubleData.length;++c)l.double(i.doubleData[c]);l.ldelim()}if(i.uint64Data!=null&&i.uint64Data.length){l.uint32(90).fork();for(var c=0;c<i.uint64Data.length;++c)l.uint64(i.uint64Data[c]);l.ldelim()}if(i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(98).string(i.docString),i.externalData!=null&&i.externalData.length)for(var c=0;c<i.externalData.length;++c)s.onnx.StringStringEntryProto.encode(i.externalData[c],l.uint32(106).fork()).ldelim();return i.dataLocation!=null&&Object.hasOwnProperty.call(i,"dataLocation")&&l.uint32(112).int32(i.dataLocation),l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.TensorProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{if(g.dims&&g.dims.length||(g.dims=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.dims.push(i.int64());else g.dims.push(i.int64());break}case 2:{g.dataType=i.int32();break}case 3:{g.segment=s.onnx.TensorProto.Segment.decode(i,i.uint32());break}case 4:{if(g.floatData&&g.floatData.length||(g.floatData=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.floatData.push(i.float());else g.floatData.push(i.float());break}case 5:{if(g.int32Data&&g.int32Data.length||(g.int32Data=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.int32Data.push(i.int32());else g.int32Data.push(i.int32());break}case 6:{g.stringData&&g.stringData.length||(g.stringData=[]),g.stringData.push(i.bytes());break}case 7:{if(g.int64Data&&g.int64Data.length||(g.int64Data=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.int64Data.push(i.int64());else g.int64Data.push(i.int64());break}case 8:{g.name=i.string();break}case 12:{g.docString=i.string();break}case 9:{g.rawData=i.bytes();break}case 13:{g.externalData&&g.externalData.length||(g.externalData=[]),g.externalData.push(s.onnx.StringStringEntryProto.decode(i,i.uint32()));break}case 14:{g.dataLocation=i.int32();break}case 10:{if(g.doubleData&&g.doubleData.length||(g.doubleData=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.doubleData.push(i.double());else g.doubleData.push(i.double());break}case 11:{if(g.uint64Data&&g.uint64Data.length||(g.uint64Data=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.uint64Data.push(i.uint64());else g.uint64Data.push(i.uint64());break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dims!=null&&i.hasOwnProperty("dims")){if(!Array.isArray(i.dims))return"dims: array expected";for(var l=0;l<i.dims.length;++l)if(!n.isInteger(i.dims[l])&&!(i.dims[l]&&n.isInteger(i.dims[l].low)&&n.isInteger(i.dims[l].high)))return"dims: integer|Long[] expected"}if(i.dataType!=null&&i.hasOwnProperty("dataType")&&!n.isInteger(i.dataType))return"dataType: integer expected";if(i.segment!=null&&i.hasOwnProperty("segment")){var c=s.onnx.TensorProto.Segment.verify(i.segment);if(c)return"segment."+c}if(i.floatData!=null&&i.hasOwnProperty("floatData")){if(!Array.isArray(i.floatData))return"floatData: array expected";for(var l=0;l<i.floatData.length;++l)if(typeof i.floatData[l]!="number")return"floatData: number[] expected"}if(i.int32Data!=null&&i.hasOwnProperty("int32Data")){if(!Array.isArray(i.int32Data))return"int32Data: array expected";for(var l=0;l<i.int32Data.length;++l)if(!n.isInteger(i.int32Data[l]))return"int32Data: integer[] expected"}if(i.stringData!=null&&i.hasOwnProperty("stringData")){if(!Array.isArray(i.stringData))return"stringData: array expected";for(var l=0;l<i.stringData.length;++l)if(!(i.stringData[l]&&typeof i.stringData[l].length=="number"||n.isString(i.stringData[l])))return"stringData: buffer[] expected"}if(i.int64Data!=null&&i.hasOwnProperty("int64Data")){if(!Array.isArray(i.int64Data))return"int64Data: array expected";for(var l=0;l<i.int64Data.length;++l)if(!n.isInteger(i.int64Data[l])&&!(i.int64Data[l]&&n.isInteger(i.int64Data[l].low)&&n.isInteger(i.int64Data[l].high)))return"int64Data: integer|Long[] expected"}if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString))return"docString: string expected";if(i.rawData!=null&&i.hasOwnProperty("rawData")&&!(i.rawData&&typeof i.rawData.length=="number"||n.isString(i.rawData)))return"rawData: buffer expected";if(i.externalData!=null&&i.hasOwnProperty("externalData")){if(!Array.isArray(i.externalData))return"externalData: array expected";for(var l=0;l<i.externalData.length;++l){var c=s.onnx.StringStringEntryProto.verify(i.externalData[l]);if(c)return"externalData."+c}}if(i.dataLocation!=null&&i.hasOwnProperty("dataLocation"))switch(i.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(i.doubleData!=null&&i.hasOwnProperty("doubleData")){if(!Array.isArray(i.doubleData))return"doubleData: array expected";for(var l=0;l<i.doubleData.length;++l)if(typeof i.doubleData[l]!="number")return"doubleData: number[] expected"}if(i.uint64Data!=null&&i.hasOwnProperty("uint64Data")){if(!Array.isArray(i.uint64Data))return"uint64Data: array expected";for(var l=0;l<i.uint64Data.length;++l)if(!n.isInteger(i.uint64Data[l])&&!(i.uint64Data[l]&&n.isInteger(i.uint64Data[l].low)&&n.isInteger(i.uint64Data[l].high)))return"uint64Data: integer|Long[] expected"}return null},h.fromObject=function(i){if(i instanceof s.onnx.TensorProto)return i;var l=new s.onnx.TensorProto;if(i.dims){if(!Array.isArray(i.dims))throw TypeError(".onnx.TensorProto.dims: array expected");l.dims=[];for(var c=0;c<i.dims.length;++c)n.Long?(l.dims[c]=n.Long.fromValue(i.dims[c])).unsigned=!1:typeof i.dims[c]=="string"?l.dims[c]=parseInt(i.dims[c],10):typeof i.dims[c]=="number"?l.dims[c]=i.dims[c]:typeof i.dims[c]=="object"&&(l.dims[c]=new n.LongBits(i.dims[c].low>>>0,i.dims[c].high>>>0).toNumber())}if(i.dataType!=null&&(l.dataType=i.dataType|0),i.segment!=null){if(typeof i.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");l.segment=s.onnx.TensorProto.Segment.fromObject(i.segment)}if(i.floatData){if(!Array.isArray(i.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");l.floatData=[];for(var c=0;c<i.floatData.length;++c)l.floatData[c]=Number(i.floatData[c])}if(i.int32Data){if(!Array.isArray(i.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");l.int32Data=[];for(var c=0;c<i.int32Data.length;++c)l.int32Data[c]=i.int32Data[c]|0}if(i.stringData){if(!Array.isArray(i.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");l.stringData=[];for(var c=0;c<i.stringData.length;++c)typeof i.stringData[c]=="string"?n.base64.decode(i.stringData[c],l.stringData[c]=n.newBuffer(n.base64.length(i.stringData[c])),0):i.stringData[c].length>=0&&(l.stringData[c]=i.stringData[c])}if(i.int64Data){if(!Array.isArray(i.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");l.int64Data=[];for(var c=0;c<i.int64Data.length;++c)n.Long?(l.int64Data[c]=n.Long.fromValue(i.int64Data[c])).unsigned=!1:typeof i.int64Data[c]=="string"?l.int64Data[c]=parseInt(i.int64Data[c],10):typeof i.int64Data[c]=="number"?l.int64Data[c]=i.int64Data[c]:typeof i.int64Data[c]=="object"&&(l.int64Data[c]=new n.LongBits(i.int64Data[c].low>>>0,i.int64Data[c].high>>>0).toNumber())}if(i.name!=null&&(l.name=String(i.name)),i.docString!=null&&(l.docString=String(i.docString)),i.rawData!=null&&(typeof i.rawData=="string"?n.base64.decode(i.rawData,l.rawData=n.newBuffer(n.base64.length(i.rawData)),0):i.rawData.length>=0&&(l.rawData=i.rawData)),i.externalData){if(!Array.isArray(i.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");l.externalData=[];for(var c=0;c<i.externalData.length;++c){if(typeof i.externalData[c]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");l.externalData[c]=s.onnx.StringStringEntryProto.fromObject(i.externalData[c])}}switch(i.dataLocation){default:if(typeof i.dataLocation=="number"){l.dataLocation=i.dataLocation;break}break;case"DEFAULT":case 0:l.dataLocation=0;break;case"EXTERNAL":case 1:l.dataLocation=1;break}if(i.doubleData){if(!Array.isArray(i.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");l.doubleData=[];for(var c=0;c<i.doubleData.length;++c)l.doubleData[c]=Number(i.doubleData[c])}if(i.uint64Data){if(!Array.isArray(i.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");l.uint64Data=[];for(var c=0;c<i.uint64Data.length;++c)n.Long?(l.uint64Data[c]=n.Long.fromValue(i.uint64Data[c])).unsigned=!0:typeof i.uint64Data[c]=="string"?l.uint64Data[c]=parseInt(i.uint64Data[c],10):typeof i.uint64Data[c]=="number"?l.uint64Data[c]=i.uint64Data[c]:typeof i.uint64Data[c]=="object"&&(l.uint64Data[c]=new n.LongBits(i.uint64Data[c].low>>>0,i.uint64Data[c].high>>>0).toNumber(!0))}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.dims=[],c.floatData=[],c.int32Data=[],c.stringData=[],c.int64Data=[],c.doubleData=[],c.uint64Data=[],c.externalData=[]),l.defaults&&(c.dataType=0,c.segment=null,c.name="",l.bytes===String?c.rawData="":(c.rawData=[],l.bytes!==Array&&(c.rawData=n.newBuffer(c.rawData))),c.docString="",c.dataLocation=l.enums===String?"DEFAULT":0),i.dims&&i.dims.length){c.dims=[];for(var g=0;g<i.dims.length;++g)typeof i.dims[g]=="number"?c.dims[g]=l.longs===String?String(i.dims[g]):i.dims[g]:c.dims[g]=l.longs===String?n.Long.prototype.toString.call(i.dims[g]):l.longs===Number?new n.LongBits(i.dims[g].low>>>0,i.dims[g].high>>>0).toNumber():i.dims[g]}if(i.dataType!=null&&i.hasOwnProperty("dataType")&&(c.dataType=i.dataType),i.segment!=null&&i.hasOwnProperty("segment")&&(c.segment=s.onnx.TensorProto.Segment.toObject(i.segment,l)),i.floatData&&i.floatData.length){c.floatData=[];for(var g=0;g<i.floatData.length;++g)c.floatData[g]=l.json&&!isFinite(i.floatData[g])?String(i.floatData[g]):i.floatData[g]}if(i.int32Data&&i.int32Data.length){c.int32Data=[];for(var g=0;g<i.int32Data.length;++g)c.int32Data[g]=i.int32Data[g]}if(i.stringData&&i.stringData.length){c.stringData=[];for(var g=0;g<i.stringData.length;++g)c.stringData[g]=l.bytes===String?n.base64.encode(i.stringData[g],0,i.stringData[g].length):l.bytes===Array?Array.prototype.slice.call(i.stringData[g]):i.stringData[g]}if(i.int64Data&&i.int64Data.length){c.int64Data=[];for(var g=0;g<i.int64Data.length;++g)typeof i.int64Data[g]=="number"?c.int64Data[g]=l.longs===String?String(i.int64Data[g]):i.int64Data[g]:c.int64Data[g]=l.longs===String?n.Long.prototype.toString.call(i.int64Data[g]):l.longs===Number?new n.LongBits(i.int64Data[g].low>>>0,i.int64Data[g].high>>>0).toNumber():i.int64Data[g]}if(i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.rawData!=null&&i.hasOwnProperty("rawData")&&(c.rawData=l.bytes===String?n.base64.encode(i.rawData,0,i.rawData.length):l.bytes===Array?Array.prototype.slice.call(i.rawData):i.rawData),i.doubleData&&i.doubleData.length){c.doubleData=[];for(var g=0;g<i.doubleData.length;++g)c.doubleData[g]=l.json&&!isFinite(i.doubleData[g])?String(i.doubleData[g]):i.doubleData[g]}if(i.uint64Data&&i.uint64Data.length){c.uint64Data=[];for(var g=0;g<i.uint64Data.length;++g)typeof i.uint64Data[g]=="number"?c.uint64Data[g]=l.longs===String?String(i.uint64Data[g]):i.uint64Data[g]:c.uint64Data[g]=l.longs===String?n.Long.prototype.toString.call(i.uint64Data[g]):l.longs===Number?new n.LongBits(i.uint64Data[g].low>>>0,i.uint64Data[g].high>>>0).toNumber(!0):i.uint64Data[g]}if(i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.externalData&&i.externalData.length){c.externalData=[];for(var g=0;g<i.externalData.length;++g)c.externalData[g]=s.onnx.StringStringEntryProto.toObject(i.externalData[g],l)}return i.dataLocation!=null&&i.hasOwnProperty("dataLocation")&&(c.dataLocation=l.enums===String?s.onnx.TensorProto.DataLocation[i.dataLocation]===void 0?i.dataLocation:s.onnx.TensorProto.DataLocation[i.dataLocation]:i.dataLocation),c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.TensorProto"},h.DataType=function(){var i={},l=Object.create(i);return l[i[0]="UNDEFINED"]=0,l[i[1]="FLOAT"]=1,l[i[2]="UINT8"]=2,l[i[3]="INT8"]=3,l[i[4]="UINT16"]=4,l[i[5]="INT16"]=5,l[i[6]="INT32"]=6,l[i[7]="INT64"]=7,l[i[8]="STRING"]=8,l[i[9]="BOOL"]=9,l[i[10]="FLOAT16"]=10,l[i[11]="DOUBLE"]=11,l[i[12]="UINT32"]=12,l[i[13]="UINT64"]=13,l[i[14]="COMPLEX64"]=14,l[i[15]="COMPLEX128"]=15,l[i[16]="BFLOAT16"]=16,l[i[17]="FLOAT8E4M3FN"]=17,l[i[18]="FLOAT8E4M3FNUZ"]=18,l[i[19]="FLOAT8E5M2"]=19,l[i[20]="FLOAT8E5M2FNUZ"]=20,l}(),h.Segment=function(){function i(l){if(l)for(var c=Object.keys(l),g=0;g<c.length;++g)l[c[g]]!=null&&(this[c[g]]=l[c[g]])}return i.prototype.begin=n.Long?n.Long.fromBits(0,0,!1):0,i.prototype.end=n.Long?n.Long.fromBits(0,0,!1):0,i.create=function(l){return new i(l)},i.encode=function(l,c){return c||(c=a.create()),l.begin!=null&&Object.hasOwnProperty.call(l,"begin")&&c.uint32(8).int64(l.begin),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&c.uint32(16).int64(l.end),c},i.encodeDelimited=function(l,c){return this.encode(l,c).ldelim()},i.decode=function(l,c){l instanceof o||(l=o.create(l));for(var g=c===void 0?l.len:l.pos+c,y=new s.onnx.TensorProto.Segment;l.pos<g;){var S=l.uint32();switch(S>>>3){case 1:{y.begin=l.int64();break}case 2:{y.end=l.int64();break}default:l.skipType(S&7);break}}return y},i.decodeDelimited=function(l){return l instanceof o||(l=new o(l)),this.decode(l,l.uint32())},i.verify=function(l){return typeof l!="object"||l===null?"object expected":l.begin!=null&&l.hasOwnProperty("begin")&&!n.isInteger(l.begin)&&!(l.begin&&n.isInteger(l.begin.low)&&n.isInteger(l.begin.high))?"begin: integer|Long expected":l.end!=null&&l.hasOwnProperty("end")&&!n.isInteger(l.end)&&!(l.end&&n.isInteger(l.end.low)&&n.isInteger(l.end.high))?"end: integer|Long expected":null},i.fromObject=function(l){if(l instanceof s.onnx.TensorProto.Segment)return l;var c=new s.onnx.TensorProto.Segment;return l.begin!=null&&(n.Long?(c.begin=n.Long.fromValue(l.begin)).unsigned=!1:typeof l.begin=="string"?c.begin=parseInt(l.begin,10):typeof l.begin=="number"?c.begin=l.begin:typeof l.begin=="object"&&(c.begin=new n.LongBits(l.begin.low>>>0,l.begin.high>>>0).toNumber())),l.end!=null&&(n.Long?(c.end=n.Long.fromValue(l.end)).unsigned=!1:typeof l.end=="string"?c.end=parseInt(l.end,10):typeof l.end=="number"?c.end=l.end:typeof l.end=="object"&&(c.end=new n.LongBits(l.end.low>>>0,l.end.high>>>0).toNumber())),c},i.toObject=function(l,c){c||(c={});var g={};if(c.defaults){if(n.Long){var y=new n.Long(0,0,!1);g.begin=c.longs===String?y.toString():c.longs===Number?y.toNumber():y}else g.begin=c.longs===String?"0":0;if(n.Long){var y=new n.Long(0,0,!1);g.end=c.longs===String?y.toString():c.longs===Number?y.toNumber():y}else g.end=c.longs===String?"0":0}return l.begin!=null&&l.hasOwnProperty("begin")&&(typeof l.begin=="number"?g.begin=c.longs===String?String(l.begin):l.begin:g.begin=c.longs===String?n.Long.prototype.toString.call(l.begin):c.longs===Number?new n.LongBits(l.begin.low>>>0,l.begin.high>>>0).toNumber():l.begin),l.end!=null&&l.hasOwnProperty("end")&&(typeof l.end=="number"?g.end=c.longs===String?String(l.end):l.end:g.end=c.longs===String?n.Long.prototype.toString.call(l.end):c.longs===Number?new n.LongBits(l.end.low>>>0,l.end.high>>>0).toNumber():l.end),g},i.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},i.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/onnx.TensorProto.Segment"},i}(),h.DataLocation=function(){var i={},l=Object.create(i);return l[i[0]="DEFAULT"]=0,l[i[1]="EXTERNAL"]=1,l}(),h}(),d.SparseTensorProto=function(){function h(i){if(this.dims=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.values=null,h.prototype.indices=null,h.prototype.dims=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.values!=null&&Object.hasOwnProperty.call(i,"values")&&s.onnx.TensorProto.encode(i.values,l.uint32(10).fork()).ldelim(),i.indices!=null&&Object.hasOwnProperty.call(i,"indices")&&s.onnx.TensorProto.encode(i.indices,l.uint32(18).fork()).ldelim(),i.dims!=null&&i.dims.length){l.uint32(26).fork();for(var c=0;c<i.dims.length;++c)l.int64(i.dims[c]);l.ldelim()}return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.SparseTensorProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.values=s.onnx.TensorProto.decode(i,i.uint32());break}case 2:{g.indices=s.onnx.TensorProto.decode(i,i.uint32());break}case 3:{if(g.dims&&g.dims.length||(g.dims=[]),(y&7)===2)for(var S=i.uint32()+i.pos;i.pos<S;)g.dims.push(i.int64());else g.dims.push(i.int64());break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){var l=s.onnx.TensorProto.verify(i.values);if(l)return"values."+l}if(i.indices!=null&&i.hasOwnProperty("indices")){var l=s.onnx.TensorProto.verify(i.indices);if(l)return"indices."+l}if(i.dims!=null&&i.hasOwnProperty("dims")){if(!Array.isArray(i.dims))return"dims: array expected";for(var c=0;c<i.dims.length;++c)if(!n.isInteger(i.dims[c])&&!(i.dims[c]&&n.isInteger(i.dims[c].low)&&n.isInteger(i.dims[c].high)))return"dims: integer|Long[] expected"}return null},h.fromObject=function(i){if(i instanceof s.onnx.SparseTensorProto)return i;var l=new s.onnx.SparseTensorProto;if(i.values!=null){if(typeof i.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");l.values=s.onnx.TensorProto.fromObject(i.values)}if(i.indices!=null){if(typeof i.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");l.indices=s.onnx.TensorProto.fromObject(i.indices)}if(i.dims){if(!Array.isArray(i.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");l.dims=[];for(var c=0;c<i.dims.length;++c)n.Long?(l.dims[c]=n.Long.fromValue(i.dims[c])).unsigned=!1:typeof i.dims[c]=="string"?l.dims[c]=parseInt(i.dims[c],10):typeof i.dims[c]=="number"?l.dims[c]=i.dims[c]:typeof i.dims[c]=="object"&&(l.dims[c]=new n.LongBits(i.dims[c].low>>>0,i.dims[c].high>>>0).toNumber())}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.dims=[]),l.defaults&&(c.values=null,c.indices=null),i.values!=null&&i.hasOwnProperty("values")&&(c.values=s.onnx.TensorProto.toObject(i.values,l)),i.indices!=null&&i.hasOwnProperty("indices")&&(c.indices=s.onnx.TensorProto.toObject(i.indices,l)),i.dims&&i.dims.length){c.dims=[];for(var g=0;g<i.dims.length;++g)typeof i.dims[g]=="number"?c.dims[g]=l.longs===String?String(i.dims[g]):i.dims[g]:c.dims[g]=l.longs===String?n.Long.prototype.toString.call(i.dims[g]):l.longs===Number?new n.LongBits(i.dims[g].low>>>0,i.dims[g].high>>>0).toNumber():i.dims[g]}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.SparseTensorProto"},h}(),d.TensorShapeProto=function(){function h(i){if(this.dim=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.dim=n.emptyArray,h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.dim!=null&&i.dim.length)for(var c=0;c<i.dim.length;++c)s.onnx.TensorShapeProto.Dimension.encode(i.dim[c],l.uint32(10).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.TensorShapeProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.dim&&g.dim.length||(g.dim=[]),g.dim.push(s.onnx.TensorShapeProto.Dimension.decode(i,i.uint32()));break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dim!=null&&i.hasOwnProperty("dim")){if(!Array.isArray(i.dim))return"dim: array expected";for(var l=0;l<i.dim.length;++l){var c=s.onnx.TensorShapeProto.Dimension.verify(i.dim[l]);if(c)return"dim."+c}}return null},h.fromObject=function(i){if(i instanceof s.onnx.TensorShapeProto)return i;var l=new s.onnx.TensorShapeProto;if(i.dim){if(!Array.isArray(i.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");l.dim=[];for(var c=0;c<i.dim.length;++c){if(typeof i.dim[c]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");l.dim[c]=s.onnx.TensorShapeProto.Dimension.fromObject(i.dim[c])}}return l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.dim=[]),i.dim&&i.dim.length){c.dim=[];for(var g=0;g<i.dim.length;++g)c.dim[g]=s.onnx.TensorShapeProto.Dimension.toObject(i.dim[g],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.TensorShapeProto"},h.Dimension=function(){function i(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}i.prototype.dimValue=null,i.prototype.dimParam=null,i.prototype.denotation="";var l;return Object.defineProperty(i.prototype,"value",{get:n.oneOfGetter(l=["dimValue","dimParam"]),set:n.oneOfSetter(l)}),i.create=function(c){return new i(c)},i.encode=function(c,g){return g||(g=a.create()),c.dimValue!=null&&Object.hasOwnProperty.call(c,"dimValue")&&g.uint32(8).int64(c.dimValue),c.dimParam!=null&&Object.hasOwnProperty.call(c,"dimParam")&&g.uint32(18).string(c.dimParam),c.denotation!=null&&Object.hasOwnProperty.call(c,"denotation")&&g.uint32(26).string(c.denotation),g},i.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},i.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TensorShapeProto.Dimension;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.dimValue=c.int64();break}case 2:{S.dimParam=c.string();break}case 3:{S.denotation=c.string();break}default:c.skipType(I&7);break}}return S},i.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},i.verify=function(c){if(typeof c!="object"||c===null)return"object expected";var g={};if(c.dimValue!=null&&c.hasOwnProperty("dimValue")&&(g.value=1,!n.isInteger(c.dimValue)&&!(c.dimValue&&n.isInteger(c.dimValue.low)&&n.isInteger(c.dimValue.high))))return"dimValue: integer|Long expected";if(c.dimParam!=null&&c.hasOwnProperty("dimParam")){if(g.value===1)return"value: multiple values";if(g.value=1,!n.isString(c.dimParam))return"dimParam: string expected"}return c.denotation!=null&&c.hasOwnProperty("denotation")&&!n.isString(c.denotation)?"denotation: string expected":null},i.fromObject=function(c){if(c instanceof s.onnx.TensorShapeProto.Dimension)return c;var g=new s.onnx.TensorShapeProto.Dimension;return c.dimValue!=null&&(n.Long?(g.dimValue=n.Long.fromValue(c.dimValue)).unsigned=!1:typeof c.dimValue=="string"?g.dimValue=parseInt(c.dimValue,10):typeof c.dimValue=="number"?g.dimValue=c.dimValue:typeof c.dimValue=="object"&&(g.dimValue=new n.LongBits(c.dimValue.low>>>0,c.dimValue.high>>>0).toNumber())),c.dimParam!=null&&(g.dimParam=String(c.dimParam)),c.denotation!=null&&(g.denotation=String(c.denotation)),g},i.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.denotation=""),c.dimValue!=null&&c.hasOwnProperty("dimValue")&&(typeof c.dimValue=="number"?y.dimValue=g.longs===String?String(c.dimValue):c.dimValue:y.dimValue=g.longs===String?n.Long.prototype.toString.call(c.dimValue):g.longs===Number?new n.LongBits(c.dimValue.low>>>0,c.dimValue.high>>>0).toNumber():c.dimValue,g.oneofs&&(y.value="dimValue")),c.dimParam!=null&&c.hasOwnProperty("dimParam")&&(y.dimParam=c.dimParam,g.oneofs&&(y.value="dimParam")),c.denotation!=null&&c.hasOwnProperty("denotation")&&(y.denotation=c.denotation),y},i.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},i.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TensorShapeProto.Dimension"},i}(),h}(),d.TypeProto=function(){function h(l){if(l)for(var c=Object.keys(l),g=0;g<c.length;++g)l[c[g]]!=null&&(this[c[g]]=l[c[g]])}h.prototype.tensorType=null,h.prototype.sequenceType=null,h.prototype.mapType=null,h.prototype.optionalType=null,h.prototype.sparseTensorType=null,h.prototype.denotation="";var i;return Object.defineProperty(h.prototype,"value",{get:n.oneOfGetter(i=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:n.oneOfSetter(i)}),h.create=function(l){return new h(l)},h.encode=function(l,c){return c||(c=a.create()),l.tensorType!=null&&Object.hasOwnProperty.call(l,"tensorType")&&s.onnx.TypeProto.Tensor.encode(l.tensorType,c.uint32(10).fork()).ldelim(),l.sequenceType!=null&&Object.hasOwnProperty.call(l,"sequenceType")&&s.onnx.TypeProto.Sequence.encode(l.sequenceType,c.uint32(34).fork()).ldelim(),l.mapType!=null&&Object.hasOwnProperty.call(l,"mapType")&&s.onnx.TypeProto.Map.encode(l.mapType,c.uint32(42).fork()).ldelim(),l.denotation!=null&&Object.hasOwnProperty.call(l,"denotation")&&c.uint32(50).string(l.denotation),l.sparseTensorType!=null&&Object.hasOwnProperty.call(l,"sparseTensorType")&&s.onnx.TypeProto.SparseTensor.encode(l.sparseTensorType,c.uint32(66).fork()).ldelim(),l.optionalType!=null&&Object.hasOwnProperty.call(l,"optionalType")&&s.onnx.TypeProto.Optional.encode(l.optionalType,c.uint32(74).fork()).ldelim(),c},h.encodeDelimited=function(l,c){return this.encode(l,c).ldelim()},h.decode=function(l,c){l instanceof o||(l=o.create(l));for(var g=c===void 0?l.len:l.pos+c,y=new s.onnx.TypeProto;l.pos<g;){var S=l.uint32();switch(S>>>3){case 1:{y.tensorType=s.onnx.TypeProto.Tensor.decode(l,l.uint32());break}case 4:{y.sequenceType=s.onnx.TypeProto.Sequence.decode(l,l.uint32());break}case 5:{y.mapType=s.onnx.TypeProto.Map.decode(l,l.uint32());break}case 9:{y.optionalType=s.onnx.TypeProto.Optional.decode(l,l.uint32());break}case 8:{y.sparseTensorType=s.onnx.TypeProto.SparseTensor.decode(l,l.uint32());break}case 6:{y.denotation=l.string();break}default:l.skipType(S&7);break}}return y},h.decodeDelimited=function(l){return l instanceof o||(l=new o(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";var c={};if(l.tensorType!=null&&l.hasOwnProperty("tensorType")){c.value=1;{var g=s.onnx.TypeProto.Tensor.verify(l.tensorType);if(g)return"tensorType."+g}}if(l.sequenceType!=null&&l.hasOwnProperty("sequenceType")){if(c.value===1)return"value: multiple values";c.value=1;{var g=s.onnx.TypeProto.Sequence.verify(l.sequenceType);if(g)return"sequenceType."+g}}if(l.mapType!=null&&l.hasOwnProperty("mapType")){if(c.value===1)return"value: multiple values";c.value=1;{var g=s.onnx.TypeProto.Map.verify(l.mapType);if(g)return"mapType."+g}}if(l.optionalType!=null&&l.hasOwnProperty("optionalType")){if(c.value===1)return"value: multiple values";c.value=1;{var g=s.onnx.TypeProto.Optional.verify(l.optionalType);if(g)return"optionalType."+g}}if(l.sparseTensorType!=null&&l.hasOwnProperty("sparseTensorType")){if(c.value===1)return"value: multiple values";c.value=1;{var g=s.onnx.TypeProto.SparseTensor.verify(l.sparseTensorType);if(g)return"sparseTensorType."+g}}return l.denotation!=null&&l.hasOwnProperty("denotation")&&!n.isString(l.denotation)?"denotation: string expected":null},h.fromObject=function(l){if(l instanceof s.onnx.TypeProto)return l;var c=new s.onnx.TypeProto;if(l.tensorType!=null){if(typeof l.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");c.tensorType=s.onnx.TypeProto.Tensor.fromObject(l.tensorType)}if(l.sequenceType!=null){if(typeof l.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");c.sequenceType=s.onnx.TypeProto.Sequence.fromObject(l.sequenceType)}if(l.mapType!=null){if(typeof l.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");c.mapType=s.onnx.TypeProto.Map.fromObject(l.mapType)}if(l.optionalType!=null){if(typeof l.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");c.optionalType=s.onnx.TypeProto.Optional.fromObject(l.optionalType)}if(l.sparseTensorType!=null){if(typeof l.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");c.sparseTensorType=s.onnx.TypeProto.SparseTensor.fromObject(l.sparseTensorType)}return l.denotation!=null&&(c.denotation=String(l.denotation)),c},h.toObject=function(l,c){c||(c={});var g={};return c.defaults&&(g.denotation=""),l.tensorType!=null&&l.hasOwnProperty("tensorType")&&(g.tensorType=s.onnx.TypeProto.Tensor.toObject(l.tensorType,c),c.oneofs&&(g.value="tensorType")),l.sequenceType!=null&&l.hasOwnProperty("sequenceType")&&(g.sequenceType=s.onnx.TypeProto.Sequence.toObject(l.sequenceType,c),c.oneofs&&(g.value="sequenceType")),l.mapType!=null&&l.hasOwnProperty("mapType")&&(g.mapType=s.onnx.TypeProto.Map.toObject(l.mapType,c),c.oneofs&&(g.value="mapType")),l.denotation!=null&&l.hasOwnProperty("denotation")&&(g.denotation=l.denotation),l.sparseTensorType!=null&&l.hasOwnProperty("sparseTensorType")&&(g.sparseTensorType=s.onnx.TypeProto.SparseTensor.toObject(l.sparseTensorType,c),c.oneofs&&(g.value="sparseTensorType")),l.optionalType!=null&&l.hasOwnProperty("optionalType")&&(g.optionalType=s.onnx.TypeProto.Optional.toObject(l.optionalType,c),c.oneofs&&(g.value="optionalType")),g},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/onnx.TypeProto"},h.Tensor=function(){function l(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}return l.prototype.elemType=0,l.prototype.shape=null,l.create=function(c){return new l(c)},l.encode=function(c,g){return g||(g=a.create()),c.elemType!=null&&Object.hasOwnProperty.call(c,"elemType")&&g.uint32(8).int32(c.elemType),c.shape!=null&&Object.hasOwnProperty.call(c,"shape")&&s.onnx.TensorShapeProto.encode(c.shape,g.uint32(18).fork()).ldelim(),g},l.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},l.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TypeProto.Tensor;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.elemType=c.int32();break}case 2:{S.shape=s.onnx.TensorShapeProto.decode(c,c.uint32());break}default:c.skipType(I&7);break}}return S},l.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},l.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.elemType!=null&&c.hasOwnProperty("elemType")&&!n.isInteger(c.elemType))return"elemType: integer expected";if(c.shape!=null&&c.hasOwnProperty("shape")){var g=s.onnx.TensorShapeProto.verify(c.shape);if(g)return"shape."+g}return null},l.fromObject=function(c){if(c instanceof s.onnx.TypeProto.Tensor)return c;var g=new s.onnx.TypeProto.Tensor;if(c.elemType!=null&&(g.elemType=c.elemType|0),c.shape!=null){if(typeof c.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");g.shape=s.onnx.TensorShapeProto.fromObject(c.shape)}return g},l.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.elemType=0,y.shape=null),c.elemType!=null&&c.hasOwnProperty("elemType")&&(y.elemType=c.elemType),c.shape!=null&&c.hasOwnProperty("shape")&&(y.shape=s.onnx.TensorShapeProto.toObject(c.shape,g)),y},l.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},l.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TypeProto.Tensor"},l}(),h.Sequence=function(){function l(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}return l.prototype.elemType=null,l.create=function(c){return new l(c)},l.encode=function(c,g){return g||(g=a.create()),c.elemType!=null&&Object.hasOwnProperty.call(c,"elemType")&&s.onnx.TypeProto.encode(c.elemType,g.uint32(10).fork()).ldelim(),g},l.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},l.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TypeProto.Sequence;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.elemType=s.onnx.TypeProto.decode(c,c.uint32());break}default:c.skipType(I&7);break}}return S},l.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},l.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.elemType!=null&&c.hasOwnProperty("elemType")){var g=s.onnx.TypeProto.verify(c.elemType);if(g)return"elemType."+g}return null},l.fromObject=function(c){if(c instanceof s.onnx.TypeProto.Sequence)return c;var g=new s.onnx.TypeProto.Sequence;if(c.elemType!=null){if(typeof c.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");g.elemType=s.onnx.TypeProto.fromObject(c.elemType)}return g},l.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.elemType=null),c.elemType!=null&&c.hasOwnProperty("elemType")&&(y.elemType=s.onnx.TypeProto.toObject(c.elemType,g)),y},l.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},l.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TypeProto.Sequence"},l}(),h.Map=function(){function l(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}return l.prototype.keyType=0,l.prototype.valueType=null,l.create=function(c){return new l(c)},l.encode=function(c,g){return g||(g=a.create()),c.keyType!=null&&Object.hasOwnProperty.call(c,"keyType")&&g.uint32(8).int32(c.keyType),c.valueType!=null&&Object.hasOwnProperty.call(c,"valueType")&&s.onnx.TypeProto.encode(c.valueType,g.uint32(18).fork()).ldelim(),g},l.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},l.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TypeProto.Map;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.keyType=c.int32();break}case 2:{S.valueType=s.onnx.TypeProto.decode(c,c.uint32());break}default:c.skipType(I&7);break}}return S},l.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},l.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.keyType!=null&&c.hasOwnProperty("keyType")&&!n.isInteger(c.keyType))return"keyType: integer expected";if(c.valueType!=null&&c.hasOwnProperty("valueType")){var g=s.onnx.TypeProto.verify(c.valueType);if(g)return"valueType."+g}return null},l.fromObject=function(c){if(c instanceof s.onnx.TypeProto.Map)return c;var g=new s.onnx.TypeProto.Map;if(c.keyType!=null&&(g.keyType=c.keyType|0),c.valueType!=null){if(typeof c.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");g.valueType=s.onnx.TypeProto.fromObject(c.valueType)}return g},l.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.keyType=0,y.valueType=null),c.keyType!=null&&c.hasOwnProperty("keyType")&&(y.keyType=c.keyType),c.valueType!=null&&c.hasOwnProperty("valueType")&&(y.valueType=s.onnx.TypeProto.toObject(c.valueType,g)),y},l.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},l.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TypeProto.Map"},l}(),h.Optional=function(){function l(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}return l.prototype.elemType=null,l.create=function(c){return new l(c)},l.encode=function(c,g){return g||(g=a.create()),c.elemType!=null&&Object.hasOwnProperty.call(c,"elemType")&&s.onnx.TypeProto.encode(c.elemType,g.uint32(10).fork()).ldelim(),g},l.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},l.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TypeProto.Optional;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.elemType=s.onnx.TypeProto.decode(c,c.uint32());break}default:c.skipType(I&7);break}}return S},l.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},l.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.elemType!=null&&c.hasOwnProperty("elemType")){var g=s.onnx.TypeProto.verify(c.elemType);if(g)return"elemType."+g}return null},l.fromObject=function(c){if(c instanceof s.onnx.TypeProto.Optional)return c;var g=new s.onnx.TypeProto.Optional;if(c.elemType!=null){if(typeof c.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");g.elemType=s.onnx.TypeProto.fromObject(c.elemType)}return g},l.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.elemType=null),c.elemType!=null&&c.hasOwnProperty("elemType")&&(y.elemType=s.onnx.TypeProto.toObject(c.elemType,g)),y},l.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},l.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TypeProto.Optional"},l}(),h.SparseTensor=function(){function l(c){if(c)for(var g=Object.keys(c),y=0;y<g.length;++y)c[g[y]]!=null&&(this[g[y]]=c[g[y]])}return l.prototype.elemType=0,l.prototype.shape=null,l.create=function(c){return new l(c)},l.encode=function(c,g){return g||(g=a.create()),c.elemType!=null&&Object.hasOwnProperty.call(c,"elemType")&&g.uint32(8).int32(c.elemType),c.shape!=null&&Object.hasOwnProperty.call(c,"shape")&&s.onnx.TensorShapeProto.encode(c.shape,g.uint32(18).fork()).ldelim(),g},l.encodeDelimited=function(c,g){return this.encode(c,g).ldelim()},l.decode=function(c,g){c instanceof o||(c=o.create(c));for(var y=g===void 0?c.len:c.pos+g,S=new s.onnx.TypeProto.SparseTensor;c.pos<y;){var I=c.uint32();switch(I>>>3){case 1:{S.elemType=c.int32();break}case 2:{S.shape=s.onnx.TensorShapeProto.decode(c,c.uint32());break}default:c.skipType(I&7);break}}return S},l.decodeDelimited=function(c){return c instanceof o||(c=new o(c)),this.decode(c,c.uint32())},l.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.elemType!=null&&c.hasOwnProperty("elemType")&&!n.isInteger(c.elemType))return"elemType: integer expected";if(c.shape!=null&&c.hasOwnProperty("shape")){var g=s.onnx.TensorShapeProto.verify(c.shape);if(g)return"shape."+g}return null},l.fromObject=function(c){if(c instanceof s.onnx.TypeProto.SparseTensor)return c;var g=new s.onnx.TypeProto.SparseTensor;if(c.elemType!=null&&(g.elemType=c.elemType|0),c.shape!=null){if(typeof c.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");g.shape=s.onnx.TensorShapeProto.fromObject(c.shape)}return g},l.toObject=function(c,g){g||(g={});var y={};return g.defaults&&(y.elemType=0,y.shape=null),c.elemType!=null&&c.hasOwnProperty("elemType")&&(y.elemType=c.elemType),c.shape!=null&&c.hasOwnProperty("shape")&&(y.shape=s.onnx.TensorShapeProto.toObject(c.shape,g)),y},l.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},l.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/onnx.TypeProto.SparseTensor"},l}(),h}(),d.OperatorSetIdProto=function(){function h(i){if(i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.domain="",h.prototype.version=n.Long?n.Long.fromBits(0,0,!1):0,h.create=function(i){return new h(i)},h.encode=function(i,l){return l||(l=a.create()),i.domain!=null&&Object.hasOwnProperty.call(i,"domain")&&l.uint32(10).string(i.domain),i.version!=null&&Object.hasOwnProperty.call(i,"version")&&l.uint32(16).int64(i.version),l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.OperatorSetIdProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.domain=i.string();break}case 2:{g.version=i.int64();break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){return typeof i!="object"||i===null?"object expected":i.domain!=null&&i.hasOwnProperty("domain")&&!n.isString(i.domain)?"domain: string expected":i.version!=null&&i.hasOwnProperty("version")&&!n.isInteger(i.version)&&!(i.version&&n.isInteger(i.version.low)&&n.isInteger(i.version.high))?"version: integer|Long expected":null},h.fromObject=function(i){if(i instanceof s.onnx.OperatorSetIdProto)return i;var l=new s.onnx.OperatorSetIdProto;return i.domain!=null&&(l.domain=String(i.domain)),i.version!=null&&(n.Long?(l.version=n.Long.fromValue(i.version)).unsigned=!1:typeof i.version=="string"?l.version=parseInt(i.version,10):typeof i.version=="number"?l.version=i.version:typeof i.version=="object"&&(l.version=new n.LongBits(i.version.low>>>0,i.version.high>>>0).toNumber())),l},h.toObject=function(i,l){l||(l={});var c={};if(l.defaults)if(c.domain="",n.Long){var g=new n.Long(0,0,!1);c.version=l.longs===String?g.toString():l.longs===Number?g.toNumber():g}else c.version=l.longs===String?"0":0;return i.domain!=null&&i.hasOwnProperty("domain")&&(c.domain=i.domain),i.version!=null&&i.hasOwnProperty("version")&&(typeof i.version=="number"?c.version=l.longs===String?String(i.version):i.version:c.version=l.longs===String?n.Long.prototype.toString.call(i.version):l.longs===Number?new n.LongBits(i.version.low>>>0,i.version.high>>>0).toNumber():i.version),c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.OperatorSetIdProto"},h}(),d.OperatorStatus=function(){var h={},i=Object.create(h);return i[h[0]="EXPERIMENTAL"]=0,i[h[1]="STABLE"]=1,i}(),d.FunctionProto=function(){function h(i){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],i)for(var l=Object.keys(i),c=0;c<l.length;++c)i[l[c]]!=null&&(this[l[c]]=i[l[c]])}return h.prototype.name="",h.prototype.input=n.emptyArray,h.prototype.output=n.emptyArray,h.prototype.attribute=n.emptyArray,h.prototype.attributeProto=n.emptyArray,h.prototype.node=n.emptyArray,h.prototype.docString="",h.prototype.opsetImport=n.emptyArray,h.prototype.domain="",h.create=function(i){return new h(i)},h.encode=function(i,l){if(l||(l=a.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&l.uint32(10).string(i.name),i.input!=null&&i.input.length)for(var c=0;c<i.input.length;++c)l.uint32(34).string(i.input[c]);if(i.output!=null&&i.output.length)for(var c=0;c<i.output.length;++c)l.uint32(42).string(i.output[c]);if(i.attribute!=null&&i.attribute.length)for(var c=0;c<i.attribute.length;++c)l.uint32(50).string(i.attribute[c]);if(i.node!=null&&i.node.length)for(var c=0;c<i.node.length;++c)s.onnx.NodeProto.encode(i.node[c],l.uint32(58).fork()).ldelim();if(i.docString!=null&&Object.hasOwnProperty.call(i,"docString")&&l.uint32(66).string(i.docString),i.opsetImport!=null&&i.opsetImport.length)for(var c=0;c<i.opsetImport.length;++c)s.onnx.OperatorSetIdProto.encode(i.opsetImport[c],l.uint32(74).fork()).ldelim();if(i.domain!=null&&Object.hasOwnProperty.call(i,"domain")&&l.uint32(82).string(i.domain),i.attributeProto!=null&&i.attributeProto.length)for(var c=0;c<i.attributeProto.length;++c)s.onnx.AttributeProto.encode(i.attributeProto[c],l.uint32(90).fork()).ldelim();return l},h.encodeDelimited=function(i,l){return this.encode(i,l).ldelim()},h.decode=function(i,l){i instanceof o||(i=o.create(i));for(var c=l===void 0?i.len:i.pos+l,g=new s.onnx.FunctionProto;i.pos<c;){var y=i.uint32();switch(y>>>3){case 1:{g.name=i.string();break}case 4:{g.input&&g.input.length||(g.input=[]),g.input.push(i.string());break}case 5:{g.output&&g.output.length||(g.output=[]),g.output.push(i.string());break}case 6:{g.attribute&&g.attribute.length||(g.attribute=[]),g.attribute.push(i.string());break}case 11:{g.attributeProto&&g.attributeProto.length||(g.attributeProto=[]),g.attributeProto.push(s.onnx.AttributeProto.decode(i,i.uint32()));break}case 7:{g.node&&g.node.length||(g.node=[]),g.node.push(s.onnx.NodeProto.decode(i,i.uint32()));break}case 8:{g.docString=i.string();break}case 9:{g.opsetImport&&g.opsetImport.length||(g.opsetImport=[]),g.opsetImport.push(s.onnx.OperatorSetIdProto.decode(i,i.uint32()));break}case 10:{g.domain=i.string();break}default:i.skipType(y&7);break}}return g},h.decodeDelimited=function(i){return i instanceof o||(i=new o(i)),this.decode(i,i.uint32())},h.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!n.isString(i.name))return"name: string expected";if(i.input!=null&&i.hasOwnProperty("input")){if(!Array.isArray(i.input))return"input: array expected";for(var l=0;l<i.input.length;++l)if(!n.isString(i.input[l]))return"input: string[] expected"}if(i.output!=null&&i.hasOwnProperty("output")){if(!Array.isArray(i.output))return"output: array expected";for(var l=0;l<i.output.length;++l)if(!n.isString(i.output[l]))return"output: string[] expected"}if(i.attribute!=null&&i.hasOwnProperty("attribute")){if(!Array.isArray(i.attribute))return"attribute: array expected";for(var l=0;l<i.attribute.length;++l)if(!n.isString(i.attribute[l]))return"attribute: string[] expected"}if(i.attributeProto!=null&&i.hasOwnProperty("attributeProto")){if(!Array.isArray(i.attributeProto))return"attributeProto: array expected";for(var l=0;l<i.attributeProto.length;++l){var c=s.onnx.AttributeProto.verify(i.attributeProto[l]);if(c)return"attributeProto."+c}}if(i.node!=null&&i.hasOwnProperty("node")){if(!Array.isArray(i.node))return"node: array expected";for(var l=0;l<i.node.length;++l){var c=s.onnx.NodeProto.verify(i.node[l]);if(c)return"node."+c}}if(i.docString!=null&&i.hasOwnProperty("docString")&&!n.isString(i.docString))return"docString: string expected";if(i.opsetImport!=null&&i.hasOwnProperty("opsetImport")){if(!Array.isArray(i.opsetImport))return"opsetImport: array expected";for(var l=0;l<i.opsetImport.length;++l){var c=s.onnx.OperatorSetIdProto.verify(i.opsetImport[l]);if(c)return"opsetImport."+c}}return i.domain!=null&&i.hasOwnProperty("domain")&&!n.isString(i.domain)?"domain: string expected":null},h.fromObject=function(i){if(i instanceof s.onnx.FunctionProto)return i;var l=new s.onnx.FunctionProto;if(i.name!=null&&(l.name=String(i.name)),i.input){if(!Array.isArray(i.input))throw TypeError(".onnx.FunctionProto.input: array expected");l.input=[];for(var c=0;c<i.input.length;++c)l.input[c]=String(i.input[c])}if(i.output){if(!Array.isArray(i.output))throw TypeError(".onnx.FunctionProto.output: array expected");l.output=[];for(var c=0;c<i.output.length;++c)l.output[c]=String(i.output[c])}if(i.attribute){if(!Array.isArray(i.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");l.attribute=[];for(var c=0;c<i.attribute.length;++c)l.attribute[c]=String(i.attribute[c])}if(i.attributeProto){if(!Array.isArray(i.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");l.attributeProto=[];for(var c=0;c<i.attributeProto.length;++c){if(typeof i.attributeProto[c]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");l.attributeProto[c]=s.onnx.AttributeProto.fromObject(i.attributeProto[c])}}if(i.node){if(!Array.isArray(i.node))throw TypeError(".onnx.FunctionProto.node: array expected");l.node=[];for(var c=0;c<i.node.length;++c){if(typeof i.node[c]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");l.node[c]=s.onnx.NodeProto.fromObject(i.node[c])}}if(i.docString!=null&&(l.docString=String(i.docString)),i.opsetImport){if(!Array.isArray(i.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");l.opsetImport=[];for(var c=0;c<i.opsetImport.length;++c){if(typeof i.opsetImport[c]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");l.opsetImport[c]=s.onnx.OperatorSetIdProto.fromObject(i.opsetImport[c])}}return i.domain!=null&&(l.domain=String(i.domain)),l},h.toObject=function(i,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.input=[],c.output=[],c.attribute=[],c.node=[],c.opsetImport=[],c.attributeProto=[]),l.defaults&&(c.name="",c.docString="",c.domain=""),i.name!=null&&i.hasOwnProperty("name")&&(c.name=i.name),i.input&&i.input.length){c.input=[];for(var g=0;g<i.input.length;++g)c.input[g]=i.input[g]}if(i.output&&i.output.length){c.output=[];for(var g=0;g<i.output.length;++g)c.output[g]=i.output[g]}if(i.attribute&&i.attribute.length){c.attribute=[];for(var g=0;g<i.attribute.length;++g)c.attribute[g]=i.attribute[g]}if(i.node&&i.node.length){c.node=[];for(var g=0;g<i.node.length;++g)c.node[g]=s.onnx.NodeProto.toObject(i.node[g],l)}if(i.docString!=null&&i.hasOwnProperty("docString")&&(c.docString=i.docString),i.opsetImport&&i.opsetImport.length){c.opsetImport=[];for(var g=0;g<i.opsetImport.length;++g)c.opsetImport[g]=s.onnx.OperatorSetIdProto.toObject(i.opsetImport[g],l)}if(i.domain!=null&&i.hasOwnProperty("domain")&&(c.domain=i.domain),i.attributeProto&&i.attributeProto.length){c.attributeProto=[];for(var g=0;g<i.attributeProto.length;++g)c.attributeProto[g]=s.onnx.AttributeProto.toObject(i.attributeProto[g],l)}return c},h.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},h.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/onnx.FunctionProto"},h}(),d}(),t.exports=s});function Cr(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function sn(e){return new TextDecoder().decode(e)}var ye,cr,hi,Xe,Xn,Ve,nt,U,an,pr,dr,hr,fe=L(()=>{Wn(),ei(),ye=Er($r()),mr(),cr=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},hi=class{static preprocessInputShapes(e,t){let r=e.length===1?[1,e[0]]:e,o=t.length===1?[t[0],1]:t;return[r,o]}static postprocessOutputShape(e,t,r){t===1&&e.splice(e.length-2,1),r===1&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}},Xe=class Rg{static calcShape(t,r,o=!1){let a=t.length,n=r.length;if(a===0)return r;if(n===0)return t;let s=Math.max(t.length,r.length),d=new Array(s);if(o){if(a<2||n<2)return;let h=hi.calcMatMulShape([t[a-2],t[a-1]],[r[n-2],r[n-1]]);if(h===void 0)return;[d[s-2],d[s-1]]=h}for(let h=o?3:1;h<=s;h++){let i=a-h<0?1:t[a-h],l=n-h<0?1:r[n-h];if(i!==l&&i>1&&l>1)return;d[s-h]=Math.max(i,l)}return d}static index(t,r){let o=new Array(r.length);return Rg.fillIndex(t,r,o),o}static fillIndex(t,r,o){let a=t.length-r.length;for(let n=0;n<r.length;n++)o[n]=t[a+n]%r[n]}static calc(t,r,o,a,n){let s=Rg.calcShape(t.dims,r.dims);if(s){if(a&&!U.areEqual(s,t.dims))return;let d=U.size(s),h=a?t:new Fe(s,n||t.type);if(s.length===0)h.set([],o(t.get([]),r.get([])));else{let i=new Array(s.length),l=new Array(t.dims.length),c=new Array(r.dims.length),g=0,y=0,S=!1,I=!1;t.dims.length===0&&(g=t.get([]),S=!0),r.dims.length===0&&(y=r.get([]),I=!0);let A;for(let H=0;H<d;H++){A=H;for(let N=s.length-1;N>=0;N--)i[N]=A%s[N],A=Math.floor(A/s[N]);S||(Rg.fillIndex(i,t.dims,l),g=t.get(l)),I||(Rg.fillIndex(i,r.dims,c),y=r.get(c)),h.set(i,o(g,y))}}return h}}static isValidBroadcast(t,r){let o=t.length,a=r.length;if(o>a)return!1;for(let n=1;n<=o;n++)if(t[o-n]!==1&&t[o-n]!==r[a-n])return!1;return!0}static getBroadcastDims(t,r){let o=t.length,a=[];for(let n=0;n<o;n++){let s=o-1-n,d=t[s]||1;(r[r.length-1-n]||1)>1&&d===1&&a.unshift(s)}return a}},Xn=class{static getShapeOfGemmResult(e,t,r,o,a){if(e.length!==2||r.length!==2)throw new Error("shape need to be of size 2");let n,s,d;t?(n=e[1],s=e[0]):(n=e[0],s=e[1]);let h=-1;if(o?(d=r[0],h=1):(d=r[1],h=0),r[h]!==s)throw new Error("dimension mismatch");if(n<=0||d<=0||s<=0)throw new Error("invalid shape specified");if(a&&!Xe.isValidBroadcast(a,[n,d]))throw new Error("gemm: invalid bias shape for broadcast");return[n,d,s]}},Ve=class q0{static tensorDataTypeFromProto(t){switch(t){case ye.onnx.TensorProto.DataType.INT8:return"int8";case ye.onnx.TensorProto.DataType.UINT8:return"uint8";case ye.onnx.TensorProto.DataType.BOOL:return"bool";case ye.onnx.TensorProto.DataType.INT16:return"int16";case ye.onnx.TensorProto.DataType.UINT16:return"uint16";case ye.onnx.TensorProto.DataType.INT32:return"int32";case ye.onnx.TensorProto.DataType.UINT32:return"uint32";case ye.onnx.TensorProto.DataType.FLOAT:return"float32";case ye.onnx.TensorProto.DataType.DOUBLE:return"float64";case ye.onnx.TensorProto.DataType.STRING:return"string";case ye.onnx.TensorProto.DataType.INT64:return"int32";case ye.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${ye.onnx.TensorProto.DataType[t]}`)}}static tensorDataTypeStringToEnum(t){switch(t){case"int8":return ye.onnx.TensorProto.DataType.INT8;case"uint8":return ye.onnx.TensorProto.DataType.UINT8;case"bool":return ye.onnx.TensorProto.DataType.BOOL;case"int16":return ye.onnx.TensorProto.DataType.INT16;case"uint16":return ye.onnx.TensorProto.DataType.UINT16;case"int32":return ye.onnx.TensorProto.DataType.INT32;case"uint32":return ye.onnx.TensorProto.DataType.UINT32;case"float32":return ye.onnx.TensorProto.DataType.FLOAT;case"float64":return ye.onnx.TensorProto.DataType.DOUBLE;case"string":return ye.onnx.TensorProto.DataType.STRING;case"int64":return ye.onnx.TensorProto.DataType.INT64;case"uint64":return ye.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${t}`)}}static tensorDimsFromProto(t){return t.map(r=>zt.isLong(r)?r.toNumber():r)}static tensorValueTypeFromProto(t){return{tensorType:q0.tensorDataTypeFromProto(t.elemType),shape:{dims:q0.tensorDimsFromProto(t.shape.dim.map(r=>r.dimValue))}}}static tensorDimsFromORTFormat(t){let r=[];for(let o=0;o<t.dimsLength();o++)r.push(nt.longToNumber(t.dims(o)));return r}static tensorAttributesFromORTFormat(t){let r=[];for(let o=0;o<t.attributesLength();o++)r.push(t.attributes(o));return r}},nt=class{static longToNumber(e,t){return zt.isLong(e)?e.toNumber():e instanceof _.Long?zt.fromValue({low:e.low,high:e.high,unsigned:t??!1}).toNumber():e}static isLong(e){return zt.isLong(e)||e instanceof _.Long}},U=class Wa{static size(t){return Wa.getSizeFromDimensionRange(t,0,t.length)}static sizeFromDimension(t,r){if(r<0||r>t.length)throw new Error(`invalid dimension of ${r} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return Wa.getSizeFromDimensionRange(t,r,t.length)}static sizeToDimension(t,r){if(r<0||r>t.length)throw new Error(`invalid dimension of ${r} for sizeToDimension as Tensor has ${t.length} dimensions.`);return Wa.getSizeFromDimensionRange(t,0,r)}static getSizeFromDimensionRange(t,r,o){let a=1;for(let n=r;n<o;n++){if(t[n]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");a*=t[n]}return a}static computeStrides(t){let r=t.length;if(r===0)return[];if(r===1)return[1];let o=new Array(r);o[r-1]=1,o[r-2]=t[r-1];for(let a=r-3;a>=0;--a)o[a]=o[a+1]*t[a+1];return o}static transpose(t){return t.slice().reverse()}static indicesToOffset(t,r,o){o===void 0&&(o=t.length);let a=0;for(let n=0;n<o;++n)a+=r[n]*t[n];return a}static offsetToIndices(t,r){let o=r.length;if(o===0)return[];if(o===1)return[t*r[0]];let a=new Array(r.length);for(let n=0;n<a.length-1;++n)a[n]=Math.floor(t/r[n]),t-=a[n]*r[n];return a[a.length-1]=t,a}static normalizeAxis(t,r){if(t<-r&&t>=r)throw new Error("unsupported axis for this operation.");return t<0?t+r:t}static normalizeAxes(t,r){return t.map(o=>this.normalizeAxis(o,r))}static incrementIndex(t,r,o){if(r.length===0||t.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(o===void 0)o=r.length;else if(o<=0||o>r.length)throw new Error("Incorrect axis to increment on");for(let a=o-1;a>=0&&(t[a]++,!(t[a]<r[a]));--a)t[a]=0}static calculateReshapedDims(t,r){if(r.length===0){if(t.length===0||Wa.size(t)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let o=r.length,a=new Array(o),n=-1,s=1;for(let h=0;h<o;h++){if(r[h]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(r[h]===-1){if(n!==-1)throw new Error("at most one dimension in shape hints can be -1");n=h}else{if(r[h]===0){if(h>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");a[h]=t[h]}else a[h]=r[h];s*=a[h]}}let d=Wa.size(t);if(n!==-1){if(d%s!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${t}] Output shape: [${r}]`);a[n]=d/s}else if(s!==d)throw new Error("reshapedDims and originalDims don't have matching sizes");return a}static sortBasedOnPerm(t,r){return r?r.map(o=>t[o]):t.slice().reverse()}static padShape(t,r){let o=t.length;return t.map((a,n)=>a+r[n]+r[n+o])}static areEqual(t,r){return t.length!==r.length?!1:t.every((o,a)=>o===r[a])}static validateDimsAndCalcSize(t){if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let r=1;for(let o of t){if(!Number.isInteger(o))throw new TypeError(`Invalid shape: ${o} is not an integer`);if(o<0||o>2147483647)throw new TypeError(`Invalid shape: length ${o} is not allowed`);r*=o}return r}static flattenShape(t,r){r<0&&(r+=t.length);let o=t.reduce((n,s)=>n*s,1),a=t.slice(r).reduce((n,s)=>n*s,1);return[o/a,a]}static squeezeShape(t,r){let o=new Array;r=Wa.normalizeAxes(r,t.length);for(let a=0;a<t.length;a++){let n=r.indexOf(a)>=0;if(n&&t[a]!==1)throw new Error("squeeze an axis of size different than 1");(r.length===0&&t[a]>1||r.length>0&&!n)&&o.push(t[a])}return o}static unsqueezeShape(t,r){let o=new Array(t.length+r.length);o.fill(0);for(let n=0;n<r.length;n++){let s=Wa.normalizeAxis(r[n],o.length);if(s>=o.length)throw new Error("'axes' has an out of range axis");if(o[s]!==0)throw new Error("'axes' has a duplicate axis");o[s]=1}let a=0;for(let n=0;n<o.length;n++)o[n]===0&&(o[n]=t[a++]);if(a!==t.length)throw new Error("the unsqueezed dimension could not be established");return o}},an=class sw{static splitShape(t,r,o,a){if(o.length===0){if(!a)throw new Error("need to know number of outputs when the 'split' attribute is not specified");sw.determineSplit(t[r],a,o)}let n=[],s=[0];for(let d=0;d<o.length;++d){d!==0&&s.push(s[d-1]+o[d-1]);let h=t.slice();h[r]=o[d],n.push(h)}return[n,s]}static determineSplit(t,r,o){if(t%r!==0)throw new Error("cannot split tensor to equal sized parts");for(let a=0;a<r;++a)o.push(t/r)}},pr=class Ng{static adjustPoolAttributes(t,r,o,a,n,s){if(!t&&o.length!==r.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(let d=0;d<r.length-2;d++)d>=o.length?o.push(r[d+2]):o[d]=r[d+2];for(let d=0;d<o.length;d++)if(d<a.length){if(a[d]<0)throw new Error("strides should be greater than or equal to 1")}else a.push(1);for(let d=0;d<o.length;d++)if(d<n.length){if(n[d]<0)throw new Error("dilations should be greater than or equal to 1")}else n.push(1);for(let d=0;d<o.length*2;d++)if(d<s.length){if(s[d]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let d=0;d<o.length;d++){if(o[d]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[d]>=o[d]||s[d+o.length]>=o[d])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,r,o,a,n,s){if(s){if(n.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(r.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(a.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let d=0;d<t.length-2;d++)Ng.adjustPadAndReturnShape(t[d+2],r[d],o[d],a[d],n,d,d+t.length-2,s)}}static computePoolOutputShape(t,r,o,a,n,s,d){if(r.length<=0)throw new Error("input shape must be of size greater than 0");let h=[r[0],r[1]];return Ng.computeShapeHelper(t,r,h,o,a,n,s,d),h}static computeConvOutputShape(t,r,o,a,n,s,d){if(t.length<=0||r.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let h=[t[0],r[0]];return Ng.computeShapeHelper(!1,t,h,o,a,n,s,d),h}static computeShapeHelper(t,r,o,a,n,s,d,h){if(t)for(let i=0;i<r.length-2;i++)o.push(1);else for(let i=0;i<r.length-2;i++)o.push(Ng.adjustPadAndReturnShape(r[i+2],a[i],n[i],s[i],d,i,i+r.length-2,h))}static adjustPadAndReturnShape(t,r,o,a,n,s,d,h){let i=o*(a-1)+1;if(h&&h!=="NOTSET")switch(h){case"VALID":return n[s]=0,n[d]=0,Math.floor((t-i)/r+1);case"SAME_LOWER":case"SAME_UPPER":if(o!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let l=((t+r-1)/r-1)*r+a-t;return n[s]=Math.floor(h==="SAME_LOWER"?(l+1)/2:l/2),n[d]=l-n[s],Math.floor((t+l-a)/r+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((t+n[s]+n[d]-i)/r+1)}},dr=-34028234663852886e22,hr=34028234663852886e22});function Vd(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${e}`)}}function Fu(e){switch(e){case te.onnx.TensorProto.DataType.UINT8:case te.onnx.TensorProto.DataType.INT8:case te.onnx.TensorProto.DataType.BOOL:return 1;case te.onnx.TensorProto.DataType.UINT16:case te.onnx.TensorProto.DataType.INT16:return 2;case te.onnx.TensorProto.DataType.FLOAT:case te.onnx.TensorProto.DataType.INT32:case te.onnx.TensorProto.DataType.UINT32:return 4;case te.onnx.TensorProto.DataType.INT64:case te.onnx.TensorProto.DataType.DOUBLE:case te.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${te.onnx.TensorProto.DataType[e]}`)}}function Wd(e,t){return new(ku(t))(e)}function ku(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function bi(e,t){if(t===te.onnx.TensorProto.DataType.INT64||t===mi.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(t===te.onnx.TensorProto.DataType.UINT32||t===mi.TensorDataType.UINT32||t===te.onnx.TensorProto.DataType.UINT64||t===mi.TensorDataType.UINT64){if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${te.onnx.TensorProto.DataType[t]}`);return e.toNumber()}function $u(e,t,r){switch(t){case te.onnx.TensorProto.DataType.BOOL:case te.onnx.TensorProto.DataType.UINT8:return e.getUint8(r);case te.onnx.TensorProto.DataType.INT8:return e.getInt8(r);case te.onnx.TensorProto.DataType.UINT16:return e.getUint16(r,!0);case te.onnx.TensorProto.DataType.INT16:return e.getInt16(r,!0);case te.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(r,!0);case te.onnx.TensorProto.DataType.INT32:return e.getInt32(r,!0);case te.onnx.TensorProto.DataType.UINT32:return e.getUint32(r,!0);case te.onnx.TensorProto.DataType.INT64:return bi(zt.fromBits(e.getUint32(r,!0),e.getUint32(r+4,!0),!1),t);case te.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(r,!0);case te.onnx.TensorProto.DataType.UINT64:return bi(zt.fromBits(e.getUint32(r,!0),e.getUint32(r+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${te.onnx.TensorProto.DataType[t]}`)}}var Cu,te,mi,Fe,mr=L(()=>{Cu=Er(_s()),ei(),tn(),te=Er($r()),fe(),mi=W.experimental.fbs,Fe=class Uy{constructor(t,r,o,a,n,s=Cu.Guid.create()){this.dims=t,this.type=r,this.dataProvider=o,this.asyncDataProvider=a,this.cache=n,this.dataId=s,this.size=U.validateDimsAndCalcSize(t);let d=this.size,h=o===void 0&&a===void 0&&n===void 0;if(n!==void 0&&n.length!==d)throw new RangeError("Input dims doesn't match data length.");if(r==="string"){if(n!==void 0&&(!Array.isArray(n)||!n.every(i=>typeof i=="string")))throw new TypeError("cache should be a string array");h&&(this.cache=new Array(d))}else{if(n!==void 0){let i=ku(r);if(!(n instanceof i))throw new TypeError(`cache should be type ${i.name}`)}if(h){let i=new ArrayBuffer(d*Vd(r));this.cache=Wd(i,r)}}}get data(){if(this.cache===void 0){let t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(t){return this.data[U.indicesToOffset(t,this.strides)]}set(t,r){this.data[U.indicesToOffset(t,this.strides)]=r}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=U.computeStrides(this.dims)),this._strides}static fromProto(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let r=Ve.tensorDataTypeFromProto(t.dataType),o=Ve.tensorDimsFromProto(t.dims),a=new Uy(o,r);if(r==="string")t.stringData.forEach((n,s)=>{a.data[s]=sn(n)});else if(t.rawData&&typeof t.rawData.byteLength=="number"&&t.rawData.byteLength>0){let n=a.data,s=new DataView(t.rawData.buffer,t.rawData.byteOffset,t.rawData.byteLength),d=Fu(t.dataType),h=t.rawData.byteLength/d;if(t.rawData.byteLength%d!==0)throw new Error("invalid buffer length");if(n.length!==h)throw new Error("buffer length mismatch");for(let i=0;i<h;i++){let l=$u(s,t.dataType,i*d);n[i]=l}}else{let n;switch(t.dataType){case te.onnx.TensorProto.DataType.FLOAT:n=t.floatData;break;case te.onnx.TensorProto.DataType.INT32:case te.onnx.TensorProto.DataType.INT16:case te.onnx.TensorProto.DataType.UINT16:case te.onnx.TensorProto.DataType.INT8:case te.onnx.TensorProto.DataType.UINT8:case te.onnx.TensorProto.DataType.BOOL:n=t.int32Data;break;case te.onnx.TensorProto.DataType.INT64:n=t.int64Data;break;case te.onnx.TensorProto.DataType.DOUBLE:n=t.doubleData;break;case te.onnx.TensorProto.DataType.UINT32:case te.onnx.TensorProto.DataType.UINT64:n=t.uint64Data;break;default:throw new Error("unspecific error")}if(n==null)throw new Error("failed to populate data from a tensorproto value");let s=a.data;if(s.length!==n.length)throw new Error("array length mismatch");for(let d=0;d<n.length;d++){let h=n[d];zt.isLong(h)?s[d]=bi(h,t.dataType):s[d]=h}}return a}static fromData(t,r,o){return new Uy(r,o,void 0,void 0,t)}static fromOrtTensor(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let r=Ve.tensorDimsFromORTFormat(t),o=Ve.tensorDataTypeFromProto(t.dataType()),a=new Uy(r,o);if(o==="string")for(let n=0;n<t.stringDataLength();n++)a.data[n]=t.stringData(n);else if(t.rawDataArray()&&typeof t.rawDataLength()=="number"&&t.rawDataLength()>0){let n=a.data,s=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),d=Fu(t.dataType()),h=t.rawDataLength()/d;if(t.rawDataLength()%d!==0)throw new Error("invalid buffer length");if(n.length!==h)throw new Error("buffer length mismatch");for(let i=0;i<h;i++){let l=$u(s,t.dataType(),i*d);n[i]=l}}return a}}});function q(e){return e===1?Hd:qd}function Bu(e){let t=q(e);return`${t.version}
      precision highp float;
      ${t.attribute} vec3 position;
      ${t.attribute} vec2 textureCoord;

      ${t.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function Nu(e){let t=q(e);return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFrag} vec2 TexCoords;
    ${t.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function Ru(e,t){let r=q(e);return`
  void main() {
    int indices[${t}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${r.output} = result;
  }
  `}var Hd,qd,xe=L(()=>{Hd={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},qd={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}}),ae=L(()=>{});async function gi(e,t=o=>0,r){return new Promise((o,a)=>{let n=0,s=()=>{if(e()){o();return}n++;let d=t(n);if(r!=null&&n>=r){a();return}setTimeout(s,d)};s()})}function Kn(e){return Cr(typeof e<"u"&&e.length!==0,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)}function Mu(e){return Cr(typeof e<"u"&&e.length!==0,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"}function kr(e,t){let r=JSON.parse(JSON.stringify(e));return r=t,r}function Br(e,t){return t.map(r=>e[r]).join(", ")}function Ke(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function St(e=6){return["x","y","z","w","u","v"].slice(0,e)}var Ft=L(()=>{fe()});function jd(e,t){return St(t).map(r=>`${e}.${r}`)}function Nr(e,t){return t===1?[e]:jd(e,t)}function $t(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var br=L(()=>{Ft()});function Xd(e,t,r){if(e===0)return"false";if(e===1)return`rc > ${t[0]}`;let o="";for(let a=e-2;a<e;a++)o+=`${r[a]} >= ${t[a-e+2]}`,a<e-1&&(o+="||");return o}function Kd(e,t){let r=e.length;if(r===0)return"getA(), 0, 0, 0";if(r===1)return`getA(rc),
            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),
            0, 0`;let o="r, c",a="r, cp1",n="rp1, c",s="rp1, cp1",d="";if(r>2)for(let h=0;h<r-2;++h)d=d+`${t[h]},`;return`getA(${d}${o}),
          rEdge ? 0. : getA(${d}${n}),
          cEdge ? 0. : getA(${d}${a}),
          rEdge || cEdge ? 0. : getA(${d}${s})`}function Jd(e,t,r,o){return e===0||e===1?"":`
    int r = ${t[e-2]};
    int c = ${t[e-1]};
    int rp1 = ${t[e-2]} + 1;
    int cp1 = ${t[e-1]} + 1;
    bool rEdge = rp1 >= ${o};
    bool cEdge = cp1 >= ${r};
    `}var Gu,Yd,Uu,zu=L(()=>{xe(),ae(),Ft(),br(),Gu={name:"pack",inputNames:["A"],inputTypes:[1]},Yd=(e,t)=>{let r=q(e.session.backend.glContext.version),o=t.dims,a=o.length,n=t.dims.length,s=Ke(n),d=Nr("rc",n),h=Jd(n,d,o[o.length-2],o[o.length-1]),i;a===0?i=[1,1]:a===1?i=[o[0],1]:i=[o[n-1],o[n-2]];let l=Xd(n,i,d),c=Kd(o,d),g=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${l}) {
            ${r.output} = vec4(0);
          } else {
            ${h}

            ${r.output} = vec4(${c});
          }
        }
      `;return{...Gu,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:2},shaderSource:g}},Uu=(e,t)=>({...Gu,get:()=>Yd(e,t)})});function yi(e){if(e.length===0)return[1,1,1];let t=1;for(let r=0;r<e.length-2;++r)t*=e[r];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]}function Wu(e,t){let r=!1;return e.length===0||t.length===0?r=!0:e.length<2||t.length<2?r=e[e.length-1]===t[t.length-1]:r=e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2],r}function eh(e){let t=U.computeStrides(e),r=["b","r","c"],o="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t.map((a,n)=>{let s=`int ${r[n]} = ${o} / ${a}`,d=n===t.length-1?`int ${r[n+1]} = ${o} - ${r[n]} * ${a}`:`index -= ${r[n]} * ${a}`;return`${s}; ${d};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function th(e){let t=U.computeStrides(e);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;
  }
`}var Zd,Qd,Vu,Hu=L(()=>{fe(),xe(),ae(),br(),Zd=e=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${e}`}),Qd=(e,t,r,o)=>{let a=t.dims,n=o,s="";for(let i=0;i<4;i++){let l="";switch(i){case 0:l="outputCoords = rc;";break;case 1:l="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:l="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:l="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}s+=`
        ${l}
        ${i>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${i}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${i>0?"}":""}
      `}let d=q(e.session.backend.glContext.version),h=`
      ${eh(a)}
      ${th(n)}
      ${$t()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${n[2]};
        int cols = ${n[1]};

        ${s}
        ${d.output} = result;
      }
    `;return{...r,output:{dims:n,type:t.type,textureType:2},shaderSource:h,hasMain:!0}},Vu=(e,t,r)=>{let o=Zd(r);return{...o,get:()=>Qd(e,t,o,r)}}}),Ti,qu=L(()=>{xe(),ae(),Ti=(e,t)=>{let r=t.shape,o=q(e.session.backend.glContext.version),a=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${o.texture2D}(X,TexCoords).r;
      ${o.output} = encodeAsUint8(value);
    }`,n={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:r,type:t.tensor.type,textureType:3},shaderSource:a,hasMain:!0};return e.executeProgram(n,[t.tensor])}});function nh(e,t){if(e===1)return"rc";let r="";for(let o=0;o<e;o++)r+=t[o],o<e-1&&(r+=",");return r}var ju,rh,Yu,Xu=L(()=>{xe(),ae(),Ft(),br(),ju={name:"unpack",inputNames:["A"],inputTypes:[2]},rh=(e,t)=>{let r=t.dims.length,o=Nr("rc",r),a=o.slice(-2),n=Ke(r),s=$t(),d=t.dims.length===0?"":nh(r,o),h=r<=1?"rc":`vec2(${a.join(",")})`,i=q(e.session.backend.glContext.version),l=`
    ${s}
    void main() {
      ${n} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${d});

       ${i.output} = vec4(getChannel(packedInput, ${h}), 0, 0, 0);
     }
   `;return{...ju,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:l}},Yu=(e,t)=>({...ju,get:()=>rh(e,t)})}),Jn,un,Zn,ln=L(()=>{ut(),Jn=class{constructor(e,t=1){if(t===1)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else if(t===4)this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t;else throw new Error(`Invalid number of channels: ${t}`)}encode(e,t){let r,o;return e.constructor!==Float32Array&&(ce.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(e)),t*this.channelSize>e.length?(ce.warning("Encoder","Source data too small. Allocating larger array"),o=e,r=this.allocate(t*this.channelSize),o.forEach((a,n)=>r[n]=a)):(o=e,r=o),r}allocate(e){return new Float32Array(e*4)}decode(e,t){return this.channelSize===1?e.filter((r,o)=>o%4===0).subarray(0,t):e.subarray(0,t)}},un=class{constructor(e,t=1,r){if(t!==1&&t!==4)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=r||e.FLOAT}encode(e,t){let r=e;return this.channelSize===1&&(ce.verbose("Encoder","Exploding into a larger array"),r=this.allocate(t),e.forEach((o,a)=>r[a*4]=o)),r}allocate(e){return new Float32Array(e*4)}decode(e,t){return this.channelSize===1?e.filter((r,o)=>o%4===0).subarray(0,t):e.subarray(0,t)}},Zn=class{constructor(e,t=1){if(this.channelSize=4,t===1)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else if(t===4)this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else throw new Error(`Invalid number of channels: ${t}`)}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error(`Invalid array type: ${e.constructor}`)}}}),fn,Ku,xi,Ju=L(()=>{fe(),ae(),fn=(e,t,r)=>{let o=r===0||r===1?1:4,a=r===2,n=r===1||r===2,s=r===4?t.length-1:void 0,d=r===4?t.map((h,i)=>i===t.length-1?h*4:h):void 0;return xi(e,t,o,d,{isPacked:a,reverseWH:n,breakAxis:s})},Ku=(e,t,r)=>{let o=fn(e,t,r);return[o.width,o.height]},xi=(e,t,r=1,o,a)=>{let n=!!(a&&a.isPacked),[s,d]=e.computeTextureWH(n&&o||t,a),h=t.length,i=t.slice(0);if(h===0&&(i=[1]),r===1)o=t;else if(n){if(r!==4)throw new Error("a packed texture must be 4-channel");o=t,h>0&&(i[h-1]=Math.ceil(i[h-1]/2)),h>1&&(i[h-2]=Math.ceil(i[h-2]/2))}else if(!o)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:d,channels:r,isPacked:n,shape:i,strides:U.computeStrides(i),unpackedShape:o,reversedWH:a&&a.reverseWH}}}),ih,Qn,Qu=L(()=>{ut(),mr(),fe(),zu(),Hu(),qu(),Xu(),ln(),Ju(),ae(),ih=(e,t)=>{let r=t.map(a=>`${a.unpackedShape.join(",")};${a.width}x${a.height}`).join("_"),o=e.name;return e.cacheHint&&(o+="["+e.cacheHint+"]"),o+=":"+r,o},Qn=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return Ku(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");let r=[];for(let h=0;h<e.inputNames.length;++h)r[h]=this.getOrCreateTextureData(t[h],e.inputTypes[h]);let o=ih(e,r),a=this.session.programManager.getArtifact(o),n=a?a.programInfo:typeof e.get=="function"?e.get():e,s=fn(this.session.layoutStrategy,n.output.dims,n.output.textureType),d=this.createTextureData(s,n.output.type);return a||(a=this.session.programManager.build(n,r,d),this.session.programManager.setArtifact(o,a)),this.runProgram(a,r,d),d}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,r){for(let o=0;o<t.length;++o)if(!!t[o].isPacked!=(e.programInfo.inputTypes[o]===2))throw new Error(`input[${o}] property packed inconsistent`);if(!!r.isPacked!=(e.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,r)}getOrCreateTextureData(e,t){let r=this.getTextureData(e.dataId,t===2);if(!r&&(r=this.getTextureData(e.dataId,t!==2),r))return t===2?this.pack(r):this.unpack(r);if(!r){let o=fn(this.session.layoutStrategy,e.dims,t);if(t===4){let a=e.dims;if(a.length===4){let n=[a[0],Math.ceil(a[1]*a[2]*a[3]/4)],s=fn(this.session.layoutStrategy,n,t),d=e.numberData;if(a[1]*a[2]*a[3]%4!==0){let h=a[0],i=a[1]*a[2]*a[3],l=Math.ceil(i*1/4)*4,c=h*l;d=new Float32Array(c);for(let g=0;g<h;++g){let y=g*i,S=g*l+g%1*i;d.set(e.numberData.subarray(y,y+i),S)}}return this.createTextureData(s,e.type,d,e,1)}}if(t===2){let a=xi(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),n=this.createTextureData(a,e.type,e.numberData,e,1);r=this.pack(n)}else r=this.createTextureData(o,e.type,e.numberData,e,1)}return r}createTextureDataFromLayoutBindTensor(e,t,r,o){return this.createTextureData(e,t,r,o,1)}createTextureData(e,t,r,o,a){ce.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);let n=this.session.textureManager.createTextureFromLayout(t,e,r,a);return this.createTextureDataFromTexture(e,t,n,o)}reshapeUnpacked(e,t){let r=this.getOrCreateTextureData(e,0),o={channels:r.channels,height:r.height,width:r.width,shape:t.length!==0?t:[1],strides:U.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(o,e.type,r.texture).tensor}reshapePacked(e,t){let r=this.getOrCreateTextureData(e,2);if(Wu(e.dims,t)){let d={channels:r.channels,height:r.height,width:r.width,shape:t.length!==0?t:[1],strides:U.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(d,e.type,r.texture).tensor}let o=yi(e.dims),a=yi(t),n=this.reshapePacked(e,o),s=this.run(Vu(this,n,a),[n]);return this.reshapePacked(s,t)}cast(e,t){let r=this.getOrCreateTextureData(e,0);return this.createTextureDataFromTexture(r,t,r.texture).tensor}createTextureDataFromTexture(e,t,r,o,a){let n={...e,tensor:o||new Fe(e.unpackedShape,t,s=>this.readTexture(n),async s=>this.readTextureAsync(n),void 0,a),texture:r};return this.setTextureData(n.tensor.dataId,n,e.isPacked),n}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,r=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,r):(r?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(Ti(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(Ti(this,e))}pack(e){return this.executeProgram(Uu(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(Yu(this,e.tensor),[e.tensor])}}}),vi,ee,Ge=L(()=>{vi=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this.key}},ee=e=>new vi(e)}),el,tl,rl,ah,sh,nl=L(()=>{Ge(),xe(),ae(),el={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},tl=(e,t,r)=>(sh(t),[e.run({...el,cacheHint:r.cacheKey,get:()=>ah(e,t,r)},t)]),rl=e=>{let t=e.attributes.getFloat("epsilon",1e-5),r=e.attributes.getFloat("momentum",.9),o=e.attributes.getInt("spatial",1);return ee({epsilon:t,momentum:r,spatial:o})},ah=(e,t,r)=>{let o=q(e.session.backend.glContext.version),a=t[0].dims.length,[n,s]=e.calculateTextureWidthAndHeight(t[1].dims,0),d=`
  float process(int[${a}] indices) {
    vec2 position = offsetToCoords(indices[1], ${n}, ${s});
    float scale = getColorAsFloat(${o.texture2D}(Scale, position));
    float mean = getColorAsFloat(${o.texture2D}(Mean, position));
    float variance = getColorAsFloat(${o.texture2D}(Variance, position));
    float b = getColorAsFloat(${o.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${r.epsilon})) ) + b;
  }`;return{...el,output:{dims:t[0].dims,type:t[0].type,textureType:0},shaderSource:d}},sh=e=>{if(!e||e.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let t=e[0],r=e[1],o=e[2],a=e[3],n=e[4];if(t.dims.length<3||r.dims.length!==1||o.dims.length!==1||a.dims.length!==1||n.dims.length!==1)throw new Error("invalid input shape.");if(r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1]||n.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if(t.type!=="float32"&&t.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||a.type!=="float32"&&a.type!=="float64"||n.type!=="float32"&&n.type!=="float64")throw new Error("invalid input tensor types.")}}),eo,pt,R,cn,to,Vt=L(()=>{eo=class{constructor(e,t,r,o){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=r,this.outputTextureLayout=o}},pt=class{constructor(e){this.context=e}},R=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},cn=class{constructor(e,t,r){this.name=e,r?this.dependencies=r:this.dependencies=[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},to=class{static returnOrderedNodes(e){if(!e||e.length===0)return[];if(e.length===1)return e;let t=new Set,r=new Set,o=new Array;return this.createOrderedNodes(e,t,r,o),o}static createOrderedNodes(e,t,r,o){for(let a=0;a<e.length;++a)this.dfsTraverse(e[a],t,r,o)}static dfsTraverse(e,t,r,o){if(!e||r.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);let a=e.dependencies;if(a&&a.length>0)for(let n=0;n<a.length;++n)this.dfsTraverse(a[n],t,r,o);o.push(e),r.add(e.name),t.delete(e.name)}}});function lh(){let e="add_";return{body:`
  float ${e}(float a, float b) {
    return a + b;
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:e,type:0}}function fh(){let e="div_";return{body:`
  float ${e}(float a, float b) {
    return a / b;
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:e,type:0}}function ch(){let e="mul_";return{body:`
  float ${e}(float a, float b) {
    return a * b;
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:e,type:0}}function ph(){let e="sub_";return{body:`
  float ${e}(float a, float b) {
    return a - b;
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:e,type:0}}function dh(){let e="equal_";return{body:`
  float ${e}(float a, float b) {
    return float(a == b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:e,type:0}}function hh(){let e="greater_";return{body:`
  float ${e}(float a, float b) {
    return float(a > b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:e,type:0}}function mh(){let e="less_";return{body:`
  float ${e}(float a, float b) {
    return float(a < b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:e,type:0}}function bh(){let e="and_";return{body:`
  float ${e}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:e,type:0}}function gh(){let e="or_";return{body:`
  float ${e}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:e,type:0}}function yh(){let e="xor_";return{body:`
  float ${e}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:e,type:0}}function Th(){return vh("pow")}function xh(){let e="prelu_";return{body:`
  float ${e}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:e,type:0}}function vh(e){let t=`${e}_`;return{body:`
  float ${t}(float a, float b) {
    return ${e}(a, b);
  }
  vec4 ${t}(vec4 v1, vec4 v2) {
    return ${e}(v1, v2);
  }
  `,name:t,type:0}}var dt,wh,ol,il,al,sl,ul,ll,fl,cl,pl,dl,hl,ml,bl=L(()=>{fe(),Vt(),xe(),ae(),dt=(e,t,r,o=t[0].type,a)=>{let n=e.session.pack?2:0;return{name:r.name,inputNames:["A","B"],inputTypes:[n,n],cacheHint:a,get:()=>wh(e,t,r,o)}},wh=(e,t,r,o=t[0].type)=>{let a=e.session.pack?2:0,n=!U.areEqual(t[0].dims,t[1].dims),s=t[0].dims,d=e.session.pack;if(n){let l=Xe.calcShape(t[0].dims,t[1].dims,!1);if(!l)throw new Error("Can't perform binary op on the given tensors");s=l;let c=s.length,g=t[0].dims.length!==0?t[0].dims.length:1,y=t[1].dims.length!==0?t[1].dims.length:1,S=t[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",I=t[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",A=q(e.session.backend.glContext.version),H=d?`
      ${r.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${r.name}(a, b);
        ${A.output} = result;
      }`:`
      ${r.body}
      float process(int indices[${c}]) {
        int aindices[${g}];
        int bindices[${y}];
        ${S}
        ${I}
        return ${r.name}(_A(aindices), _B(bindices));
      }`;return{name:r.name,inputNames:["A","B"],inputTypes:[a,a],output:{dims:s,type:o,textureType:a},shaderSource:H,hasMain:d}}let h=q(e.session.backend.glContext.version),i=`
    ${r.body}
    void main() {
      vec4 v1 = ${h.texture2D}(A, TexCoords);
      vec4 v2 = ${h.texture2D}(B, TexCoords);
      vec4 result = ${r.name}(v1, v2);
      ${h.output} = result;
    }
    `;return{name:r.name,inputNames:["A","B"],inputTypes:[a,a],output:{dims:t[0].dims,type:o,textureType:a},shaderSource:i,hasMain:!0}},ol=(e,t)=>[e.run(dt(e,t,lh()),t)],il=(e,t)=>[e.run(dt(e,t,bh(),"bool"),t)],al=(e,t)=>[e.run(dt(e,t,fh()),t)],sl=(e,t)=>[e.run(dt(e,t,dh(),"bool"),t)],ul=(e,t)=>[e.run(dt(e,t,hh(),"bool"),t)],ll=(e,t)=>[e.run(dt(e,t,mh(),"bool"),t)],fl=(e,t)=>[e.run(dt(e,t,ch()),t)],cl=(e,t)=>[e.run(dt(e,t,gh(),"bool"),t)],pl=(e,t)=>[e.run(dt(e,t,Th()),t)],dl=(e,t)=>[e.run(dt(e,t,xh()),t)],hl=(e,t)=>[e.run(dt(e,t,ph()),t)],ml=(e,t)=>[e.run(dt(e,t,yh(),"bool"),t)]}),gl,yl,Oh,Tl=L(()=>{fe(),gl=(e,t,r)=>(Oh(t),[e.cast(t[0],r)]),yl=e=>Ve.tensorDataTypeFromProto(e.attributes.getInt("to")),Oh=e=>{if(!e||e.length!==1)throw new Error("Cast requires 1 input.");if(e[0].type==="string")throw new Error("Invalid input type.")}}),Ih,Sh,xl,ro,vl=L(()=>{xe(),ae(),Ft(),br(),Ih=(e,t)=>({name:"Concat (packed)",inputNames:Array.from({length:e},(r,o)=>`X${o}`),inputTypes:Array(e).fill(2),cacheHint:t}),Sh=(e,t,r,o)=>{let a=r[0].dims.slice();if(o>=a.length||o<-1*a.length)throw new Error("axis specified for concat doesn't match input dimensionality");o<0&&(o=a.length+o);let n=a.slice(0);for(let Ne=1;Ne<r.length;Ne++){let ze=r[Ne].dims.slice();for(let Tt=0;Tt<a.length;Tt++)if(Tt===o)n[o]+=ze[Tt];else if(a[Tt]!==ze[Tt])throw new Error("non concat dimensions must match")}let s=n.length,d=Nr("coords",s),h=Ke(s),i=$t(),l=r.map(Ne=>Ne.dims),c=St(s),g=new Array(l.length-1);g[0]=l[0][o];for(let Ne=1;Ne<g.length;Ne++)g[Ne]=g[Ne-1]+l[Ne][o];let y=c[o],S=c.slice(-2),I=c.join(),A=`if (${y} < ${g[0]}) {
        return getChannel(
            getX0(${I}), vec2(${S.join()}));
        }`;for(let Ne=1;Ne<g.length;Ne++){let ze=g[Ne-1];A+=`
            if (${y} < ${g[Ne]}  && ${y} >= ${g[Ne-1]}) {
              return getChannel(
                getX${Ne}(${ro(c,y,ze)}),
                vec2(${ro(S,y,ze)}));
            }`}let H=g.length,N=g[g.length-1];A+=`
            return getChannel(
              getX${H}(${ro(c,y,N)}),
              vec2(${ro(S,y,N)}));`;let G=q(e.session.backend.glContext.version),pe=`
          ${i}
          float getValue(${c.map(Ne=>"int "+Ne)}) {
            ${A}
          }

          void main() {
            ${h} coords = getOutputCoords();
            int lastDim = coords.${c[s-1]};
            coords.${c[s-1]} = coords.${c[s-2]};
            coords.${c[s-2]} = lastDim;

            vec4 result = vec4(getValue(${d}), 0., 0., 0.);

            ${d[s-1]} = ${d[s-1]} + 1;
            if (${d[s-1]} < ${n[s-1]}) {
              result.g = getValue(${d});
            }

            ${d[s-2]} = ${d[s-2]} + 1;
            if (${d[s-2]} < ${n[s-2]}) {
              result.a = getValue(${d});
            }

            ${d[s-1]} = ${d[s-1]} - 1;
            if (${d[s-2]} < ${n[s-2]} &&
                ${d[s-1]} < ${n[s-1]}) {
              result.b = getValue(${d});
            }
            ${G.output} = result;
          }
        `;return{...t,output:{dims:n,type:r[0].type,textureType:2},shaderSource:pe,hasMain:!0}},xl=(e,t,r)=>{let o=Ih(t.length,r.cacheKey);return{...o,get:()=>Sh(e,o,t,r.axis)}},ro=(e,t,r)=>{let o=e.indexOf(t);return e.map((a,n)=>n===o?`${a} - ${r}`:a).join()}}),wl,Ah,Ph,Eh,_l,Dh,Lh,Fh,Ol,$h,Il=L(()=>{Ge(),ae(),vl(),wl=(e,t,r)=>($h(t),e.session.pack&&t[0].dims.length>1?[e.run(xl(e,t,r),t)]:[e.run(Eh(e,t,r),t)]),Ah=(e,t)=>({name:"Concat",inputNames:Array.from({length:e},(r,o)=>`X${o}`),inputTypes:Array(e).fill(0),cacheHint:t}),Ph=(e,t,r,o)=>{let a=r[0].dims.slice();if(o>=a.length||o<-1*a.length)throw new Error("axis specified for concat doesn't match input dimensionality");o<0&&(o=a.length+o);let n=a.slice(0);for(let y=1;y<r.length;y++){let S=r[y].dims.slice();for(let I=0;I<a.length;I++)if(I===o)n[o]+=S[I];else if(a[I]!==S[I])throw new Error("non concat dimensions must match")}let s=n.length,d=new Array(r.length),h=0;for(let y=0;y<d.length;++y)h+=r[y].dims[o],d[y]=h;let i="";r.length<5?i=_l(d):i=Dh(d);let l=Lh(r.length,s),c=Fh(d),g=`
        ${l}
        ${c}
        ${i}
        float process(int indices[${s}]) {
          int textureIndex = getTextureWhereDataResides (indices[${o}]);

          if(textureIndex != 0) {
            indices[${o}] = indices[${o}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...t,output:{dims:n,type:r[0].type,textureType:0},shaderSource:g}},Eh=(e,t,r)=>{let o=Ah(t.length,r.cacheKey);return{...o,get:()=>Ph(e,o,t,r.axis)}},_l=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((t,r)=>`if(index<${t}) {return ${r};}
`).join("")}
    }`,Dh=e=>_l(e),Lh=(e,t)=>{let r=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let o=0;o<e;++o)o===0?r.push(`	if (textureIndex == ${o}) { return _X${o}(indices); }`):o===e-1?r.push(`	else { return _X${o}(indices); }`):r.push(`	else if (textureIndex == ${o}) { return _X${o}(indices); }`);return r.push("	}"),r.join(`
`)},Fh=e=>{let t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let r=0;r<e.length;++r)r===0?t.push(`	if (index == ${r}) { return ${e[r]}; }`):r===e.length-1?t.push(`	else { return ${e[r]}; }`):t.push(`	else if (index == ${r}) { return ${e[r]}; }`);return t.push("	}"),t.join(`
`)},Ol=e=>ee({axis:e.attributes.getInt("axis")}),$h=e=>{if(!e||e.length<1)throw new Error("too few inputs");let t=e[0].type,r=e[0].dims.length;if(t==="string")throw new Error("string tensor is not supported yet");for(let o of e){if(o.type!==t)throw new Error("input tensors should be one type");if(o.dims.length!==r)throw new Error("input tensors should have the same shape")}}});function Ch(){return ht("abs")}function kh(){return ht("acos")}function Bh(){return ht("asin")}function Nh(){return ht("atan")}function Rh(){return ht("ceil")}function Mh(){return ht("cos")}function Gh(e){let t="elu";return{body:`
  const float alpha = float(${e});

  float ${t}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${t}_(vec4 v) {
    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));
  }
  `,name:t,type:0}}function Uh(){return ht("exp")}function zh(){return ht("floor")}function wi(e,t){let r="clip";return{body:`
  const float min = float(${e});
  const float max = float(${t});

  float ${r}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${r}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:r,type:0}}function Vh(){let e="indentity";return{body:`
  float ${e}_(float a) {
    return a;
  }
  vec4 ${e}_(vec4 v) {
    return v;
  }
  `,name:e,type:0}}function Wh(e){let t="leakyRelu";return{body:`
  const float alpha = float(${e});

  float ${t}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${t}_(vec4 v) {
    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));
  }
  `,name:t,type:0}}function Hh(){return ht("log")}function qh(){let e="neg";return{body:`
  float ${e}_(float a) {
    return -a;
  }
  vec4 ${e}_(vec4 v) {
    return -v;
  }
  `,name:e,type:0}}function jh(){let e="not";return{body:`
  float ${e}_(float a) {
    return float( ! bool(a) );
  }
  bool ${e}_(bool a) {
    return !a;
  }
  vec4 ${e}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${e}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:e,type:0}}function Yh(){return ht("sin")}function _i(){let e="relu";return{body:`
  float ${e}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${e}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:e,type:0}}function Oi(){let e="sigmoid";return{body:`
  float ${e}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${e}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:e,type:0}}function Xh(){return ht("sqrt")}function Kh(){return ht("tan")}function Jh(){let e="tanh";return{body:`
  float ${e}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${e}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:e,type:0}}function ht(e){return{body:`
  float ${e}_(float a) {
    return ${e}(a);
  }
  vec4 ${e}_(vec4 v) {
    return ${e}(v);
  }
  `,name:e,type:0}}var Zh,Pe,Sl,Al,Pl,El,Ii,Dl,Ll,Qh,Fl,$l,Cl,kl,Bl,Nl,Si,Rl,Ml,Gl,Ul,zl,Vl,Wl,Hl,ql,jl,Yl,Ai=L(()=>{Ge(),fe(),Vt(),xe(),ae(),Zh=(e,t,r,o)=>{let a=e.session.pack?2:0,n=q(e.session.backend.glContext.version);return{...t,output:{dims:r.dims,type:r.type,textureType:a},shaderSource:`
     ${o.body}
     void main() {
       vec4 v = ${n.texture2D}(A, TexCoords);
       v = ${o.name}_(v);
       ${n.output} = v;
     }
     `,hasMain:!0}},Pe=(e,t,r,o)=>{let a=e.session.pack?2:0,n={name:r.name,inputTypes:[a],inputNames:["A"],cacheHint:o};return{...n,get:()=>Zh(e,n,t,r)}},Sl=(e,t)=>[e.run(Pe(e,t[0],Ch()),t)],Al=(e,t)=>[e.run(Pe(e,t[0],kh()),t)],Pl=(e,t)=>[e.run(Pe(e,t[0],Bh()),t)],El=(e,t)=>[e.run(Pe(e,t[0],Nh()),t)],Ii=(e,t,r)=>[e.run(Pe(e,t[0],wi(r.min,r.max),r.cacheKey),t)],Dl=e=>ee({min:e.attributes.getFloat("min",dr),max:e.attributes.getFloat("max",hr)}),Ll=(e,t)=>{let r=Qh(e,t);return Ii(e,[t[0]],r)},Qh=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let r=t.length>=3?t[1].numberData[0]:dr,o=t.length>=3?t[2].numberData[0]:hr;return ee({min:r,max:o})},Fl=(e,t)=>[e.run(Pe(e,t[0],Rh()),t)],$l=(e,t)=>[e.run(Pe(e,t[0],Mh()),t)],Cl=(e,t,r)=>[e.run(Pe(e,t[0],Gh(r.alpha),r.cacheKey),t)],kl=e=>ee({alpha:e.attributes.getFloat("alpha",1)}),Bl=(e,t)=>[e.run(Pe(e,t[0],Uh()),t)],Nl=(e,t)=>[e.run(Pe(e,t[0],zh()),t)],Si=(e,t)=>[e.run(Pe(e,t[0],Vh()),t)],Rl=(e,t,r)=>[e.run(Pe(e,t[0],Wh(r.alpha),r.cacheKey),t)],Ml=e=>ee({alpha:e.attributes.getFloat("alpha",.01)}),Gl=(e,t)=>[e.run(Pe(e,t[0],Hh()),t)],Ul=(e,t)=>[e.run(Pe(e,t[0],qh()),t)],zl=(e,t)=>[e.run(Pe(e,t[0],jh()),t)],Vl=(e,t)=>[e.run(Pe(e,t[0],_i()),t)],Wl=(e,t)=>[e.run(Pe(e,t[0],Oi()),t)],Hl=(e,t)=>[e.run(Pe(e,t[0],Yh()),t)],ql=(e,t)=>[e.run(Pe(e,t[0],Xh()),t)],jl=(e,t)=>[e.run(Pe(e,t[0],Kh()),t)],Yl=(e,t)=>[e.run(Pe(e,t[0],Jh()),t)]});function Ct(e){let t;switch(e.activation){case"Relu":t=_i();break;case"Sigmoid":t=Oi();break;case"Clip":t=wi(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let r=t.name,o=t.body,a=`value = ${r}_(value);`;return{activationFunction:o,applyActivation:a}}var Rr,gr=L(()=>{fe(),Ai(),Rr=e=>{let t=e.getString("activation","");if(t==="Clip"){let[r,o]=e.getFloats("activation_params",[dr,hr]);return{activation:t,clipMax:o,clipMin:r,activationCacheKey:`${t}:${r},${o}`}}return{activation:t,activationCacheKey:t}}}),tm,rm,Xl,Kl=L(()=>{ut(),xe(),ae(),no(),gr(),tm=(e,t)=>({name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),rm=(e,t,r,o)=>{let a=t.length>2?"value += getBias(output_channel);":"",n=t[0].dims.slice(),s=t[1].dims.slice(),d=s[0]/o.group;ce.verbose("GroupedConv",`autpPad:${o.autoPad}, dilations:${o.dilations}, group:${o.group}, kernelShape:${o.kernelShape}, pads:${o.pads}, strides:${o.strides}`);let h=Mr(n,s,o.dilations,o.pads,o.strides),i=q(e.session.backend.glContext.version),{activationFunction:l,applyActivation:c}=Ct(o),g=`
  const ivec2 strides = ivec2(${o.strides[0]}, ${o.strides[1]});
  const ivec2 pads = ivec2(${o.pads[0]}, ${o.pads[1]});
  ${l}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${d};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${s[1]}; wInChannel++) {
      int input_channel = group_id * ${s[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${s[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${o.dilations[0]};

        if (xHeight < 0 || xHeight >= ${n[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${s[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${o.dilations[1]};
          if (xWidth < 0 || xWidth >= ${n[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${a}
    ${c}
    ${i.output} = vec4(value, .0, .0, .0);
  }
`;return{...r,output:{dims:h,type:t[0].type,textureType:0},shaderSource:g,hasMain:!0}},Xl=(e,t,r)=>{let o=tm(t.length>2,r.cacheKey);return{...o,get:()=>rm(e,t,o,r)}}}),nm,om,Jl,Zl=L(()=>{xe(),ae(),br(),nm=e=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:e}),om=(e,t,r,o,a,n)=>{let s=r.dims,d=o.dims,h=2,i=3,l=a.length,c=[d[1]*d[2]*d[3],a[2]*a[3]],g=d[2]*d[3],y=$t(),S=q(e.session.backend.glContext.version),I="";for(let H=0;H<=1;H++)for(let N=0;N<=1;N++)I+=`
            blockIndex = rc.x + ${N};
            pos = rc.y + ${H};

            if(blockIndex < ${c[1]} && pos < ${c[0]}) {
              offsetY = int(blockIndex / (${a[l-1]})) * ${n.strides[0]} -
                ${n.pads[0]};
              d0 = offsetY + ${n.dilations[0]} * (imod(pos, ${g}) / ${d[2]});

              if(d0 < ${s[h]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${a[l-1]}) * ${n.strides[1]} -
                  ${n.pads[1]};
                d1 = offsetX + ${n.dilations[1]} * imod(imod(pos, ${g}), ${d[2]});

                if(d1 < ${s[i]} && d1 >= 0) {

                  ch = int(float(pos)/ ${g}.);
                    innerDims = vec2(d0, d1);
                    result[${H*2+N}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;let A=`
      ${y}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${I}
          ${S.output} = result;
      }
            `;return{...t,output:{dims:c,type:r.type,textureType:2},shaderSource:A,hasMain:!0}},Jl=(e,t,r,o,a)=>{let n=nm(a.cacheKey);return{...n,get:()=>om(e,n,t,r,o,a)}}});function am(e,t,r){let o=t[0].dims,a=t[1].dims,n=Xe.calcShape(o,a,!0);if(!n)throw new Error("Can't use matmul on the given tensors");let s=Ke(n.length),d=St(),{activationFunction:h,applyActivation:i}=Ct(r),l=t.length>2,c=l?"value += getBiasForMatmul();":"",g=l?`${Ei(s,d,t[2].dims,n,!1)}`:"",y=n.length,S=o.length,I=a.length,A=o[o.length-1],H=`
    ${h}
    ${g}
    float process(int indices[${y}]) {
        int a[${S}];
        int b[${I}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${A}; ++k) {
            a[${S-1}] = k;
            b[${I-2}] = k;
            value += _A(a) * _B(b);
        }
        ${c}
        ${i}
        return value;
    }`;return{...e,output:{dims:n,type:t[0].type,textureType:0},shaderSource:H}}function Pi(e,t){let r=im(e.length>2,t.activationCacheKey);return{...r,get:()=>am(r,e,t)}}function Ei(e,t,r,o,a){let n="",s=r.length,d=o.length,h=d-s;d<2&&s>0?n="coords":n=r.map((g,y)=>`coords.${t[y+h]}`).join(", ");let i=Xe.getBroadcastDims(r,o).map(g=>`coords.${t[g+h]} = 0;`).join(`
`),l=U.size(r)===1,c="vec4(outputValue.xx, outputValue.yy)";return l&&(c="vec4(outputValue.x)"),a?`
vec4 getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${i}
  vec4 outputValue = getBias(${n});
  return ${c};
}`:`
float getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${i}
  return getBias(coords.x);
}`}var Ql,ef,im,sm,oo=L(()=>{fe(),ae(),Ft(),gr(),Di(),Ql=(e,t,r)=>(sm(t),e.session.pack?[e.run(io(e,t,r),t)]:[e.run(Pi(t,r),t)]),ef=e=>Rr(e.attributes),im=(e,t)=>({name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),sm=e=>{if(!e||e.length!==2)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(e[0].type!=="float32"&&e[0].type!=="float64"||e[1].type!=="float32"&&e[1].type!=="float64")throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")}});function fm(e,t,r,o){let a=[],n=[],s=r[0].dims,d=r[1].dims,h=s.length,i=d.length,l=o.length,c=l-h,g=l-i;a=s.map((N,G)=>`coords.${t[G+c]}`),a[h-1]="i*2",a.join(", "),n=d.map((N,G)=>`coords.${t[G+g]}`),n[i-2]="i*2",n.join(", ");let y=Xe.getBroadcastDims(s,o),S=Xe.getBroadcastDims(d,o),I=y.map(N=>`coords.${t[N+c]} = 0;`).join(`
`),A=S.map(N=>`coords.${t[N+g]} = 0;`).join(`
`),H=`int lastDim = coords.${t[l-1]};
  coords.${t[l-1]} = coords.${t[l-2]};
  coords.${t[l-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${e} coords = getOutputCoords();
  ${H}
  ${I}
  vec4 outputValue = getA(${a});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${e} coords = getOutputCoords();
  ${H}
  ${A}
  vec4 outputValue = getB(${n});
  return outputValue;
}`}function cm(e,t){let r="";for(let o=0;o<t-2;o++)r+=`rc.${e[o]}, `;return r+=`rc.${e[t-2]}, i*2`,r}function pm(e,t){let r="";for(let o=0;o<t-2;o++)r+=`rc.${e[o]}, `;return r+=`i*2, rc.${e[t-1]}`,r}var um,lm,io,Di=L(()=>{fe(),xe(),ae(),Ft(),gr(),oo(),um=(e,t)=>({name:"MatMul (packed)",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[2,2,2]:[2,2],cacheHint:t}),lm=(e,t,r,o)=>{let a=r.length>2,n=a?"value += getBiasForMatmul();":"",s=r[0].dims,d=r[1].dims,h=Xe.calcShape(s,d,!0),i=!U.areEqual(r[0].dims,r[1].dims);if(!h)throw new Error("Can't use matmul on the given tensors");let l=s[s.length-1],c=Math.ceil(l/2),g=s.length,y=d.length,S=q(e.session.backend.glContext.version),I=Ke(h.length),A=h.length,H=St(),{activationFunction:N,applyActivation:G}=Ct(o),pe=a?`${Ei(I,H,r[2].dims,h,!0)}`:"",Ne=i?`${fm(I,H,r,h)}`:"",ze=i?"getAAtOutCoordsMatmul(i)":`getA(${cm(H,g)})`,Tt=i?"getBAtOutCoordsMatmul(i)":`getB(${pm(H,y)})`,yt=i?"":`${I} rc =
          getOutputCoords(); int lastDim = rc.${H[A-1]}; rc.${H[A-1]} =
          rc.${H[A-2]}; rc.${H[A-2]} = lastDim;
      `,Ue=`
            ${Ne}
            ${pe}
            ${N}
            void main() {
              ${yt}

              vec4 value = vec4(0);
              for (int i = 0; i < ${c}; i++) {
                vec4 a = ${ze};
                vec4 b = ${Tt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${n}
              ${G}
              ${S.output} = value;
            }`;return{...t,output:{dims:h,type:r[0].type,textureType:2},shaderSource:Ue,hasMain:!0}},io=(e,t,r)=>{let o=um(t.length>2,r.activationCacheKey);return{...o,get:()=>lm(e,o,t,r)}}}),tf,rf=L(()=>{no(),Zl(),Di(),tf=(e,t,r)=>{let o=t[0].dims,a=t[1].dims,n=Mr(o,a,r.dilations,r.pads,r.strides),s=e.run(Jl(e,t[0],t[1],n,r),[t[0]]),d=e.reshapePacked(t[1],[a[0],a[1]*a[2]*a[3]]),h=t.length===3?[d,s,t[2]]:[d,s],i=e.run(io(e,h,r),h);return e.reshapePacked(i,n)}}),dm,hm,nf,Li,Fi=L(()=>{ae(),dm=e=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:e}),hm=(e,t,r,o,a,n)=>{let s=r.dims,d=o.dims,h=a.length,i=Li(s,d,a,4),l=`
        const int XC = ${s[1]};
        const int XH = ${s[2]};
        const int XW = ${s[3]};
        const int KH = ${n.kernelShape[0]};
        const int KW = ${n.kernelShape[1]};
        const int dilationH = ${n.dilations[0]};
        const int dilationW = ${n.dilations[1]};
        const int strideH = ${n.strides[0]};
        const int strideW = ${n.strides[1]};
        const int padH = ${n.pads[0]};
        const int padW = ${n.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${h}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${s.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...t,output:{dims:i,type:r.type,textureType:4},shaderSource:l}},nf=(e,t,r,o,a)=>{let n=dm(a.cacheKey);return{...n,get:()=>hm(e,n,t,r,o,a)}},Li=(e,t,r,o=4)=>[r[0],r[2],r[3],Math.ceil(e[1]*t[2]*t[3]/o)]}),mm,bm,of,af=L(()=>{fe(),xe(),ae(),gr(),Fi(),mm=(e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[0,4,0]:[0,4],cacheKey:t.activationCacheKey}),bm=(e,t,r,o,a)=>{let n=r[0].dims,s=r[1].dims,d=[s[0],Math.ceil(n[1]*s[2]*s[3]/4)],h=Li(n,s,o),[i,l]=e.calculateTextureWidthAndHeight(d,4),c=U.computeStrides(h),[g,y]=e.calculateTextureWidthAndHeight(h,4),S=o.length,I=r.length<3?"0.0":"_B(b)",A=Math.ceil(n[1]*s[2]*s[3]/4),{activationFunction:H,applyActivation:N}=Ct(a),G=q(e.session.backend.glContext.version),pe=`
${H}
float process(int indices[${S}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${c[0]} + im2col[1] * ${c[1]} + im2col[2] * ${c[2]};
  int kernelOffset = indices[1] * ${d[1]};
  float value = ${I};
  for (int i = 0; i < ${A}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${g}, ${y});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${i}, ${l});
    value += dot(${G.texture2D}(Im2Col, im2colCoords), ${G.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${N}
  return value;
}`;return{...t,output:{dims:o,type:r[0].type,textureType:0},shaderSource:pe}},of=(e,t,r,o)=>{let a=mm(t.length>2,o);return{...a,get:()=>bm(e,a,t,r,o)}}}),Mr,$i,gm,ym,Tm,xm,Ci,vm,no=L(()=>{Ge(),fe(),Kl(),rf(),af(),gr(),Fi(),oo(),Mr=(e,t,r,o,a)=>{let n=e[0],s=e.slice(2),d=s.length,h=t[0],i=t.slice(2).map((c,g)=>c+(c-1)*(r[g]-1)),l=s.map((c,g)=>c+o[g]+o[g+d]).map((c,g)=>Math.floor((c-i[g]+a[g])/a[g]));return[n,h].concat(...l)},$i=(e,t,r)=>(vm(t,r),gm(e,t,r)),gm=(e,t,r)=>{let o=xm(r,t),a=e.session.pack,n=o.kernelShape[0]===1&&o.kernelShape[1]===1;return o.group>1?[e.run(Xl(e,t,o),t)]:n&&a?[ym(e,t,o)]:a&&t[0].dims.length===4&&t[0].dims[0]===1&&!n?[tf(e,t,o)]:[Tm(e,t,o)]},ym=(e,t,r)=>{let o=t[0].dims,a=t[1].dims,n=Mr(o,a,r.dilations,r.pads,r.strides),s=e.reshapeUnpacked(t[0],[o[1],o[2]*o[3]]),d=e.reshapeUnpacked(t[1],[a[0],a[1]]),h=t.length>2?[d,s,t[2]]:[d,s],i=e.run(Pi(h,r),h);return e.reshapeUnpacked(i,n)},Tm=(e,t,r)=>{let o=t[0].dims,a=t[1].dims,n=Mr(o,a,r.dilations,r.pads,r.strides),s=e.run(nf(e,t[0],t[1],n,r),[t[0]]),d=t.length===3?[s,t[1],t[2]]:[s,t[1]];return e.run(of(e,t,n,r),d)},xm=(e,t)=>{let r=e.kernelShape.slice();if(e.kernelShape.length===0)for(let n=2;n<t[1].dims.length;++n)r.push(t[1].dims[n]);let o=e.pads.slice();pr.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,r,o,e.autoPad);let a=Object.assign({},e);return Object.assign(a,{kernelShape:r,pads:o,cacheKey:e.cacheKey}),a},Ci=e=>{let t=e.attributes,r=Rr(t),o=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),n=t.getInt("group",1),s=t.getInts("kernel_shape",[]),d=t.getInts("pads",[0,0,0,0]),h=t.getInts("strides",[1,1]);return ee({autoPad:o,dilations:a,group:n,kernelShape:s,pads:d,strides:h,...r})},vm=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4||e[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let r=e[0].dims[1],o=e[1].dims[1]*t.group;if(r!==o)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(e.length===3&&(e[2].dims.length!==1||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let a=e[0].dims.length-2;if(t.dilations.length!==a)throw new Error(`dilations should be ${a}D`);if(t.strides.length!==a)throw new Error(`strides should be ${a}D`);if(t.pads.length!==a*2)throw new Error(`pads should be ${a*2}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(e[0].type!=="float32"||e[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(e.length===3&&e[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}}),wm,_m,Om,sf,Im,Sm,Am,Pm,Em,Dm,uf,Lm,lf=L(()=>{Ge(),xe(),ae(),gr(),wm=(e,t,r,o,a,n)=>(e-1)*t+r+(o-1)*a+1-n,_m=(e,t,r,o,a)=>{let n=Math.floor(e/2);t==="SAME_UPPER"?(r[o]=n,r[a]=e-n):t==="SAME_LOWER"&&(r[o]=e-n,r[a]=n)},Om=(e,t,r,o,a,n,s,d)=>{let h=e.length-2,i=d.length===0;for(let l=0;l<h;++l){let c=i?e[l+2]*n[l]:d[l],g=wm(e[l+2],n[l],a[l],t[l],r[l],c);_m(g,o,a,l,l+h),i&&d.push(n[l]*(e[l+2]-1)+s[l]+(t[l]-1)*r[l]+1-a[l]-a[l+h])}},sf=(e,t,r)=>(Lm(t,r),Im(e,t,r)),Im=(e,t,r)=>{let o=Dm(r,t);return[Em(e,t,o)]},Sm=(e,t)=>({name:"ConvTranspose",inputNames:e?["X","W","B"]:["X","W"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),Am=(e,t,r,o)=>{let a=t.length>2?"getB(output_channel)":"0.0",n=t[0].dims,s=t[1].dims,d=s[1],h=s[0]/o.group,i=[t[0].dims[0],t[1].dims[1]*o.group,...o.outputShape],l=q(e.session.backend.glContext.version),{activationFunction:c,applyActivation:g}=Ct(o),y=`
  const ivec2 strides = ivec2(${o.strides[0]}, ${o.strides[1]});
  const ivec2 pads = ivec2(${o.pads[0]}, ${o.pads[1]});
  ${c}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${d};
    int wOutChannel = output_channel - group_id * ${d};

    float value = ${a};
    for (int inChannelOffset = 0; inChannelOffset < ${h}; inChannelOffset++) {
      int input_channel = group_id * ${h} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${s[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${s[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${o.dilations[0]}, wHOff * ${o.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${n[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${n[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${g}
    ${l.output} = vec4(value, .0, .0, .0);
  }
`;return{...r,output:{dims:i,type:t[0].type,textureType:0},shaderSource:y,hasMain:!0}},Pm=(e,t,r)=>{let o=Sm(t.length>2,r.cacheKey);return{...o,get:()=>Am(e,t,o,r)}},Em=(e,t,r)=>e.run(Pm(e,t,r),t),Dm=(e,t)=>{let r=e.kernelShape.slice();if(e.kernelShape.length===0)for(let d=2;d<t[1].dims.length;++d)r.push(t[1].dims[d]);let o=e.pads.slice(),a=e.outputShape.slice(),n=t[0].dims;Om(n,r,e.dilations,e.autoPad,o,e.strides,e.outputPadding,a);let s=Object.assign({},e);return Object.assign(s,{kernelShape:r,pads:o,outputShape:a,cacheKey:e.cacheKey}),s},uf=e=>{let t=e.attributes,r=Rr(t),o=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),n=t.getInt("group",1),s=t.getInts("kernel_shape",[]),d=t.getInts("output_padding",[0,0]),h=t.getInts("output_shape",[]),i=t.getInts("pads",[0,0,0,0]),l=t.getInts("strides",[1,1]);return ee({autoPad:o,dilations:a,group:n,kernelShape:s,outputPadding:d,outputShape:h,pads:i,strides:l,...r})},Lm=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4||e[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let r=e[0].dims[1],o=e[1].dims[0];if(r!==o)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let a=e[1].dims[1]*t.group;if(e.length===3&&(e[2].dims.length!==1||e[2].dims[0]!==a))throw new Error("invalid bias");let n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==n*2)throw new Error(`pads should be ${n*2}D`);if(t.outputPadding.length!==n)throw new Error(`output_padding should be ${n}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(t.outputShape.length!==0&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if(e[0].type!=="float32"||e[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(e.length===3&&e[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}}),ff,yr,cf,Fm,pf,$m,Cm,km,ao=L(()=>{Ge(),fe(),ae(),ff={name:"Transpose",inputNames:["A"],inputTypes:[0]},yr=(e,t,r)=>(km(t),[e.run({...ff,cacheHint:r.cacheKey,get:()=>Fm(e,t[0],r.perm)},t)]),cf=e=>ee({perm:e.attributes.getInts("perm",[])}),Fm=(e,t,r)=>{let o=t.dims;r=pf(o,r);let a=$m(o,r),n=o.length,s=`
      ${Cm("perm",r,n)}
      float process(int indices[${n}]) {
        int a[${n}];
        perm(a, indices);
        return _A(a);
      }`;return{...ff,output:{dims:a,type:t.type,textureType:0},shaderSource:s}},pf=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),$m=(e,t)=>(t=pf(e,t),U.sortBasedOnPerm(e,t)),Cm=(e,t,r)=>{let o=[];o.push(`void ${e}(out int a[${r}], int src[${r}]) {`);for(let a=0;a<r;++a)o.push(`	a[${t[a]}]=src[${a}];`);return o.push("	}"),o.join(`
`)},km=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("input should be float tensor")}}),df,hf,Bm,mf=L(()=>{ao(),df=(e,t,r)=>{Bm(t);let o=r.blocksize,a=o*o,n=r.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],s=r.mode==="DCR"?[t[0].dims[0],o,o,t[0].dims[1]/a,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/a,o,o,t[0].dims[2],t[0].dims[3]],d=e.reshapeUnpacked(t[0],s),h={perm:n,cacheKey:`${n}`},[i]=yr(e,[d],h),l=[t[0].dims[0],t[0].dims[1]/a,t[0].dims[2]*o,t[0].dims[3]*o];return[e.reshapeUnpacked(i,l)]},hf=e=>{let t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);let r=e.attributes.getString("mode","DCR");if(r!=="DCR"&&r!=="CRD")throw new Error(`unrecognized mode: ${r} for DepthToSpace`);return{mode:r,blocksize:t}},Bm=e=>{if(e.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${e.length}`);if(e[0].type==="string"||e[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}}),bf,gf,Nm,yf=L(()=>{fe(),bf=(e,t,r)=>{Nm(t,r);let o=U.flattenShape(t[0].dims,r);return[e.reshapeUnpacked(t[0],o)]},gf=e=>e.attributes.getInt("axis",1),Nm=(e,t)=>{if(!e||e.length!==1)throw new Error("Flatten requires 1 input.");let r=e[0].dims.length;if(r===0)throw new Error("scalar tensor is not supported.");if(t<-r||t>r)throw new Error("Invalid axis");if(e[0].type==="string")throw new Error("string tensor is not supported.")}}),Jt,pn=L(()=>{Jt=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]}),Tf,xf,Rm,Mm,Gm,Um,vf=L(()=>{Ge(),pn(),fe(),ae(),Tf=(e,t,r)=>(Um(t,r.axis),[e.run(Gm(e,t,r),t)]),xf=e=>ee({axis:e.attributes.getInt("axis",0)}),Rm={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},Mm=(e,t,r,o)=>{let a=r[0].dims.slice(),n=r[1].dims.slice(),s=new Array(a.length+n.length-1);o=U.normalizeAxis(o,a.length);let d=[];for(let g=0;g<s.length;g++)g<o?(s[g]=a[g],d.push(`inputIdx[${g}] = outputIdx[${g}];`)):g<o+n.length?(s[g]=n[g-o],d.push(`indexDataIdx[${g-o}] = outputIdx[${g}];`)):(s[g]=a[g-n.length+1],d.push(`inputIdx[${g-n.length+1}] = outputIdx[${g}];`));let h=s.length||1,i=a.length,l=n.length||1,c=`
      float process(int outputIdx[${h}]) {
        int inputIdx[${i}];
        int indexDataIdx[${l}];
        indexDataIdx[0] = 0;
        ${d.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${o}] = idx < 0 ? idx + ${a[o]} : idx;
        return _A(inputIdx);
      }`;return{...t,output:{dims:s,type:r[0].type,textureType:0},shaderSource:c}},Gm=(e,t,r)=>{let o={...Rm,cacheHint:r.cacheKey};return{...o,get:()=>Mm(e,o,t,r.axis)}},Um=(e,t)=>{if(!e||e.length!==2)throw new Error("Gather requires 2 inputs.");let r=e[0].dims.length;if(r<1)throw new Error("Invalid input shape.");if(t<-r||t>r-1)throw new Error("Invalid axis.");if(Jt.indexOf(e[0].type)===-1)throw new Error("Invaid input type.");if(e[1].type!=="int32"&&e[1].type!=="int16")throw new Error("Invaid input type.")}}),ki,wf,_f,Of,zm,Vm,Wm,If=L(()=>{Ge(),fe(),ae(),ki=(e,t,r)=>(Wm(t,r),[e.run(zm(t,r),t)]),wf=(e,t)=>{let r=e.attributes.getInt("transA",0)!==0,o=e.attributes.getInt("transB",0)!==0,a=e.attributes.getFloat("alpha",1),n=e.attributes.getFloat("beta",1);return ee({transA:r,transB:o,alpha:a,beta:n,isOptionalC:t})},_f=e=>wf(e,!1),Of=e=>wf(e,!0),zm=(e,t)=>{let r={name:"Gemm",inputNames:e.length===3?["A","B","C"]:["A","B"],inputTypes:e.length===3?[0,0,0]:[0,0],key:t.cacheKey};return{...r,get:()=>Vm(r,e,t)}},Vm=(e,t,r)=>{let o=t[0].dims.slice(),a=t[1].dims.slice(),[n,s]=Xn.getShapeOfGemmResult(o,r.transA,a,r.transB,t.length===3?t[2].dims:void 0),d=[n,s];if(!d)throw new Error("Can't use gemm on the given tensors");let h=o[o.length-1],i="";r.transA&&(h=o[0]),r.transA&&r.transB?i="value += _A_T(a) * _B_T(b);":r.transA&&!r.transB?i="value += _A_T(a) * _B(b);":!r.transA&&r.transB?i="value += _A(a) * _B_T(b);":!r.transA&&!r.transB&&(i="value += _A(a) * _B(b);");let l=d.length,c=t.length===3?`int c[${t[2].dims.length}];`:"",g=t.length===3?"bcastIndices_C(indices, c);":"",y=t.length===3?"value += beta * _C(c);":"",S=`
      float process(int indices[${l}]) {
          int a[${l}];
          int b[${l}];
          ${c}

          copyVec(indices, a);
          copyVec(indices, b);
          ${g}

          float value = 0.0;
          for (int k=0; k<${h}; ++k) {
              a[${l-1}] = k;
              b[${l-2}] = k;
              ${i}
          }

          value = value * alpha;
          ${y}
          return value;
      }`;return{...e,output:{dims:d,type:t[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:r.alpha},{name:"beta",type:"float",data:r.beta}],shaderSource:S}},Wm=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&e.length!==3)throw new Error("Gemm requires 3 inputs");if(e.length===3&&e[2].dims.length!==1&&e[2].dims.length!==2)throw new Error("Invalid input shape of C");if(e[0].type!=="float32"&&e[0].type!=="float64"||e[1].type!=="float32"&&e[1].type!=="float64"||e.length===3&&e[2].type!=="float32"&&e[2].type!=="float64")throw new Error("Invalid input type.");if(e[0].type!==e[1].type||e.length===3&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}}),Sf,Af,Hm,qm,jm,Ym,Xm,Pf=L(()=>{Ge(),ae(),Sf=(e,t,r)=>(Xm(t),[e.run(jm(e,t,r),t)]),Af=e=>{let t=e.attributes.getFloat("scale"),r=e.attributes.getFloats("bias");return ee({scale:t,bias:r})},Hm={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},qm=(e,t,r,o)=>{let a=r[0].dims.slice(),n=a.length,s=`
      ${Ym(o.bias.length)}
      float process(int indices[${n}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...t,output:{dims:a,type:r[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:o.bias.length,data:o.bias},{name:"scale",type:"float",data:o.scale}],shaderSource:s}},jm=(e,t,r)=>{let o={...Hm,cacheHint:r.cacheKey};return{...o,get:()=>qm(e,o,t,r)}},Ym=e=>{let t=[`float getBias(float bias[${e}], int channel) {`];for(let r=0;r<e;++r)r===0?t.push(`	if (channel == ${r}) { return bias[${r}]; }`):r===e-1?t.push(`	else { return bias[${r}]; }`):t.push(`	else if (channel == ${r}) { return bias[${r}]; }`);return t.push("	}"),t.join(`
`)},Xm=e=>{if(!e||e.length!==1)throw new Error("ImageScaler requires 1 input.");if(e[0].dims.length!==4)throw new Error("Invalid input shape.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("Invalid input type.")}}),Df,Lf,Ef,Km,Jm,Zm,Qm,eb,tb,Ff=L(()=>{xe(),ae(),Df=(e,t,r)=>{tb(t);let o=e.run(Jm(t[0]),t);return[e.run(eb(e,t[0],r,o.dims),[t[0],o,t[1],t[2]])]},Lf=e=>e.attributes.getFloat("epsilon",1e-5),Ef={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},Km=(e,t)=>{let r=t.dims.slice(),o=r[1],a=r[2]*r[3],n=[r[0],o],s=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${r[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${r[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${a});
        temp = 0.0;
        for(int a2=0; a2<${r[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${r[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${a});

        return v;
      }`;return{...e,output:{dims:n,type:t.type,textureType:4},shaderSource:s}},Jm=e=>({...Ef,get:()=>Km(Ef,e)}),Zm={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},Qm=(e,t,r,o,a)=>{let n=q(e.session.backend.glContext.version),[s,d]=e.calculateTextureWidthAndHeight(a,4),[h,i]=[s/4,d],l=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${h}, ${i});
        return ${n.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...t,output:{dims:r.dims,type:r.type,textureType:0},variables:[{name:"epsilon",type:"float",data:o}],shaderSource:l}},eb=(e,t,r,o)=>{let a={...Zm,cacheHint:`${r}`};return{...a,get:()=>Qm(e,a,t,r,o)}},tb=e=>{if(!e||e.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let t=e[0],r=e[1],o=e[2];if(t.dims.length<3||r.dims.length!==1||o.dims.length!==1)throw new Error("Invalid input shape.");if(r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if(t.type!=="float32"&&t.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||o.type!=="float32"&&o.type!=="float64")throw new Error("Invalid input type.");if(e[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function rb(e,t){let r=e[0].dims[1],o=e[0].dims.length,a=-Math.floor((t.size-1)/2),n=Math.ceil((t.size-1)/2),s=`float(${t.alpha}) / float(${t.size})`,d=`float(${t.bias})`,h=`float(${t.beta})`,i=`
    float process(int indices[${o}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${a}; i <= ${n}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${r}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${d} + ${s} * square_sum, ${h});
    }`;return{...kf,cacheHint:t.cacheKey,output:{dims:e[0].dims,type:e[0].type,textureType:0},shaderSource:i}}function nb(e,t){return{...kf,cacheHint:t.cacheKey,get:()=>rb(e,t)}}var $f,Cf,kf,ob,Bf=L(()=>{Ge(),ae(),$f=(e,t,r)=>(ob(t),[e.run(nb(t,r),t)]),Cf=e=>{let t=e.attributes.getFloat("alpha",1e-4),r=e.attributes.getFloat("beta",.75),o=e.attributes.getFloat("bias",1),a=e.attributes.getInt("size");return ee({alpha:t,beta:r,bias:o,size:a})},kf={name:"LRN",inputNames:["X"],inputTypes:[0]},ob=e=>{if(!e||e.length!==1)throw new Error("LRN requires 1 input.");if(e[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(e[0].type!=="float32")throw new Error("input should be float type")}}),ib,Bi,Nf,Rf,Mf,ab,sb,ub,lb,fb,cb,pb,db,Gf=L(()=>{Ge(),fe(),xe(),ae(),ib={name:"Pad",inputNames:["A"],inputTypes:[0]},Bi=(e,t,r)=>(ub(t),[e.run({...ib,cacheHint:r.cacheKey,get:()=>sb(e,t[0],r)},t)]),Nf=e=>{let t=e.attributes.getString("mode","constant"),r=e.attributes.getFloat("value",0),o=e.attributes.getInts("pads");return ee({mode:t,value:r,pads:o})},Rf=(e,t,r)=>{lb(t);let o=ab(e,t,r);return Bi(e,[t[0]],o)},Mf=e=>e.attributes.getString("mode","constant"),ab=(e,t,r)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");let o=Array.from(t[1].integerData),a=t.length>=3?t[2].floatData[0]:0;return ee({mode:r,pads:o,value:a})},sb=(e,t,r)=>{let o=U.padShape(t.dims.slice(),r.pads),a=o.length,n=`
      ${fb(e,t,r)}
      float process(int[${a}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:o,type:t.type,textureType:0},shaderSource:n}},ub=e=>{if(!e||e.length!==1)throw new Error("Pad requires 1 input");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("Invalid input type.")},lb=e=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(e[1].type!=="int32")throw new Error("Invalid input type.");if(e.length>=3&&e[2].type==="string")throw new Error("Invalid input type.")},fb=(e,t,r)=>{let o=q(e.session.backend.glContext.version),[a,n]=e.calculateTextureWidthAndHeight(t.dims,0),s=U.computeStrides(t.dims);switch(r.mode){case"constant":return cb(o,t.dims,s,a,n,r.pads,r.value);case"reflect":return pb(o,t.dims,s,a,n,r.pads);case"edge":return db(o,t.dims,s,a,n,r.pads);default:throw new Error("Invalid mode")}},cb=(e,t,r,o,a,n,s)=>{let d=t.length,h="";for(let i=d-1;i>=0;--i)h+=`
        k = m[${i}] - ${n[i]};
        if (k < 0)  return constant;
        if (k >= ${t[i]}) return constant;
        offset += k * ${r[i]};
        `;return`
      float padA(int m[${d}]) {
        const float constant = float(${s});
        int offset = 0;
        int k = 0;
        ${h}
        vec2 coords = offsetToCoords(offset, ${o}, ${a});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `},pb=(e,t,r,o,a,n)=>{let s=t.length,d="";for(let h=s-1;h>=0;--h)d+=`
        k = m[${h}] - ${n[h]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(t[h]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${t[h]}) { k = _2n_1 - k; }
        }
        offset += k * ${r[h]};
        `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${d}
        vec2 coords = offsetToCoords(offset, ${o}, ${a});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `},db=(e,t,r,o,a,n)=>{let s=t.length,d="";for(let h=s-1;h>=0;--h)d+=`
        k = m[${h}] - ${n[h]};
        if (k < 0)  k = 0;
        if (k >= ${t[h]}) k = ${t[h]-1};
        offset += k * ${r[h]};
      `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${d}
        vec2 coords = offsetToCoords(offset, ${o}, ${a});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `}}),zf,Vf,Wf,Hf,qf,jf,Yf,Xf,Kf,hb,Uf,Jf,uo,Zf,so,mb,Qf=L(()=>{Ge(),fe(),ae(),zf=(e,t,r)=>{uo(t);let o={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:r.cacheKey};return[e.run({...o,get:()=>Wf(t,o,!1,r)},t)]},Vf=e=>{let t=e.attributes.getString("auto_pad","NOTSET"),r=e.attributes.getInt("ceil_mode",0),o=e.attributes.getInt("count_include_pad",0)!==0,a=e.attributes.getInts("kernel_shape"),n=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(r!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return ee({autoPad:t,ceilMode:r,countIncludePad:o,kernelShape:a,strides:n,pads:s})},Wf=(e,t,r,o)=>{let[a,n]=Kf(e,o,r),s=U.size(a.kernelShape),d="value += _X(x);",h="";a.countIncludePad?h+=`value /= float(${s});`:h+=`value /= float(${s} - pad);`;let i=`
        ${Zf(e[0].dims,a,d,h,"0.0")}
      `;return{...t,output:{dims:n,type:e[0].type,textureType:0},shaderSource:i}},Hf=(e,t,r)=>{uo(t);let o={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${r.countIncludePad}`};return[e.run({...o,get:()=>Wf(t,o,!0,r)},t)]},qf=e=>{let t=e.attributes.getInt("count_include_pad",0)!==0;return ee({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},jf=(e,t,r)=>{uo(t);let o={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:r.cacheKey};return[e.run({...o,get:()=>Xf(t,o,!1,r)},t)]},Yf=e=>{let t=e.attributes.getString("auto_pad","NOTSET"),r=e.attributes.getInt("ceil_mode",0),o=e.attributes.getInts("kernel_shape"),a=e.attributes.getInts("strides",[]),n=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),d=e.attributes.getInts("dilations",[]);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(r!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return ee({autoPad:t,ceilMode:r,countIncludePad:!1,kernelShape:o,strides:a,pads:n,storageOrder:s,dilations:d})},Xf=(e,t,r,o)=>{let[a,n]=Kf(e,o,r),s=`
      value = max(_X(x), value);
    `,d="",h=`
      ${Zf(e[0].dims,a,s,d,"-1e5")}
    `;return{...t,output:{dims:n,type:e[0].type,textureType:0},shaderSource:h}},Kf=(e,t,r)=>{let o=e[0].dims.slice(),a=Object.hasOwnProperty.call(t,"dilations"),n=t.kernelShape.slice(),s=t.strides.slice(),d=a?t.dilations.slice():[],h=t.pads.slice();pr.adjustPoolAttributes(r,o,n,s,d,h);let i=pr.computePoolOutputShape(r,o,s,d,n,h,t.autoPad),l=Object.assign({},t);return a?Object.assign(l,{kernelShape:n,strides:s,pads:h,dilations:d,cacheKey:t.cacheKey}):Object.assign(l,{kernelShape:n,strides:s,pads:h,cacheKey:t.cacheKey}),[l,i]},hb={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Uf={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},Jf=(e,t)=>(uo(t),[e.run({...Uf,get:()=>Xf(t,Uf,!0,hb)},t)]),uo=e=>{if(!e||e.length!==1)throw new Error("Pool ops requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("Invalid input type.")},Zf=(e,t,r,o,a)=>{let n=e.length;if(t.kernelShape.length<=2){let s=t.kernelShape[t.kernelShape.length-1],d=t.strides[t.strides.length-1],h=t.pads[t.pads.length/2-1],i=t.pads[t.pads.length-1],l=e[n-1],c="",g="",y="";if(h+i!==0?c=`
          for (int i = 0; i < ${s}; i++) {
            x[${n} - 1] = indices[${n} - 1] * ${d} - ${h} + i;
            if (x[${n} - 1] < 0 || x[${n} - 1] >= ${l}) {
              pad++;
              continue;
            }
            ${r}
          }`:c=`
          for (int i = 0; i < ${s}; i++) {
            x[${n} - 1] = indices[${n} - 1] * ${d} - ${h} + i;
            ${r}
          }`,t.kernelShape.length===2){let S=t.kernelShape[t.kernelShape.length-2],I=t.strides[t.strides.length-2],A=t.pads[t.pads.length/2-2],H=t.pads[t.pads.length-2],N=e[n-2];A+H!==0?g=`
            for (int j = 0; j < ${S}; j++) {
              x[${n} - 2] = indices[${n} - 2] * ${I} - ${A} + j;
              if (x[${n} - 2] < 0 || x[${n} - 2] >= ${N}) {
                pad+= ${s};
                continue;
              }
          `:g=`
            for (int j = 0; j < ${S}; j++) {
              x[${n} - 2] = indices[${n} - 2] * ${I} - ${A} + j;
            `,y=`
          }
        `}return`
        float process(int indices[${n}]) {
          int x[${n}];
          copyVec(indices, x);

          float value = ${a};
          int pad = 0;
          ${g}
          ${c}
          ${y}
          ${o}
          return value;
        }
      `}else{let s=U.size(t.kernelShape),d=U.computeStrides(t.kernelShape),h=d.length,i=t.pads.length,l=mb(h),c=so(e,"inputDims"),g=so(t.pads,"pads"),y=so(d,"kernelStrides"),S=so(t.strides,"strides"),I=t.pads.reduce((H,N)=>H+N),A="";return I?A=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${r}
          }`:A=`
          }
          ${r}
        `,`
        ${l}
        float process(int indices[${n}]) {
          int x[${n}];
          copyVec(indices, x);
          int offset[${h}];
          int pads[${i}];
          int inputDims[${n}];
          int kernelStrides[${h}];
          int strides[${h}];
          ${g}
          ${c}
          ${S}
          ${y}

          float value = ${a};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${s}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${n} - ${h}; j < ${n}; j++) {
              x[j] = indices[j] * strides[j - ${n} + ${h}]
                + offset[j - ${n} + ${h}] - pads[j - 2];
              ${A}
          }
          ${o}

          return value;
        }
      `}},so=(e,t)=>{let r="";for(let o=0;o<e.length;o++)r+=`
      ${t}[${o}] = ${e[o]};
    `;return r},mb=e=>`
  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {
    if (${e} == 0) {
      return;
    }
    for (int i = 0; i < ${e} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${e} - 1] = offset;
  }`}),Tr,Zt,bb,gb,ec,tc,rc,nc,oc,ic,ac,sc=L(()=>{Ge(),pn(),fe(),ae(),Tr=(e,t,r,o,a)=>{gb(t);let n={name:o,inputNames:["A"],inputTypes:[0]};return[e.run({...n,cacheHint:r.cacheKey,get:()=>bb(e,t,r,o,a,n)},t)]},Zt=e=>{let t=e.attributes.getInts("axes",[]),r=e.attributes.getInt("keepdims",1)===1;return ee({axes:t,keepDims:r})},bb=(e,t,r,o,a,n)=>{let s=[],d=t[0].dims.length||1,h=[],i=U.normalizeAxes(r.axes,t[0].dims.length),l=a(t,i),c=l[1];for(let y=0;y<t[0].dims.length;y++)i.indexOf(y)>=0||i.length===0?(r.keepDims&&s.push(1),c=`
          for(int j${y} = 0; j${y} < ${t[0].dims[y]}; j${y}++) {
            inputIdx[${y}] = j${y};
            ${c}
          }`):(h.push(`inputIdx[${y}] = outputIdx[${s.length}];`),s.push(t[0].dims[y]));let g=`
      float process(int outputIdx[${s.length||1}]) {
        float value;                 // final result
        int inputIdx[${d}];      // addressing input data
        ${h.join(`
`)}
        ${l[0]}       // init ops for reduce max/min
        ${c}
        ${l[2]}       // final computation for reduce mean
        return value;
      }`;return{...n,output:{dims:s,type:t[0].type,textureType:0},shaderSource:g}},gb=e=>{if(!e||e.length!==1)throw new Error("Reduce op requires 1 input.");if(Jt.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")},ec=(e,t,r)=>Tr(e,t,r,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),tc=(e,t,r)=>Tr(e,t,r,"ReduceMean",(o,a)=>{let n=1;for(let s=0;s<o[0].dims.length;s++)(a.indexOf(s)>=0||a.length===0)&&(n*=o[0].dims[s]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${n}.;`]}),rc=(e,t,r)=>Tr(e,t,r,"ReduceMax",(o,a)=>{let n=[];for(let s=0;s<o[0].dims.length;s++)(a.indexOf(s)>=0||a.length===0)&&n.push(`inputIdx[${s}] = 0;`);return[`${n.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),nc=(e,t,r)=>Tr(e,t,r,"ReduceMin",(o,a)=>{let n=[];for(let s=0;s<o[0].dims.length;s++)(a.indexOf(s)>=0||a.length===0)&&n.push(`inputIdx[${s}] = 0;`);return[`${n.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),oc=(e,t,r)=>Tr(e,t,r,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),ic=(e,t,r)=>Tr(e,t,r,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),ac=(e,t,r)=>Tr(e,t,r,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])}),uc,lc=L(()=>{fe(),uc=(e,t)=>{let r=U.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],r)]:[e.reshapeUnpacked(t[0],r)]}}),fc,Ni,cc,pc,dn,yb,Ri,lo,Mi=L(()=>{Ge(),xe(),ae(),fc={name:"Upsample",inputNames:["X"],inputTypes:[0]},Ni=(e,t,r)=>(Ri(t,r),[e.run({...fc,cacheHint:r.cacheKey,get:()=>yb(e,t,r)},t)]),cc=e=>dn(e,7),pc=e=>dn(e,9),dn=(e,t)=>{let r=t>=10,o=e.attributes.getString("mode","nearest");if(o!=="nearest"&&o!=="linear"&&(t<11||o!=="cubic"))throw new Error(`unrecognized mode: ${o}`);let a=[];t<9&&(a=e.attributes.getFloats("scales"),lo(a,o,r));let n=e.attributes.getFloat("extrapolation_value",0),s=t>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode '${s}' is not supported`);let d=s==="tf_crop_and_resize",h=d,i=o==="nearest"&&t>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(i)===-1)throw new Error(`nearest_mode '${i}' is not supported`);let l=e.attributes.getFloat("cubic_coeff_a",-.75),c=e.attributes.getInt("exclude_outside",0)!==0;if(c&&o!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let g=t<11?!0:o==="nearest"&&s==="asymmetric"&&i==="floor",y=0,S=0,I=0;return t>10?e.inputs.length>2?(y=1,S=2,I=3):(S=1,I=2):t===9&&(S=1),ee({opset:t,isResize:r,mode:o,scales:a,extrapolationValue:n,coordinateTransformMode:s,useExtrapolation:h,needRoiInput:d,nearestMode:i,cubicCoefficientA:l,excludeOutside:c,useNearest2xOptimization:g,roiInputIdx:y,scalesInputIdx:S,sizesInputIdx:I})},yb=(e,t,r)=>{let o=q(e.session.backend.glContext.version),[a,n]=e.calculateTextureWidthAndHeight(t[0].dims,0),s=t[0].dims.map((I,A)=>Math.floor(I*r.scales[A])),[d,h]=e.calculateTextureWidthAndHeight(s,0),i=s.length,l=new Array(i),c=new Array(i),g=`
      int output_pitches[${i}];
      int input_pitches[${i}];
      `;for(let I=i-1;I>=0;I--)l[I]=I===i-1?1:l[I+1]*s[I+1],c[I]=I===i-1?1:c[I+1]*t[0].dims[I+1],g+=`
        output_pitches[${I}] = ${l[I]};
        input_pitches[${I}] = ${c[I]};
        `;let y=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${a}, ${n});
        float value = getColorAsFloat(${o.texture2D}(X, coords));
        return value;
      }
      `,S=r.mode==="nearest"?`
    ${y}
    float process(int indices[${i}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${d}, ${h});

      ${g}

      int d, m;
      for (int dim = 0; dim < ${i}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:i===4?`
    ${y}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${d}, ${h});

      ${g}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${y}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${d}, ${h});

      ${g}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...fc,output:{dims:s,type:t[0].type,textureType:0},shaderSource:S,variables:[{name:"scales",type:"int",arrayLength:r.scales.length,data:r.scales.map(I=>Math.ceil(I))}]}},Ri=(e,t)=>{if(!e||t.opset<9&&e.length!==1||t.opset>=9&&t.opset<11&&e.length!==2||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if(e[0].type==="string")throw new Error("Invalid input tensor types.")},lo=(e,t,r)=>{if(r){for(let o of e)if(o<=0)throw new Error("Scale value should be greater than 0.")}else for(let o of e)if(o<1)throw new Error("Scale value should be greater than or equal to 1.");if((t==="linear"||t==="cubic")&&e.length!==2&&(e.length!==4||e[0]!==1||e[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${r?"Resize":"Upsample"} opeartor.`)}}),Gi,Ui,dc,hc,Tb,xb,vb,wb,mc=L(()=>{xe(),ae(),Ft(),br(),Mi(),Gi={name:"Resize",inputNames:["A"],inputTypes:[2]},Ui=(e,t,r)=>(Ri(t,r),[e.run({...Gi,cacheHint:r.cacheKey,get:()=>Tb(e,t,r)},t)]),dc=e=>dn(e,10),hc=e=>dn(e,11),Tb=(e,t,r)=>{let o=q(e.session.backend.glContext.version),[a,n]=xb(t,r);if(a.every(N=>N===1)&&r.coordinateTransformMode!=="tf_crop_and_resize")return{...Gi,output:{dims:n,type:t[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${o.texture2D}(X, TexCoords);
                    ${o.output} = v;
                }`};let s=n.length;if(s<2)throw new Error(`output dimension should be at least 2, but got ${s}`);let d=n[s-2],h=n[s-1],i=t[0].dims;if(s!==i.length)throw new Error(`output dimension should match input ${i.length}, but got ${s}`);let l=i[s-2],c=i[s-1],g=a[s-2],y=a[s-1],S="";if(r.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${r.mode}'`);switch(r.coordinateTransformMode){case"asymmetric":S=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":S=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":S=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${h}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${d}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${h}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${d}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":S=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${h}.0 - 1.0, ${d}.0 - 1.0, ${h}.0 - 1.0,
                            ${d}.0 - 1.0);
                        vec4 original = vec4(${c}.0 - 1.0, ${l}.0 - 1.0, ${c}.0 - 1.0,
                            ${l}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${r.coordinateTransformMode}'`)}let I=Ke(s),A=$t(),H=`
            const vec2 inputWH = vec2(${l}.0, ${c}.0);
            const vec4 scaleWHWH = vec4(float(${g}), float(${y}), float(${g}), float(${y}));
            ${A}
            ${S}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${I} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${d-1};
                bool hasNextCol = rc.z < ${h-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${o.output} = vec4(newValue);
            }
        `;return{...Gi,output:{dims:n,type:t[0].type,textureType:2},hasMain:!0,shaderSource:H}},xb=(e,t)=>{let r=e[0].dims,o=t.scales,a;if(o.length===0){let s=e[t.scalesInputIdx];if(s&&s.size!==0){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=vb(s,t.mode,t.isResize)}else{let d=e[t.sizesInputIdx];if(!d||d.size===0)throw new Error("Either scales or sizes MUST be provided as input.");a=Array.from(d.integerData),o=wb(a,r,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let n=a||r.map((s,d)=>Math.floor(s*o[d]));return[o,n]},vb=(e,t,r)=>{let o=Array.from(e.floatData);return lo(o,t,r),o},wb=(e,t,r,o)=>{let a=t.length,n=new Array(a);for(let s=0,d=a;s<d;s++)if(t[s]===0){if(e[s]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");n[s]=1}else n[s]=e[s]/t[s];return lo(n,r,o),n}}),bc,_b,gc=L(()=>{mr(),bc=(e,t)=>(_b(t),[new Fe([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]),_b=e=>{if(!e||e.length!==1)throw new Error("Shape requires 1 input.")}}),zi,yc,Tc,xc,Ob,vc,Ib,Sb,wc=L(()=>{Ge(),pn(),fe(),ae(),zi={name:"Slice",inputNames:["A"],inputTypes:[0]},yc=(e,t,r)=>(Ob(t),[e.run({...zi,cacheHint:r.cacheKey,get:()=>xc(e,t[0],r)},t)]),Tc=e=>{let t=e.attributes.getInts("starts"),r=e.attributes.getInts("ends"),o=e.attributes.getInts("axes",[]);return ee({starts:t,ends:r,axes:o})},xc=(e,t,r)=>{let o=r.axes.length===0?t.dims.slice(0).map((l,c)=>c):r.axes,a=U.normalizeAxes(o,t.dims.length),n=r.starts.map((l,c)=>l>t.dims[a[c]]-1?t.dims[a[c]]:U.normalizeAxis(l,t.dims[a[c]])),s=r.ends.map((l,c)=>l>t.dims[a[c]]-1?t.dims[a[c]]:U.normalizeAxis(l,t.dims[a[c]])),d=t.dims.slice(),h=[];for(let l=0;l<a.length;l++)d[a[l]]=s[l]-n[l],n[l]>0&&h.push(`outputIdx[${a[l]}] += ${n[l]};`);let i=`
      float process(int outputIdx[${d.length}]) {
        ${h.join(`
      `)}
        return _A(outputIdx);
      }`;return{...zi,output:{dims:d,type:t.type,textureType:0},shaderSource:i}},Ob=e=>{if(!e||e.length!==1)throw new Error("Slice requires 1 input.");if(Jt.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")},vc=(e,t)=>{Sb(t);let r=Ib(e,t);return[e.run({...zi,cacheHint:r.cacheKey,get:()=>xc(e,t[0],r)},[t[0]])]},Ib=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(s=>s!==1))throw new Error("currently non-1 steps is not supported for Slice");let r=Array.from(t[1].integerData),o=Array.from(t[2].integerData),a=t.length>=4?Array.from(t[3].integerData):[],n=`${a};${r};${o}`;return{starts:r,ends:o,axes:a,cacheKey:n}},Sb=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if(e[1].type!=="int32"||e[1].dims.length!==1)throw new Error("Invalid input type.");if(e[2].type!=="int32"||e[2].dims.length!==1)throw new Error("Invalid input type.");if(e.length>=4&&(e[3].type!=="int32"||e[3].dims.length!==1))throw new Error("Invalid input type.");if(e.length>=5&&(e[4].type!=="int32"||e[4].dims.length!==1))throw new Error("Invalid input type.")}}),_c,Oc,Ic,Sc,Ac,Pc,Ec,Dc,Ab,Pb,Eb,Lc,Fc=L(()=>{Ge(),fe(),xe(),ae(),ao(),_c={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},Oc={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},Ic={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},Sc=(e,t,r)=>{Lc(t);let o=t[0].dims.slice(),a=U.normalizeAxis(r.axis,o.length),n=U.sizeToDimension(o,a),s=U.sizeFromDimension(o,a);return Dc(e,t,r,n,s)},Ac=e=>ee({axis:e.attributes.getInt("axis",1)}),Pc=e=>ee({axis:e.attributes.getInt("axis",-1)}),Ec=(e,t,r)=>{Lc(t);let o=t[0].dims.slice(),a=U.normalizeAxis(r.axis,o.length),n=o.length,s=a!==n-1,d=[],h=[],i=[],l;s&&(h=Array.from({length:n}).map((S,I)=>I),h[a]=n-1,h[n-1]=a,h.map(S=>d.push(o[S])),l=ee({perm:h}),i=yr(e,t,l));let c=s?U.sizeToDimension(d,n-1):U.sizeToDimension(o,n-1),g=s?U.sizeFromDimension(d,n-1):U.sizeFromDimension(o,n-1),y=Dc(e,s?i:t,r,c,g);return s?yr(e,y,l):y},Dc=(e,t,r,o,a)=>{let n=Ab(e,t[0],o,a,[o]),s=e.run({..._c,cacheHint:r.cacheKey,get:()=>n},t),d=Pb(e,t[0],o,a,n.output.dims,[o]),h=e.run({...Oc,cacheHint:r.cacheKey,get:()=>d},[t[0],s]),i=Eb(e,t[0],o,a,n.output.dims,d.output.dims);return[e.run({...Ic,cacheHint:r.cacheKey,get:()=>i},[t[0],s,h])]},Ab=(e,t,r,o,a)=>{let[n,s]=e.calculateTextureWidthAndHeight(t.dims,0),d=a.length;if(r<1||o<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(a.length!==1)throw new Error("Dimensionality of the output should be 1");if(a[0]!==r)throw new Error("Shape of the output should be equal to logical row count");let h=q(e.session.backend.glContext.version),i=`
      float process(int[${d}] indices) {
        int logical_row_start_offset = indices[0] * ${o};

        float max = getColorAsFloat(${h.texture2D}(A, offsetToCoords(logical_row_start_offset, ${n},
        ${s} )));
        for(int i=1; i<${o}; ++i)
        {
          float current = getColorAsFloat(${h.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${n}, ${s})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{..._c,output:{dims:a,type:t.type,textureType:0},shaderSource:i}},Pb=(e,t,r,o,a,n)=>{let[s,d]=e.calculateTextureWidthAndHeight(t.dims,0),h=n.length;if(r<1||o<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(n.length!==1)throw new Error("Dimensionality of the output should be 1");if(n[0]!==r)throw new Error("Shape of the output should be equal to logical row count");if(a.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(a[0]!==r)throw new Error("Shape of the intermediate results should be equal to logical row count");let i=q(e.session.backend.glContext.version),l=`
      float process(int[${h}] indices) {
        int logical_row_start_offset = indices[0] * ${o};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${o}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${i.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${s}, ${d}))) - max);
        }

        return norm_factor;
      }`;return{...Oc,output:{dims:n,type:t.type,textureType:0},shaderSource:l}},Eb=(e,t,r,o,a,n)=>{let[s,d]=e.calculateTextureWidthAndHeight(t.dims,0),h=t.dims.length;if(r<1||o<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(a.length!==1||n.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(a[0]!==r||n[0]!==r)throw new Error("Shape of the intermediate results should be equal to logical row count");let i=`
      float process(int[${h}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${s}, ${d});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${o};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...Ic,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:i}},Lc=e=>{if(!e||e.length!==1)throw new Error("Softmax requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("Invalid input type")}}),$c,Cc,kc,Db,Lb,Fb,Bc=L(()=>{Ge(),fe(),ae(),$c={name:"Split",inputNames:["A"],inputTypes:[0]},Cc=(e,t,r)=>{Fb(t);let o=U.normalizeAxis(r.axis,t[0].dims.length),a=Db(e,t,o,r),n=[];for(let s=0;s<a;++s)n.push(e.run({...$c,cacheHint:`${r.cacheKey};${s}`,get:()=>Lb(e,t[0],r,o,s)},t));return n},kc=e=>{let t=e.attributes.getInt("axis",0),r=e.attributes.getInts("split",[]),o=e.outputs.length;return ee({axis:t,split:r,numOutputs:o})},Db=(e,t,r,o)=>{let[,a]=an.splitShape(t[0].dims,r,o.split,o.numOutputs);return a.length},Lb=(e,t,r,o,a)=>{let[n,s]=an.splitShape(t.dims,o,r.split,r.numOutputs),d=s[a],h=n[a],i=`
      float process(int indices[${h.length}]) {
        indices[${o}] += ${d};
        return _A(indices);
      }
    `;return{...$c,cacheHint:`${r.cacheKey}:${a}`,output:{dims:h,type:t.type,textureType:0},shaderSource:i}},Fb=e=>{if(!e||e.length!==1)throw new Error("Split requires one input.");if(e[0].type!=="int8"&&e[0].type!=="uint8"&&e[0].type!=="int16"&&e[0].type!=="uint16"&&e[0].type!=="int32"&&e[0].type!=="uint32"&&e[0].type!=="float32"&&e[0].type!=="float64"&&e[0].type!=="bool")throw new Error("Invalid input type.")}}),Vi,Nc,Rc,$b,Cb,Mc=L(()=>{fe(),Vi=(e,t,r)=>{$b(t);let o=U.squeezeShape(t[0].dims,r);return[e.reshapeUnpacked(t[0],o)]},Nc=(e,t)=>(Cb(t),Vi(e,[t[0]],Array.from(t[1].integerData))),Rc=e=>e.attributes.getInts("axes"),$b=e=>{if(!e||e.length!==1)throw new Error("Squeeze requires 1 input.");if(e[0].type==="string")throw new Error("invalid input tensor types.")},Cb=e=>{if(!e||e.length!==2)throw new Error("Squeeze requires 2 inputs.");if(e[1].type!=="int32")throw new Error("Invalid input type.")}}),Gc,kb,Bb,Uc=L(()=>{xe(),ae(),Gc=(e,t)=>{Bb(t);let r={name:"Sum",inputNames:t.map((o,a)=>`X${a}`),inputTypes:new Array(t.length).fill(0)};return[e.run({...r,get:()=>kb(e,t,r)},t)]},kb=(e,t,r)=>{let o=q(e.session.backend.glContext.version),a=t[0].dims.slice(),n=`
      void main() {
        vec4 result = ${t.map((s,d)=>`${o.texture2D}(X${d},TexCoords)`).join(" + ")};
        ${o.output} = result;
      }
    `;return{...r,output:{dims:a,type:t[0].type,textureType:0},hasMain:!0,shaderSource:n}},Bb=e=>{if(!e||e.length===0)throw new Error("Sum requires inputs.");let t=e[0].dims.length;for(let r=1;r<e.length;r++){if(t!==e[r].dims.length)throw new Error("Input shapes are mismatched.");for(let o=0;o<t;o++)if(e[0].dims[o]!==e[r].dims[o])throw new Error("Input shapes are not matched.")}if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("Invalid input type.");for(let r=1;r<e.length;r++)if(e[0].type!==e[r].type)throw new Error("Input types are not matched.")}}),zc,Nb,Rb,Vc=L(()=>{pn(),ae(),zc=(e,t)=>{Rb(t);let r={name:"Tile",inputNames:["A"],inputTypes:[0]};return[e.run({...r,get:()=>Nb(e,t,r)},t)]},Nb=(e,t,r)=>{let o=t[0].dims.slice(),a=new Array(o.length),n=[];for(let h=0;h<o.length;h++)a[h]=o[h]*t[1].numberData[h],n.push(`inputIdx[${h}] = int(mod(float(outputIdx[${h}]), ${o[h]}.));`);let s=a.length,d=`
      float process(int outputIdx[${s}]) {
        int inputIdx[${s}];
        ${n.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...r,output:{dims:a,type:t[0].type,textureType:0},shaderSource:d}},Rb=e=>{if(!e||e.length!==2)throw new Error("Tile requires 2 input.");if(e[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(Jt.indexOf(e[0].type)===-1)throw new Error("Invalid input type.");if(e[1].type!=="int32"&&e[1].type!=="int16")throw new Error("Invalid repeat type.")}}),Wi,Wc,Hc,Mb,Gb,qc=L(()=>{fe(),Wi=(e,t,r)=>{Mb(t);let o=U.unsqueezeShape(t[0].dims,r);return[e.reshapeUnpacked(t[0],o)]},Wc=(e,t)=>(Gb(t),Wi(e,[t[0]],Array.from(t[1].integerData))),Hc=e=>e.attributes.getInts("axes"),Mb=e=>{if(!e||e.length!==1)throw new Error("Unsqueeze requires 1 input.");if(e[0].type==="string")throw new Error("invalid input tensor types.")},Gb=e=>{if(!e||e.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(e[1].type!=="int32")throw new Error("Invalid input type.")}}),jc,Yc=L(()=>{nl(),bl(),Tl(),Il(),no(),lf(),mf(),yf(),vf(),If(),Pf(),Ff(),Bf(),oo(),Gf(),Qf(),sc(),lc(),mc(),gc(),wc(),Fc(),Bc(),Mc(),Uc(),Vc(),ao(),Ai(),qc(),Mi(),jc=[["Abs","","6+",Sl],["Acos","","7+",Al],["Add","","7+",ol],["And","","7+",il],["Asin","","7+",Pl],["Atan","","7+",El],["AveragePool","","7+",zf,Vf],["BatchNormalization","","7+",tl,rl],["Cast","","6+",gl,yl],["Ceil","","6+",Fl],["Clip","","6-10",Ii,Dl],["Clip","","11+",Ll],["Concat","","4+",wl,Ol],["Conv","","1+",$i,Ci],["ConvTranspose","","1+",sf,uf],["Cos","","7+",$l],["Div","","7+",al],["Dropout","","7+",Si],["DepthToSpace","","1+",df,hf],["Equal","","7+",sl],["Elu","","6+",Cl,kl],["Exp","","6+",Bl],["Flatten","","1+",bf,gf],["Floor","","6+",Nl],["FusedConv","com.microsoft","1+",$i,Ci],["Gather","","1+",Tf,xf],["Gemm","","7-10",ki,_f],["Gemm","","11+",ki,Of],["GlobalAveragePool","","1+",Hf,qf],["GlobalMaxPool","","1+",Jf],["Greater","","7+",ul],["Identity","","1+",Si],["ImageScaler","","1+",Sf,Af],["InstanceNormalization","","6+",Df,Lf],["LeakyRelu","","6+",Rl,Ml],["Less","","7+",ll],["LRN","","1+",$f,Cf],["Log","","6+",Gl],["MatMul","","1+",Ql,ef],["MaxPool","","1+",jf,Yf],["Mul","","7+",fl],["Neg","","6+",Ul],["Not","","1+",zl],["Or","","7+",cl],["Pad","","2-10",Bi,Nf],["Pad","","11+",Rf,Mf],["Pow","","7+",pl],["PRelu","","7+",dl],["ReduceLogSum","","1+",ic,Zt],["ReduceMax","","1+",rc,Zt],["ReduceMean","","1+",tc,Zt],["ReduceMin","","1+",nc,Zt],["ReduceProd","","1+",oc,Zt],["ReduceSum","","1-12",ec,Zt],["ReduceSumSquare","","1+",ac,Zt],["Relu","","6+",Vl],["Reshape","","5+",uc],["Resize","","10",Ui,dc],["Resize","","11+",Ui,hc],["Shape","","1+",bc],["Sigmoid","","6+",Wl],["Sin","","7+",Hl],["Slice","","10+",vc],["Slice","","1-9",yc,Tc],["Softmax","","1-12",Sc,Ac],["Softmax","","13+",Ec,Pc],["Split","","2-12",Cc,kc],["Sqrt","","6+",ql],["Squeeze","","1-12",Vi,Rc],["Squeeze","","13+",Nc],["Sub","","7+",hl],["Sum","","6+",Gc],["Tan","","7+",jl],["Tanh","","6+",Yl],["Tile","","6+",zc],["Transpose","","1+",yr,cf],["Upsample","","7-8",Ni,cc],["Upsample","","9",Ni,pc],["Unsqueeze","","1-12",Wi,Hc],["Unsqueeze","","13+",Wc],["Xor","","7+",ml]]});function Kc(e){let t={},r;for(;(r=Xc.exec(e))!==null;){let o=r[3].split(",").map(a=>{let n=a.trim().split(" ");return n&&n.length===2?{type:n[0],name:n[1]}:null}).filter(a=>a!==null);t[r[2]]={params:o,body:r[4]}}for(let o in t){let a=Ub.replace("__FUNC__",o),n=new RegExp(a,"gm");for(;(r=n.exec(e))!==null;){let s=r[1],d=r[2],h=r[3].split(","),i=s?`${s} ${d};`:"",l=t[o].body,c="";t[o].params.forEach((y,S)=>{y&&(c+=`${y.type} ${y.name} = ${h[S]};
`)}),l=`${c}
 ${l}`,l=l.replace("return",`${d} = `);let g=`
      ${i}
      {
        ${l}
      }
      `;e=e.replace(r[0],g)}}return e=e.replace(Xc,""),e}var Xc,Ub,Jc=L(()=>{Xc=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,Ub="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"});function Gr(e,t){let r=[],o=[],a=t!=null&&Array.isArray(t)&&t.length===0,n=t==null||a?null:zb(t,e).sort(),s=0;for(let d=0;d<e.length;++d){if(n!=null){if(n[s]===d&&e[d]!==1)throw new Error(`Can't squeeze axis ${d} since its dim '${e[d]}' is not 1`);(n[s]==null||n[s]>d)&&e[d]===1&&(r.push(e[d]),o.push(d)),n[s]<=d&&s++}e[d]!==1&&(r.push(e[d]),o.push(d))}return{newShape:r,keptDims:o}}function zb(e,t){let r=t.length;return e=e==null?t.map((o,a)=>a):[].concat(e),Cr(e.every(o=>o>=-r&&o<r),()=>`All values in axis param must be in range [-${r}, ${r}) but got axis ${e}`),Cr(e.every(Vb),()=>`All values in axis param must be integers but got axis ${e}`),e.map(o=>o<0?r+o:o)}function Vb(e){return e%1===0}function Wb(e){if(e.length===0)return 1;let t=e[0];for(let r=1;r<e.length;r++)t*=e[r];return t}function Zc(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}var fo,Hi=L(()=>{ut(),fe(),fo=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){let r=this.computeTexture(e,t);return t&&t.isPacked&&(r[0]/=2,r[1]/=2),t&&t.reverseWH?[r[1],r[0]]:r}computeTexture(e,t){let r=t&&t.isPacked;if(e.length===0)return r?[2,2]:[1,1];let o=this.maxTextureSize;if(t&&t.breakAxis!==void 0){let s=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((h,i)=>h*i),d=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((h,i)=>h*i);if(s>o||d>o)ce.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`);else return[s,d]}let a=e.slice(0);r&&(o=o*2,a=a.map((s,d)=>d>=a.length-2?a[d]%2===0?a[d]:a[d]+1:a[d]),a.length===1&&(a=[2,a[0]])),a.length!==2&&(a=Gr(a).newShape);let n=Wb(a);return a.length<=1&&n<=o?[1,n]:a.length===2&&a[0]<=o&&a[1]<=o?a:a.length===3&&a[0]*a[1]<=o&&a[2]<=o?[a[0]*a[1],a[2]]:a.length===3&&a[0]<=o&&a[1]*a[2]<=o?[a[0],a[1]*a[2]]:a.length===4&&a[0]*a[1]*a[2]<=o&&a[3]<=o?[a[0]*a[1]*a[2],a[3]]:a.length===4&&a[0]<=o&&a[1]*a[2]*a[3]<=o?[a[0],a[1]*a[2]*a[3]]:r?Zc(n/4).map(s=>s*2):Zc(n)}}}),co,Qc=L(()=>{fe(),Vt(),xe(),Hi(),Ft(),co=class extends pt{constructor(e){super(e)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let e="offsetToCoords";return{offsetToCoords:new R(`
      vec2 ${e}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){let e="coordsToOffset";return{coordsToOffset:new R(`
      int ${e}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){let e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){let t=e.unpackedShape,r=[e.width,e.height],o={},a="getOutputCoords";switch(t.length){case 0:o[a]=this.getOutputScalarCoords();break;case 1:o[a]=this.getOutputPacked1DCoords(t,r);break;case 2:o[a]=this.getOutputPacked2DCoords(t,r);break;case 3:o[a]=this.getOutputPacked3DCoords(t,r);break;default:o[a]=this.getOutputPackedNDCoords(t,r)}let n=`
      void setOutput(vec4 val) {
        ${q(this.context.glContext.version).output} = val;
      }
    `,s="floatTextureSetRGBA";return o[s]=new R(n),o}getUnpackedOutputSamplingSnippet(e){let t=e.unpackedShape,r=[e.width,e.height],o={},a="getOutputCoords";switch(t.length){case 0:o[a]=this.getOutputScalarCoords();break;case 1:o[a]=this.getOutputUnpacked1DCoords(t,r);break;case 2:o[a]=this.getOutputUnpacked2DCoords(t,r);break;case 3:o[a]=this.getOutputUnpacked3DCoords(t,r);break;case 4:o[a]=this.getOutputUnpacked4DCoords(t,r);break;case 5:o[a]=this.getOutputUnpacked5DCoords(t,r);break;case 6:o[a]=this.getOutputUnpacked6DCoords(t,r);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}let n=`
        void setOutput(float val) {
          ${q(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,s="floatTextureSetR";return o[s]=new R(n),o}getOutputScalarCoords(){return new R(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(e,t){let r=t,o="";return r[0]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${r[1]}.0);
          }
        `,new R(o)):r[1]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${r[0]}.0);
          }
        `,new R(o)):(o=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${r[0]}, ${r[1]}));
          return 2 * (resTexRC.y * ${r[0]} + resTexRC.x);
        }
      `,new R(o))}getOutputPacked2DCoords(e,t){let r="";if(cr.arraysEqual(e,t))return r=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `,new R(r);let o=t,a=Math.ceil(e[1]/2);return r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${o[0]}, ${o[1]}));

          int index = resTexRC.y * ${o[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${a}) * 2;
          int c = 2 * (index / ${a});

          return ivec2(r, c);
        }
      `,new R(r)}getOutputPacked3DCoords(e,t){let r=[t[0],t[1]],o=Math.ceil(e[2]/2),a=o*Math.ceil(e[1]/2),n=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;

          int b = index / ${a};
          index -= b * ${a};

          // reverse r and c order for packed texture
          int r = imod(index, ${o}) * 2;
          int c = 2 * (index / ${o});

          return ivec3(b, r, c);
        }
      `;return new R(n)}getOutputPackedNDCoords(e,t){let r=[t[0],t[1]],o=Math.ceil(e[e.length-1]/2),a=o*Math.ceil(e[e.length-2]/2),n=a,s="",d="b, r, c";for(let i=2;i<e.length-1;i++)n*=e[e.length-i-1],s=`
      int b${i} = index / ${n};
      index -= b${i} * ${n};
    `+s,d=`b${i}, `+d;let h=`
      ivec${e.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${r[0]}, ${r[1]}));
        int index = resTexRC.y * ${r[0]} + resTexRC.x;

        ${s}

        int b = index / ${a};
        index -= b * ${a};

        // reverse r and c order for packed texture
        int r = imod(index, ${o}) * 2;
        int c = 2 * (index / ${o});

        return ivec${e.length}(${d});
      }
    `;return new R(h)}getOutputUnpacked1DCoords(e,t){let r=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new R(r)}getOutputUnpacked2DCoords(e,t){let r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${e[1]};
          int c = index - r * ${e[1]};
          return ivec2(r, c);
        }
      `;return new R(r)}getOutputUnpacked3DCoords(e,t){let r="",o=e.length,a=null;o<2&&(a=[]),a=new Array(o-1),a[o-2]=e[o-1];for(let d=o-3;d>=0;--d)a[d]=a[d+1]*e[d+1];let n=["r","c","d"],s=a.map((d,h)=>{let i=`int ${n[h]} = index / ${d}`,l=h===a.length-1?`int ${n[h+1]} = index - ${n[h]} * ${d}`:`index -= ${n[h]} * ${d}`;return`${i}; ${l};`}).join("");return r=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${s}
          return ivec3(r, c, d);
        }
      `,new R(r)}getOutputUnpacked4DCoords(e,t){let r="",o=e.length,a=null;o<2&&(a=[]),a=new Array(o-1),a[o-2]=e[o-1];for(let d=o-3;d>=0;--d)a[d]=a[d+1]*e[d+1];let n=["r","c","d","d2"],s=a.map((d,h)=>{let i=`int ${n[h]} = index / ${d}`,l=h===a.length-1?`int ${n[h+1]} = index - ${n[h]} * ${d}`:`index -= ${n[h]} * ${d}`;return`${i}; ${l};`}).join("");return r=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${s}
          return ivec4(r, c, d, d2);
        }
      `,new R(r)}getOutputUnpacked5DCoords(e,t){let r="",o=e.length,a=null;o<2&&(a=[]),a=new Array(o-1),a[o-2]=e[o-1];for(let d=o-3;d>=0;--d)a[d]=a[d+1]*e[d+1];let n=["r","c","d","d2","d3"],s=a.map((d,h)=>{let i=`int ${n[h]} = index / ${d}`,l=h===a.length-1?`int ${n[h+1]} = index - ${n[h]} * ${d}`:`index -= ${n[h]} * ${d}`;return`${i}; ${l};`}).join("");return r=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${s}
          return ivec5(r, c, d, d2, d3);
        }
      `,new R(r)}getOutputUnpacked6DCoords(e,t){let r="",o=e.length,a=null;o<2&&(a=[]),a=new Array(o-1),a[o-2]=e[o-1];for(let d=o-3;d>=0;--d)a[d]=a[d+1]*e[d+1];let n=["r","c","d","d2","d3","d4"],s=a.map((d,h)=>{let i=`int ${n[h]} = index / ${d}`,l=h===a.length-1?`int ${n[h+1]} = index - ${n[h]} * ${d}`:`index -= ${n[h]} * ${d}`;return`${i}; ${l};`}).join("");return r=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${t[0]}, ${t[1]}));
         int index = resTexRC.y * ${t[0]} + resTexRC.x;
         ${s}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new R(r)}getCommonUtilFuncs(){let e={},t="uvFromFlat";e[t]=new R(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),t="packedUVfrom1D",e[t]=new R(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom2D",e[t]=new R(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom3D",e[t]=new R(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="sampleTexture";let r=q(this.context.glContext.version);return e[t]=new R(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${r.texture2D}(textureSampler, uv).r;
        }`),e}getInputsSamplingSnippets(){let e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((r,o)=>{let a=this.context.inputTextureLayouts[o],n=Kn(r);a.isPacked?e[n]=this.getPackedSamplerFromInput(n,r,a):e[n]=this.getUnpackedSamplerFromInput(n,r,a);let s=Mu(r);a.unpackedShape.length<=t.unpackedShape.length&&(a.isPacked?e[s]=this.getPackedSamplerAtOutputCoords(s,a,t,r):e[s]=this.getUnpackedSamplerAtOutputCoords(s,a,t,r))}),e}getPackedSamplerAtOutputCoords(e,t,r,o){let a=t.unpackedShape,n=r.unpackedShape,s=Kn(o),d=a.length,h=n.length,i=Xe.getBroadcastDims(a,n),l=Ke(h),c=h-d,g,y=St();d===0?g="":h<2&&i.length>=1?g="coords = 0;":g=i.map(pe=>`coords.${y[pe+c]} = 0;`).join(`
`);let S="";h<2&&d>0?S="coords":S=a.map((pe,Ne)=>`coords.${y[Ne+c]}`).join(", ");let I="return outputValue;",A=U.size(a)===1,H=U.size(n)===1;if(d===1&&!A&&!H)I=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(A&&!H)h===1?I=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:I=`
          return vec4(outputValue.x);
        `;else if(i.length){let pe=d-2,Ne=d-1;i.indexOf(pe)>-1&&i.indexOf(Ne)>-1?I="return vec4(outputValue.x);":i.indexOf(pe)>-1?I="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(Ne)>-1&&(I="return vec4(outputValue.xx, outputValue.zz);")}let N=`
        int lastDim = coords.${y[h-1]};
        coords.${y[h-1]} = coords.${y[h-2]};
        coords.${y[h-2]} = lastDim;
      `,G=`
      vec4 ${e}() {
        ${l} coords = getOutputCoords();
        ${N}
        ${g}
        vec4 outputValue = ${s}(${S});
        ${I}
      }
    `;return new R(G,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,r,o){let a=[r.width,r.height],n=[t.width,t.height],s=t.unpackedShape.length,d=r.unpackedShape.length,h=t.unpackedShape,i=r.unpackedShape,l=Kn(o);if(s===d&&cr.arraysEqual(n,a)){let N=`
          float ${e}() {
            return sampleTexture(${o}, TexCoords);
          }
        `;return new R(N,["coordinates.sampleTexture"])}let c=Ke(d),g=Xe.getBroadcastDims(h,i),y=d-s,S,I=St();s===0?S="":d<2&&g.length>=1?S="coords = 0;":S=g.map(N=>`coords.${I[N+y]} = 0;`).join(`
`);let A="";d<2&&s>0?A="coords":A=t.unpackedShape.map((N,G)=>`coords.${I[G+y]}`).join(", ");let H=`
        float ${e}() {
          ${c} coords = getOutputCoords();
          ${S}
          return ${l}(${A});
        }
      `;return new R(H,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,r){switch(r.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,r);case 2:return this.getPackedSampler2D(e,t,r);case 3:return this.getPackedSampler3D(e,t,r);default:return this.getPackedSamplerND(e,t,r)}}getUnpackedSamplerFromInput(e,t,r){let o=r.unpackedShape;switch(o.length){case 0:return this.getUnpackedSamplerScalar(e,t,r);case 1:return this.getUnpackedSampler1D(e,t,r);case 2:return this.getUnpackedSampler2D(e,t,r);case 3:return this.getUnpackedSampler3D(e,t,r);case 4:return this.getUnpackedSampler4D(e,t,r);case 5:return this.getUnpackedSampler5D(e,t,r);case 6:return this.getUnpackedSampler6D(e,t,r);default:throw new Error(`Unsupported dimension ${o.length}-D`)}}getPackedSamplerScalar(e,t){let r=q(this.context.glContext.version),o=`
          vec4 ${e}() {
            return ${r.texture2D}(${t}, halfCR);
          }
        `;return new R(o)}getPackedSampler1D(e,t,r){let o=[r.width,r.height],a=[o[1],o[0]],n=q(this.context.glContext.version),s=`vec4 ${e}(int index) {
      vec2 uv = packedUVfrom1D(
      ${a[0]}, ${a[1]}, index);
      return ${n.texture2D}(${t}, uv);
    }`;return new R(s,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,r){let o=r.unpackedShape,a=[r.width,r.height],n=q(this.context.glContext.version),s=a[0],d=a[1];if(a!=null&&cr.arraysEqual(o,a)){let c=`vec4 ${e}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${d}.0, ${s}.0);
        return ${n.texture2D}(${t}, uv);
      }`;return new R(c)}let h=a,i=Math.ceil(o[1]/2),l=`vec4 ${e}(int row, int col) {
      vec2 uv = packedUVfrom2D(${h[1]}, ${h[0]}, ${i}, row, col);
      return ${n.texture2D}(${t}, uv);
    }`;return new R(l,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,r){let o=r.unpackedShape,a=[r.width,r.height],n=[a[0],a[1]],s=q(this.context.glContext.version);if(o[0]===1){let g=o.slice(1),y=[1,2],S=kr(o,g),I=["b","row","col"],A=JSON.parse(JSON.stringify(r));A.unpackedShape=S;let H=this.getPackedSamplerFromInput(e,t,A),N=`${H.routineBody}
      vec4 ${e}(int b, int row, int col) {
        return ${e}(${Br(I,y)});
      } `;return new R(N,H.dependencies)}let d=n[0],h=n[1],i=Math.ceil(o[2]/2),l=i*Math.ceil(o[1]/2),c=`vec4 ${e}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${h}, ${d}, ${l}, ${i}, b, row, col);
      return ${s.texture2D}(${t}, uv);}`;return new R(c,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,r){let o=r.unpackedShape,a=o.length,n=[r.width,r.height],s=q(this.context.glContext.version),d=[n[0],n[1]],h=d[1],i=d[0],l=Math.ceil(o[a-1]/2),c=l*Math.ceil(o[a-2]/2),g="int b, int row, int col",y=`b * ${c} + (row / 2) * ${l} + (col / 2)`;for(let I=2;I<a-1;I++)g=`int b${I}, `+g,c*=o[a-I-1],y=`b${I} * ${c} + `+y;let S=`vec4 ${e}(${g}) {
      int index = ${y};
      int texR = index / ${i};
      int texC = index - texR * ${i};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}, ${h});
      return ${s.texture2D}(${t}, uv);
    }`;return new R(S)}getUnpackedSamplerScalar(e,t,r){let[o,a]=[r.width,r.height];if(o===1&&a===1){let s=`
          float ${e}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new R(s,["coordinates.sampleTexture"])}let n=`
        float ${e}() {
          int offset_${t} = coordsToOffset(TexCoords, ${o}, ${a});
          vec2 uv = uvFromFlat(${o}, ${a}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new R(n,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,r){let o=r.width,a=r.height;if(a===1&&o===1){let s=`
        float ${e}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new R(s,["coordinates.sampleTexture"])}if(a===1){let s=`
          float ${e}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${o}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new R(s,["coordinates.sampleTexture"])}if(o===1){let s=`
          float ${e}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${a}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new R(s,["coordinates.sampleTexture"])}let n=`
        float ${e}(int index) {
          vec2 uv = uvFromFlat(${o}, ${a}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new R(n,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,r){let o=r.unpackedShape,a=[r.height,r.width];if(a!=null&&cr.arraysEqual(o,a)){let c=a[1],g=a[0],y=`
          float ${e}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${c}.0, ${g}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new R(y,["coordinates.sampleTexture"])}let{newShape:n,keptDims:s}=Gr(o),d=n;if(d.length<o.length){let c=kr(o,d),g=JSON.parse(JSON.stringify(r));g.unpackedShape=c;let y=["col","row"],S=`
          ${this.getUnpackedSamplerFromInput(e,t,g).routineBody}
          float ${e}(int row, int col) {
            return ${e}(${Br(y,s)});
          }
        `;return new R(S,["coordinates.sampleTexture"])}let h=a[1],i=a[0];if(i===1){let c=`
          float ${e}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${h}, ${i});
            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${h}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new R(c,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(h===1){let c=`
          float ${e}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${h}, ${i});
            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${i}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new R(c,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let l=`
        float ${e}(int row, int col) {
          int index = col * ${o[1]} + row;
          vec2 uv = uvFromFlat(${h}, ${i}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new R(l,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,r){let o=r.unpackedShape,a=o[1]*o[2],n=o[2],{newShape:s,keptDims:d}=Gr(o),h=s;if(h.length<o.length){let g=kr(o,h),y=["batch","col","row"],S=JSON.parse(JSON.stringify(r));S.unpackedShape=g;let I=this.getUnpackedSamplerFromInput(e,t,S),A=d.reverse(),H=`
          ${I.routineBody}
          float ${e}(int batch, int row, int col) {
            return ${e}(${Br(y,A)});
          }
        `;return new R(H,I.dependencies)}let i=r.width,l=r.height,c=`
          float ${e}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${a} + col * ${n} + row;
            vec2 uv = uvFromFlat(${i}, ${l}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new R(c,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,r){let o=r.unpackedShape,a=o[3],n=o[2]*a,s=o[1]*n,d=r.width,h=r.height,i=`
        float ${e}(int row, int col, int depth, int depth2) {
          int index = row * ${s} + col * ${n} +
              depth2 * ${a} + depth;
          vec2 uv = uvFromFlat(${d}, ${h}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new R(i,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,r){let o=r.unpackedShape,a=o[4],n=o[3]*a,s=o[2]*n,d=o[1]*s,{newShape:h,keptDims:i}=Gr(o);if(h.length<o.length){let y=kr(o,h),S=["row","col","depth","depth2","depth3"],I=JSON.parse(JSON.stringify(r));I.unpackedShape=y;let A=`
          ${this.getUnpackedSamplerFromInput(e,t,I).routineBody}
          float ${e}(int row, int col, int depth, int depth2, int depth3) {
            return ${e}(${Br(S,i)});
          }
        `;return new R(A,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let l=r.width,c=r.height,g=`
        float ${e}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${d} + col * ${s} + depth * ${n} +
          depth3 * ${a} + depth2;
          vec2 uv = uvFromFlat(${l}, ${c}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new R(g,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,r){let o=r.unpackedShape,a=o[5],n=o[4]*a,s=o[3]*n,d=o[2]*s,h=o[1]*d,{newShape:i,keptDims:l}=Gr(o);if(i.length<o.length){let S=kr(o,i),I=["row","col","depth","depth2","depth3","depth4"],A=JSON.parse(JSON.stringify(r));A.unpackedShape=S;let H=`
            ${this.getUnpackedSamplerFromInput(e,t,A).routineBody}
            float ${e}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${e}(${Br(I,l)});
            }
          `;return new R(H,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let c=r.width,g=r.height,y=`
          float ${e}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${h} + col * ${d} + depth * ${s} +
            depth2 * ${n} + depth3 * ${a} + depth4;
            vec2 uv = uvFromFlat(${c}, ${g}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new R(y,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let e=this.context.outputTextureLayout,t=e.shape.length,r=e.strides,o=e.width,a=e.height,n=[];for(let d=0;d<t-1;++d)n.push(`
        c[${d}] = offset / ${r[d]};`),n.push(`
        offset -= c[${d}] * ${r[d]};`);n.push(`
        c[${t-1}] = offset;`);let s=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${o}, ${a});
        ${n.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${n.join("")}
      }
    `;return{toVec:new R(s,["coordinates.coordsToOffset"])}}valueFrom(){let e={};return this.context.programInfo.inputNames.forEach((t,r)=>{let o=this.context.inputTextureLayouts[r],a=(o.unpackedShape.length>0?o.unpackedShape:o.shape).length,n=`_${t}`;e[n]=new R(this.getValueFromSingle(t,a,o.width,o.height,!1),[`shapeUtils.indicesToOffset${n}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),n=n+"_T",e[n]=new R(this.getValueFromSingle(t,a,o.width,o.height,!0),[`shapeUtils.indicesToOffset${n}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),e}getValueFromSingle(e,t,r,o,a){let n=`_${e}`;a&&(n=n+"_T");let s=q(this.context.glContext.version);return`
        float ${n}(int m[${t}]) {
          int offset = indicesToOffset${n}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          float value = getColorAsFloat(${s.texture2D}(${e}, coords));
          return value;
        }
        `}getPackedValueFrom(e,t,r,o,a){let n=`_${e}_Pack`;a&&(n=n+"_T");let s=q(this.context.glContext.version);return`
        vec4 ${n}(int m[${t}]) {
          int offset = indicesToOffset_${e}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          return ${s.texture2D}(${e}, coords);
        }
        `}}}),po,ep=L(()=>{Vt(),po=class K0 extends pt{constructor(t){super(t)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new R(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new R(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){let t=K0.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new R(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${t}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){let t=K0.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new R(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${t}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){let t=new ArrayBuffer(4),r=new Uint32Array(t),o=new Uint8Array(t);if(r[0]=3735928559,o[0]===239)return!0;if(o[0]===222)return!1;throw new Error("unknown endianness")}}}),ho,tp=L(()=>{Vt(),xe(),ho=class extends pt{constructor(e){super(e)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let e=q(this.context.glContext.version);return{setFragColor:new R(`
        void setFragColor(float value) {
            ${e.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new R(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}}),mo,rp=L(()=>{Vt(),mo=class kg extends pt{constructor(t){super(t)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let t=this.context.outputTextureLayout.shape.length,r={};return this.context.programInfo.inputNames.forEach((o,a)=>{let n=this.context.inputTextureLayouts[a].unpackedShape;if(n.length<=t){let s=n.length,d=t-s,h=`bcastIndices_${o}`,i="";for(let c=0;c<s;++c)i+=`
          realIndices[${c}] = int( mod(float(bcastedIndices[${d+c}]), ${n[c]}.0) );
          `;let l=`
        void ${h} (int bcastedIndices[${t}], out int realIndices[${s}]) {
          ${i}
        }
        `;r[h]=new R(l)}}),r}bcastMatmulIndex(){let t=this.context.outputTextureLayout.shape.length,r={};return this.context.programInfo.inputNames.forEach((o,a)=>{let n=this.context.inputTextureLayouts[a].shape;if(!(n.length<2||n.length>t)){let s=n.length,d=t-s,h=`bcastMatmulIndices_${o}`,i="";for(let c=0;c<s-2;++c)i+=`
          realIndices[${c}] = int( mod(float(bcastedIndices[${d+c}]), ${n[c]}.0) );
          `;let l=`
        void ${h}(int bcastedIndices[${t}], out int realIndices[${s}]) {
          ${i}
          realIndices[${s-1}] = bcastedIndices[${t-1}];
          realIndices[${s-2}] = bcastedIndices[${t-2}];
        }
        `;r[h]=new R(l)}}),r}indicesToOffset(){let t={};return this.context.programInfo.inputNames.forEach((r,o)=>{let a=this.context.inputTextureLayouts[o].shape,n=this.context.inputTextureLayouts[o].strides,s=a.length,d=`indicesToOffset_${r}`;t[d]=new R(kg.indexToOffsetSingle(d,s,n)),d=`indicesToOffset_${r}_T`,t[d]=new R(kg.indexToOffsetSingle(d,s,n.slice().reverse()))}),t}static indexToOffsetSingle(t,r,o){let a="";for(let n=r-1;n>=0;--n)a+=`
        offset += indices[${n}] * ${o[n]};
        `;return`
      int ${t}(int indices[${r}]) {
        int offset = 0;
        ${a}
        return offset;
      }
      `}offsetToIndices(){let t={};return this.context.programInfo.inputNames.forEach((r,o)=>{let a=this.context.inputTextureLayouts[o].shape,n=this.context.inputTextureLayouts[o].strides,s=a.length,d=`offsetToIndices_${r}`;t[d]=new R(kg.offsetToIndicesSingle(d,s,n)),d=`offsetToIndices_${r}_T`,t[d]=new R(kg.offsetToIndicesSingle(d,s,n.slice().reverse()))}),t}static offsetToIndicesSingle(t,r,o){let a=[];for(let n=0;n<r-1;++n)a.push(`
      indices[${n}] = offset / ${o[n]};`),a.push(`
        offset -= indices[${n}] * ${o[n]};`);return a.push(`
      indices[${r-1}] = offset;`),`
      void ${t}(int offset, out int indices[${r}]) {
        ${a.join("")}
      }
      `}incrementIndices(){let t={};return this.context.programInfo.inputNames.forEach((r,o)=>{let a=this.context.inputTextureLayouts[o].shape,n=a.length,s=`incrementIndices_${r}`,d="";for(let i=0;i<n;++i)d+=`
        shape[${i}] = ${a[i]};`;let h=`
        void ${s}(int axis, out int indices[${n}]) {
          int shape[${n}];
          ${d};
          for(int i = ${n} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;t[s]=new R(h)}),t}}}),bo,np=L(()=>{Vt(),bo=class extends pt{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},r={};for(let o in t){let a=`${o}Vec`,n="";for(let d=0;d<e;++d)n+=`
          dest[${d}] ${t[o]} src[${d}];
          `;let s=`
        void ${a}(int src[${e}], out int dest[${e}]) {
          ${n}
        }
        `;r[a]=new R(s)}return r}copyVec(){let e=this.context.outputTextureLayout.shape.length,t="";for(let o=0;o<e;++o)t+=`
        dest[${o}] = src[${o}];
        `;let r=`
      void copyVec(int src[${e}], out int dest[${e}]) {
        ${t}
      }
      `;return{copyVec:new R(r)}}setVecItem(){let e=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index =${e} + index;
        if (index == 0)
            m[0] = value;
        `;for(let o=1;o<e-1;++o)t+=`
        else if (index == ${o})
            m[${o}] = value;
            `;t+=`
        else
            m[${e-1}] = value;
        `;let r=`
      void setVecItem(out int m[${e}], int index, int value) {
        ${t}
      }
        `;return{setVecItem:new R(r)}}getVecItem(){let e=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index = ${e} + index;
        if (index == 0)
            return m[0];
      `;for(let o=1;o<e-1;++o)t+=`
        else if (index == ${o})
            return m[${o}];
      `;t+=`
        else
            return m[${e-1}];
        `;let r=`
      int getVecItem(int m[${e}], int index) {
        ${t}
      }
    `;return{getVecItem:new R(r)}}}}),qi,op=L(()=>{Qc(),ep(),tp(),rp(),np(),qi={encoding:po,fragcolor:ho,vec:bo,shapeUtils:mo,coordinates:co}}),go,ip=L(()=>{Vt(),Jc(),op(),xe(),go=class{constructor(e,t,r,o){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new eo(e,t,r,o),Object.keys(qi).forEach(n=>{let s=new qi[n](this.context);this.libs[n]=s});let a=this.glslLibRoutineDependencyGraph;for(let n in this.libs){let s=this.libs[n].getFunctions();for(let d in s){let h=n+"."+d,i;a[h]?(i=a[h],i.routineBody=s[d].routineBody):(i=new cn(h,s[d].routineBody),a[h]=i);let l=s[d].dependencies;if(l)for(let c=0;c<l.length;++c)if(a[l[c]])i.addDependency(a[l[c]]);else{let g=new cn(l[c]);a[l[c]]=g,i.addDependency(g)}}}}preprocess(){let e=this.context.programInfo,t=e.shaderSource;return this.context.programInfo.hasMain||(t=`${t}
      ${Ru(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),t=Kc(t),`${Nu(this.context.glContext.version)}
    ${this.getUniforms(e.inputNames,e.variables)}
    ${this.getImports(t)}
    ${t}`}getImports(e){let t=this.selectGlslLibRoutinesToBeIncluded(e);if(t.length===0)return"";let r="";for(let o=0;o<t.length;++o)if(t[o].routineBody)r+=t[o].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${t[o].name}`);return r}selectGlslLibRoutinesToBeIncluded(e){let t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(r=>{let o=r.split(".")[1];e.indexOf(o)!==-1&&t.push(this.glslLibRoutineDependencyGraph[r])}),to.returnOrderedNodes(t)}getUniforms(e,t){let r=[];if(e)for(let o of e)r.push(`uniform sampler2D ${o};`);if(t)for(let o of t)r.push(`uniform ${o.type} ${o.name}${o.arrayLength?`[${o.arrayLength}]`:""};`);return r.join(`
`)}}}),yo,ap=L(()=>{vt(),ut(),ip(),xe(),yo=class{constructor(e,t,r){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=r,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,r){this.profiler.event("op",`ProgramManager.run ${e.programInfo.name??"unknown kernel"}`,()=>{let o=this.glContext.gl,a=e.program;o.useProgram(a);try{this.bindOutput(r),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,e.programInfo.variables??[],t)}catch(n){throw ce.error("ProgramManager",e.programInfo.shaderSource),n}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(e,t,r){return this.profiler.event("backend","ProgramManager.build",()=>{let o=new go(this.glContext,e,t,r),a=o.preprocess(),n=this.compile(a);return{programInfo:e,program:n,uniformLocations:this.getUniformLocations(n,o.context.programInfo.inputNames,o.context.programInfo.variables),attribLocations:this.getAttribLocations(n)}})}compile(e){if(!this.vertexShader){ce.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let o=Bu(this.glContext.version);this.vertexShader=this.glContext.compileShader(o,this.glContext.gl.VERTEX_SHADER)}Z.debug&&ce.verbose("ProrgramManager",`FragShader:
${e}
`);let t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),r=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),r}bindOutput(e){let t=e.width,r=e.height;ce.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${r}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,t,r)}bindAttributes(e){let t=e.position,r=e.textureCoord;this.glContext.setVertexAttributes(t,r),this.attributesBound=!0}bindUniforms(e,t,r){var n;let o=this.glContext.gl,a=0;for(let{name:s,type:d,location:h,arrayLength:i}of e){let l=(n=t.find(c=>c.name===s))==null?void 0:n.data;if(d!=="sampler2D"&&!l)throw new Error(`variable '${s}' does not have data defined in program info`);switch(d){case"sampler2D":this.bindTexture(r[a],h,a),a++;break;case"float":i?o.uniform1fv(h,l):o.uniform1f(h,l);break;case"int":i?o.uniform1iv(h,l):o.uniform1i(h,l);break;default:throw new Error(`Uniform not implemented: ${d}`)}}}bindTexture(e,t,r){this.glContext.bindTextureToUniform(e.texture,r,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,r){let o=[];if(t)for(let a of t)o.push({name:a,type:"sampler2D",location:this.getUniformLocation(e,a)});if(r)for(let a of r)o.push({...a,location:this.getUniformLocation(e,a.name)});return o}getUniformLocation(e,t){let r=this.glContext.gl.getUniformLocation(e,t);if(r===null)throw new Error(`Uniform ${t} not found.`);return r}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}}),To,sp=L(()=>{ut(),ln(),To=class{constructor(e,t,r,o){this.glContext=e,this.layoutStrategy=t,this.profiler=r,this.config=o,this.pendingRead=new Map,o.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,r,o){let a=this.toEncoderType(e),n=this.glContext.getEncoder(a,t.channels||1,o);if(t.isPacked&&o===1)throw new Error("not implemented");let s=t.width,d=t.height,h,i;if(this.config.reuseTextures){h=`${s}x${d}_${n.format}_${n.internalFormat}_${n.textureType}`,i=this.inUseTextures.get(h),i||(i=[],this.inUseTextures.set(h,i));let c=this.idleTextures.get(h);if(c&&c.length>0){let g=c.pop();return i.push(g),o===1&&this.glContext.updateTexture(g,s,d,n,this.toTextureData(e,r)),g}}ce.verbose("TextureManager",`Creating new texture of size ${t.width}x${t.height}`);let l=this.glContext.allocateTexture(s,d,n,this.toTextureData(e,r));return this.config.reuseTextures&&(i.push(l),this.textureLookup.set(l,h)),l}readTexture(e,t,r){return r||(r=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let o=e.shape.reduce((n,s)=>n*s)*r,a=this.glContext.readTexture(e.texture,e.width,e.height,o,this.toEncoderType(t),r);return this.toTensorData(t,a)})}async readTextureAsync(e,t,r){let o=e.tensor.dataId;if(r||(r=1),this.pendingRead.has(o)){let a=this.pendingRead.get(o);return new Promise(n=>a==null?void 0:a.push(n))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(o,[]);let a=e.shape.reduce((h,i)=>h*i)*r;await this.glContext.createAndWaitForFence();let n=this.glContext.readTexture(e.texture,e.width,e.height,a,this.toEncoderType(t),r),s=this.toTensorData(t,n),d=this.pendingRead.get(o);return this.pendingRead.delete(o),d==null||d.forEach(h=>h(s)),s})}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let t=e.shape.reduce((o,a)=>o*a),r=this.glContext.readTexture(e.texture,e.width,e.height,t*4,"byte",4);return new Float32Array(r.buffer,r.byteOffset,t)})}releaseTexture(e,t){let r;if(this.config.reuseTextures&&(r=this.textureLookup.get(e.texture),r)){t&&this.textureLookup.delete(r);let o=this.inUseTextures.get(r);if(o){let a=o.indexOf(e.texture);if(a!==-1){o.splice(a,1);let n=this.idleTextures.get(r);n||(n=[],this.idleTextures.set(r,n)),n.push(e.texture)}}}(!r||t)&&(ce.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}}),xo,up=L(()=>{ut(),ws(),Qu(),Yc(),ap(),Hi(),sp(),xo=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new fo(e.glContext.maxTextureSize),this.programManager=new yo(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new To(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:e.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Qn(this)}onGraphInitialized(e){let t=e.getValues().filter(r=>r.from===-1&&r.tensor).map(r=>r.tensor.dataId);this.initializers=new Set(t)}isInitializer(e){return this.initializers?this.initializers.has(e):!1}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,r=!1){ce.verbose("WebGLSessionHandler","Storing Texture data in cache"),r?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,t,r){let o=vs(e,t,jc);return{impl:o.opImpl,context:o.opInit?o.opInit(e,r):e}}}});function Hb(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}var hn,lp=L(()=>{vt(),ln(),ln(),Ft(),hn=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,r,o){let a=this.gl,n=a.createTexture();a.bindTexture(a.TEXTURE_2D,n),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);let s=o?r.encode(o,e*t):null;return a.texImage2D(a.TEXTURE_2D,0,r.internalFormat,e,t,0,r.format,r.textureType,s),this.checkError(),n}updateTexture(e,t,r,o,a){let n=this.gl;n.bindTexture(n.TEXTURE_2D,e);let s=o.encode(a,t*r);n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,r,o.format,o.textureType,s),this.checkError()}attachFramebuffer(e,t,r){let o=this.gl;o.bindTexture(o.TEXTURE_2D,e),o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),this.checkError(),o.viewport(0,0,t,r),o.scissor(0,0,t,r)}readTexture(e,t,r,o,a,n){let s=this.gl;n||(n=1),this.frameBufferBound||this.attachFramebuffer(e,t,r);let d=this.getEncoder(a,n),h=d.allocate(t*r);return s.bindTexture(s.TEXTURE_2D,e),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.readPixels(0,0,t,r,s.RGBA,d.textureType,h),this.checkError(),d.decode(h,o)}isFramebufferReady(){return!0}getActiveTexture(){let e=this.gl;return`TEXTURE${e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){let r=this.gl;r.vertexAttribPointer(e,3,r.FLOAT,!1,20,0),r.enableVertexAttribArray(e),t!==-1&&(r.vertexAttribPointer(t,2,r.FLOAT,!1,20,12),r.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){let r=this.gl,o=r.createProgram();return r.attachShader(o,e),r.attachShader(o,t),r.linkProgram(o),o}compileShader(e,t){let r=this.gl,o=r.createShader(t);if(!o)throw new Error(`createShader() returned null with type ${t}`);if(r.shaderSource(o,e),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${r.getShaderInfoLog(o)}
Shader source:
${e}`);return o}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,r){let o=this.gl;o.activeTexture(o.TEXTURE0+t),this.checkError(),o.bindTexture(o.TEXTURE_2D,e),this.checkError(),o.uniform1i(r,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(Z.debug){let e=this.gl,t=e.getError(),r="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:r="INVALID_ENUM";break;case e.INVALID_VALUE:r="INVALID_VALUE";break;case e.INVALID_OPERATION:r="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:r="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:r="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:r="CONTEXT_LOST_WEBGL";break;default:r=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(r)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t,r=0){if(this.version===2)return new Jn(this.gl,t);switch(e){case"float":return r===1||this.isRenderFloat32Supported?new un(this.gl,t):new un(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new Zn(this.gl,t);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){let e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");let r=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){let e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){let e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);let r=this.version===2?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,r,1,1,0,e.RGBA,e.FLOAT,null);let o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);let a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(o),a}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let e=this.gl,t,r,o,a,n;try{t=e.createTexture(),r=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);let s=this.version===2?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,s,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),o=e.createShader(e.VERTEX_SHADER),!o||(e.shaderSource(o,"void main(){}"),e.compileShader(o),a=e.createShader(e.FRAGMENT_SHADER),!a)||(e.shaderSource(a,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(a),n=e.createProgram(),!n)?!1:(e.attachShader(n,o),e.attachShader(n,a),e.linkProgram(n),e.useProgram(n),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)}finally{e.disable(e.BLEND),n&&e.deleteProgram(n),o&&e.deleteShader(o),a&&e.deleteShader(a),r&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(r)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,t=this.disjointTimerQueryWebgl2Extension,r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(e){let t=!1,r=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let o=this.gl,a=this.disjointTimerQueryWebgl2Extension;t=o.getQueryParameter(e,o.QUERY_RESULT_AVAILABLE),r=o.getParameter(a.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return t&&!r}getTimerResult(e){let t=0;if(this.version===2){let r=this.gl;t=r.getQueryParameter(e,r.QUERY_RESULT),r.deleteQuery(e)}else throw new Error("WebGL1 profiling currently not supported");return t/1e6}async waitForQueryAndGetTime(e){return await gi(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),o===null?t=()=>!0:t=()=>{let a=r.clientWaitSync(o,0,0);return a===r.ALREADY_SIGNALED||a===r.CONDITION_SATISFIED},{query:o,isFencePassed:t}}async pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){let e=Hb(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:r}=this.itemsToPoll[t];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)&&await gi(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function ji(e){let t;if((!e||e==="webgl2")&&"webgl2"in Ur?t=Ur.webgl2:(!e||e==="webgl")&&"webgl"in Ur&&(t=Ur.webgl),!t)try{let o=jb();t=fp(o,e)}catch{let o=qb();t=fp(o,e)}e=e||t.version===1?"webgl":"webgl2";let r=t.gl;return Ur[e]=t,r.isContextLost()?(delete Ur[e],ji(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),t)}function fp(e,t){let r={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},o,a=r;if((!t||t==="webgl2")&&(o=e.getContext("webgl2",a),o))try{return new hn(o,2)}catch(n){ce.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${n}`)}if((!t||t==="webgl")&&(o=e.getContext("webgl",a)||e.getContext("experimental-webgl",a),o))try{return new hn(o,1)}catch(n){ce.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${n}`)}throw new Error("WebGL is not supported")}function qb(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let e=document.createElement("canvas");return e.width=1,e.height=1,e}function jb(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var Ur,cp=L(()=>{ut(),lp(),Ur={}}),vo,pp=L(()=>{vt(),ut(),up(),cp(),vo=class{get contextId(){return Z.webgl.contextId}set contextId(e){Z.webgl.contextId=e}get matmulMaxBatchSize(){return Z.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){Z.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return Z.webgl.textureCacheMode}set textureCacheMode(e){Z.webgl.textureCacheMode=e}get pack(){return Z.webgl.pack}set pack(e){Z.webgl.pack=e}get async(){return Z.webgl.async}set async(e){Z.webgl.async=e}initialize(){try{return this.glContext=ji(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),ce.setWithEnv(Z),Z.webgl.context||Object.defineProperty(Z.webgl,"context",{value:this.glContext.gl}),ce.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return ce.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new xo(this,e)}dispose(){this.glContext.dispose()}}});async function Yi(e){if(e){let t=typeof e=="string"?[e]:e;for(let r of t){let o=dp.get(r);if(o)return o;let a=await Xb(r);if(a)return a}}else return Yi(["webgl"]);throw new Error("no available backend to use")}async function Xb(e){let t=Yb;if(typeof t[e]<"u"&&Kb(t[e])){let r=t[e],o=r.initialize();if(typeof o=="object"&&"then"in o&&(o=await o),o)return dp.set(e,r),r}}function Kb(e){let t=e;return"initialize"in t&&typeof t.initialize=="function"&&"createSessionHandler"in t&&typeof t.createSessionHandler=="function"&&"dispose"in t&&typeof t.dispose=="function"}var dp,Yb,hp=L(()=>{pp(),dp=new Map,Yb={webgl:new vo}}),Xi,wo,mp=L(()=>{ut(),Xi=class{constructor(e,t){this.op=e,this.node=t}},wo=class{constructor(e,t,r){this.graph=e,this.profiler=r,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{let t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((r,o)=>new Xi(r,t[o])),this.reset(),this._starter=[],this._ops.forEach((r,o)=>{let a=!0;for(let n of r.node.inputs)if(!this._values[n]&&this.graph.getInputIndices().indexOf(n)===-1){a=!1;break}a&&this._starter.push(o)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let r=e.createInferenceHandler(),o=this.graph.getInputIndices();if(t.length!==o.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${t.length} expected: ${o.length}`);t.forEach((i,l)=>{let c=o[l];this._values[c]=i});let a=this._starter.slice(0),n=this.graph.getValues(),s=this.graph.getNodes(),d=0;for(;d<a.length;){let i=a[d++],l=this._ops[i],c=l.node.inputs.map(I=>this._values[I]);if(c.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${l.node}`);let g=c;ce.verbose("ExecPlan",`Runing op:${l.node.name} (${g.map((I,A)=>`'${l.node.inputs[A]}': ${I.type}[${I.dims.join(",")}]`).join(", ")})`);let y=await this.profiler.event("node",l.node.name,async()=>l.op.impl(r,g,l.op.context));if(y.length!==l.node.outputs.length)throw new Error("the size of output does not match model definition.");y.forEach((I,A)=>{let H=l.node.outputs[A];if(this._values[H])throw new Error(`output [${H}] already has value: op:${l.node.name}`);this._values[H]=I});let S=new Set;y.forEach((I,A)=>{let H=l.node.outputs[A];for(let N of n[H].to){let G=s[N],pe=!0;for(let Ne of G.inputs)if(!this._values[Ne]){pe=!1;break}pe&&S.add(N)}}),a.push(...S)}let h=[];for(let i=0;i<this.graph.getOutputIndices().length;i++){let l=this.graph.getOutputIndices()[i],c=this._values[l];if(c===void 0)throw new Error(`required output [${l}] does not have value`);l===0?await c.getData():c.data,h.push(c)}return ce.verbose("ExecPlan","disposing of inferenceHandler"),r.dispose(),h})}}}),oe,mt,mn,bp=L(()=>{tn(),oe=Er($r()),mr(),fe(),mt=W.experimental.fbs,mn=class Fg{constructor(t){if(this._attributes=new Map,t!=null){for(let r of t)r instanceof oe.onnx.AttributeProto?this._attributes.set(r.name,[Fg.getValue(r),Fg.getType(r)]):r instanceof mt.Attribute&&this._attributes.set(r.name(),[Fg.getValue(r),Fg.getType(r)]);if(this._attributes.size<t.length)throw new Error("duplicated attribute names")}}set(t,r,o){this._attributes.set(t,[o,r])}delete(t){this._attributes.delete(t)}getFloat(t,r){return this.get(t,"float",r)}getInt(t,r){return this.get(t,"int",r)}getString(t,r){return this.get(t,"string",r)}getTensor(t,r){return this.get(t,"tensor",r)}getFloats(t,r){return this.get(t,"floats",r)}getInts(t,r){return this.get(t,"ints",r)}getStrings(t,r){return this.get(t,"strings",r)}getTensors(t,r){return this.get(t,"tensors",r)}get(t,r,o){let a=this._attributes.get(t);if(a===void 0){if(o!==void 0)return o;throw new Error(`required attribute not found: ${t}`)}if(a[1]!==r)throw new Error(`type mismatch: expected ${r} but got ${a[1]}`);return a[0]}static getType(t){let r=t instanceof oe.onnx.AttributeProto?t.type:t.type();switch(r){case oe.onnx.AttributeProto.AttributeType.FLOAT:return"float";case oe.onnx.AttributeProto.AttributeType.INT:return"int";case oe.onnx.AttributeProto.AttributeType.STRING:return"string";case oe.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case oe.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case oe.onnx.AttributeProto.AttributeType.INTS:return"ints";case oe.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case oe.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${oe.onnx.AttributeProto.AttributeType[r]}`)}}static getValue(t){let r=t instanceof oe.onnx.AttributeProto?t.type:t.type();if(r===oe.onnx.AttributeProto.AttributeType.GRAPH||r===oe.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let o=this.getValueNoCheck(t);if(r===oe.onnx.AttributeProto.AttributeType.INT&&nt.isLong(o))return nt.longToNumber(o);if(r===oe.onnx.AttributeProto.AttributeType.INTS){let a=o,n=new Array(a.length);for(let s=0;s<a.length;s++){let d=a[s];n[s]=nt.longToNumber(d)}return n}if(r===oe.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof oe.onnx.AttributeProto?Fe.fromProto(o):Fe.fromOrtTensor(o);if(r===oe.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof oe.onnx.AttributeProto)return o.map(a=>Fe.fromProto(a));if(t instanceof mt.Attribute)return o.map(a=>Fe.fromOrtTensor(a))}return r===oe.onnx.AttributeProto.AttributeType.STRING&&t instanceof oe.onnx.AttributeProto?sn(o):r===oe.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof oe.onnx.AttributeProto?o.map(sn):o}static getValueNoCheck(t){return t instanceof oe.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(t):this.getValueNoCheckFromOrtFormat(t)}static getValueNoCheckFromOnnxFormat(t){switch(t.type){case oe.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case oe.onnx.AttributeProto.AttributeType.INT:return t.i;case oe.onnx.AttributeProto.AttributeType.STRING:return t.s;case oe.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case oe.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case oe.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case oe.onnx.AttributeProto.AttributeType.INTS:return t.ints;case oe.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case oe.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case oe.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error(`unsupported attribute type: ${oe.onnx.AttributeProto.AttributeType[t.type]}`)}}static getValueNoCheckFromOrtFormat(t){switch(t.type()){case mt.AttributeType.FLOAT:return t.f();case mt.AttributeType.INT:return t.i();case mt.AttributeType.STRING:return t.s();case mt.AttributeType.TENSOR:return t.t();case mt.AttributeType.GRAPH:return t.g();case mt.AttributeType.FLOATS:return t.floatsArray();case mt.AttributeType.INTS:{let r=[];for(let o=0;o<t.intsLength();o++)r.push(t.ints(o));return r}case mt.AttributeType.STRINGS:{let r=[];for(let o=0;o<t.stringsLength();o++)r.push(t.strings(o));return r}case mt.AttributeType.TENSORS:{let r=[];for(let o=0;o<t.tensorsLength();o++)r.push(t.tensors(o));return r}default:throw new Error(`unsupported attribute type: ${mt.AttributeType[t.type()]}`)}}}}),Ji,_o,Zi,kt,Oo,Ki,gp=L(()=>{bp(),tn(),Ji=Er($r()),mr(),fe(),_o=W.experimental.fbs,Zi={from:(e,t)=>new Ki(e,t)},kt=class{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=Ve.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}},Oo=class{constructor(e,t){e instanceof Ji.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new mn(e.attribute)):e instanceof _o.Node&&(this.name=t??e.name(),this.opType=e.opType(),this.attributes=new mn(Ve.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}},Ki=class{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof Ji.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else if(e instanceof _o.Graph)this.buildGraphFromOrtFormat(e);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(e){let t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let r=new Map;if(!e.input)throw new Error("missing information in graph: input");let o=[];for(let a of e.input){if(t.has(a.name))throw new Error(`duplicated input name: ${a.name}`);let n=this._allData.push(new kt(a))-1;t.set(a.name,n),o.push(a.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(let a of e.initializer){let n=t.get(a.name);if(n===void 0){let s=new kt;s.type={shape:{dims:Ve.tensorDimsFromProto(a.dims)},tensorType:Ve.tensorDataTypeFromProto(a.dataType)},n=this._allData.push(s)-1,t.set(a.name,n)}this._allData[n]._from=-1,this._allData[n].tensor=Fe.fromProto(a)}for(let a=0;a<this._allData.length;a++)this._allData[a].tensor||(this._allInputIndices.push(a),this._allInputNames.push(o[a]));if(!e.output)throw new Error("missing information in graph: output");for(let a of e.output){if(t.has(a.name))throw new Error(`duplicated output name: ${a.name}`);let n=this._allData.push(new kt(a))-1;t.set(a.name,n),this._allOutputIndices.push(n),this._allOutputNames.push(a.name)}if(!e.node)throw new Error("missing information in graph: node");for(let a of e.node){if(!a.name)for(let s=0;;s++){let d=`unnamed_${a.opType}_${s}`;if(!r.has(d)){a.name=d;break}}if(r.has(a.name))throw new Error(`duplicated node name: ${a.name}`);let n=this._nodes.push(new Oo(a))-1;r.set(a.name,n)}for(let a=0;a<this._nodes.length;a++){let n=this._nodes[a],s=e.node[a];if(!s.output)throw new Error(`missing output for node: ${s.name}`);for(let d of s.output){let h=t.get(d);if(typeof h>"u"&&(h=this._allData.push(new kt)-1,t.set(d,h)),n.outputs.push(h),this._allData[h]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${h}`);if(this._allData[h]._from=a,s.opType==="Constant"){if(!s.attribute||s.attribute.length!==1||!s.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!s.output||s.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[h]._from=-1,this._allData[h].tensor=Fe.fromProto(s.attribute[0].t)}}}for(let a=0;a<this._nodes.length;a++){let n=this._nodes[a],s=e.node[a];if(!s.input)throw new Error(`missing input for node: ${s.name}`);for(let d of s.input){let h=t.get(d);if(typeof h>"u"){if(d===""&&(s.input.length===3||s.input.length===4)&&s.opType==="Resize")continue;throw new Error(`unrecognized input '${d}' for node: ${s.name}`)}n.inputs.push(h),this._allData[h]._to.push(a)}}return!0}buildGraphFromOrtFormat(e){var a,n,s;let t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let r=new Map,o=[];for(let d=0;d<e.inputsLength();d++){let h=e.inputs(d);if(t.has(h))throw new Error(`duplicated input name: ${h}`);for(let i=0;i<e.nodeArgsLength();i++)if(((a=e.nodeArgs(i))==null?void 0:a.name())===h){let l=new kt;if(((s=(n=e.nodeArgs(i))==null?void 0:n.type())==null?void 0:s.valueType())!==_o.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let c=e.nodeArgs(i).type().value(new _o.TensorTypeAndShape),g=Ve.tensorDataTypeFromProto(c.elemType()),y=c.shape(),S=[];for(let A=0;A<y.dimLength();A++)S.push(nt.longToNumber(y.dim(A).value().dimValue()));l.type={shape:{dims:S},tensorType:g};let I=this._allData.push(l)-1;t.set(h,I),o.push(h)}}for(let d=0;d<e.initializersLength();d++){let h=e.initializers(d),i=t.get(h.name());if(i===void 0){let l=new kt,c=Ve.tensorDimsFromORTFormat(h),g=Ve.tensorDataTypeFromProto(h.dataType());l.type={shape:{dims:c},tensorType:g},i=this._allData.push(l)-1,t.set(h.name(),i)}this._allData[i]._from=-1,this._allData[i].tensor=Fe.fromOrtTensor(h)}for(let d=0;d<this._allData.length;d++)this._allData[d].tensor||(this._allInputIndices.push(d),this._allInputNames.push(o[d]));for(let d=0;d<e.outputsLength();d++){let h=e.outputs(d);if(t.has(h))throw new Error(`duplicated output name: ${h}`);let i=this._allData.push(new kt)-1;t.set(h,i),this._allOutputIndices.push(i),this._allOutputNames.push(h)}if(!e.nodes)throw new Error("missing information in graph: node");for(let d=0;d<e.nodesLength();d++){let h=e.nodes(d),i=h.name();if(!i)for(let c=0;i=`unnamed_${h.opType()}_${c}`,!!r.has(i);c++);if(r.has(i))throw new Error(`duplicated node name: ${i}`);let l=this._nodes.push(new Oo(h,i))-1;r.set(i,l)}for(let d=0;d<this._nodes.length;d++){let h=this._nodes[d],i=e.nodes(d);if(i==null)throw new Error(`No node exists at index ${d}`);if((i==null?void 0:i.outputsLength())===0)throw new Error(`missing output for node: ${i.name}`);for(let l=0;l<(i==null?void 0:i.outputsLength());l++){let c=i==null?void 0:i.outputs(l),g=t.get(c);if(typeof g>"u"&&(g=this._allData.push(new kt)-1,t.set(c,g)),h.outputs.push(g),this._allData[g]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${g}`);if(this._allData[g]._from=d,i.opType()==="Constant"){if(i.attributesLength()!==1||!i.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(i.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");h.outputs.pop(),h.executeNode=!1,this._allData[g]._from=-1,this._allData[g].tensor=Fe.fromOrtTensor(i.attributes(0).t())}}}for(let d=0;d<this._nodes.length;d++){let h=this._nodes[d],i=e.nodes(d);if(i.inputsLength()===0)throw new Error(`missing input for node: ${i.name}`);for(let l=0;l<i.inputsLength();l++){let c=i.inputs(l),g=t.get(c);if(typeof g>"u")throw new Error(`unrecognized input '${c}' for node: ${i.name()}`);h.inputs.push(g),this._allData[g]._to.push(d)}}}checkIsAcyclic(){let e=new Set;this._allInputIndices.forEach(o=>{this._allData[o]._to.forEach(a=>{e.add(a)})});let t=Array.from(e),r=new Array(this._nodes.length).fill("white");for(;t.length>0;){let o=t.pop();r[o]==="gray"?r[o]="black":(t.push(o),r[o]="gray",this._nodes[o].outputs.forEach(a=>{let n=this._allData[a];if(typeof n.tensor<"u")throw new Error("node outputs should not be initialized");if(n._from!==o)throw new Error("from property of the Value object doesn't match index of Node being processed");n._to.forEach(s=>{if(r[s]==="gray")throw new Error("model graph is cyclic");r[s]==="white"&&t.push(s)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0,t=new Array(this._nodes.length,0),r=0;for(let o=0;o<this._nodes.length;o++)t[o]=r,this._nodes[o].executeNode?(r!==o&&(this._nodes[r]=this._nodes[o]),r++):this._nodes[o].outputs.forEach(a=>{this._allData[a]._from=-2});this._nodes.splice(r,this._nodes.length-r);for(let o=0;o<this._allData.length;o++){let a=this._allData[o];a._from!==void 0&&a._from!==-1&&a._from!==-2&&(a._from=t[a._from]);for(let n=0;n<a._to.length;n++)if(a._to[n]>=0)a._to[n]=t[a._to[n]];else throw new Error("Trying to update a removed node")}e=0;for(let o=0;o<this._allData.length;o++){if(this._allData[o].from===-2&&this._allOutputIndices.indexOf(o+e)===-1){e++,this._allData.splice(o,1),o--;continue}if(e>0){let a=-1;this._allData[o].from!==void 0&&this._allData[o].from!==-1?(a=this._nodes[this._allData[o].from].outputs.indexOf(o+e),a!==-1&&(this._nodes[this._allData[o].from].outputs[a]=o)):(a=this._allInputIndices.indexOf(o+e),a!==-1&&(this._allInputIndices[a]=o)),this._allData[o].to.forEach(n=>{a=this._nodes[n].inputs.indexOf(o+e),a!==-1&&(this._nodes[n].inputs[a]=o)}),this._allData[o].to.length===0&&(a=this._allOutputIndices.indexOf(o+e),a!==-1&&(this._allOutputIndices[a]=o))}}}deleteNode(e){let t=this._nodes[e];if(t.outputs.length>1){for(let s=1;s<t.outputs.length;s++)if(this._allData[t.outputs[s]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}t.executeNode=!1;let r=t.inputs[0],o=t.outputs[0],a=this._allData[o].to;for(let s=0;s<t.inputs.length;s++){let d=this._allData[t.inputs[s]].to.indexOf(e);if(d===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[t.inputs[s]].to.splice(d,1)}this._allData[o]._to=[];let n=this._allOutputIndices.indexOf(o);if(n!==-1&&(this._allOutputIndices[n]=r),a&&a.length>0)for(let s of a){let d=this._nodes[s].inputs.indexOf(o);if(d===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[s].inputs[d]=r,this._allData[r].to.push(s)}}removeAllDropoutNodes(){let e=0;for(let t of this._nodes){if(t.opType==="Dropout"){if(t.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(t.outputs.length!==1&&t.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(t.outputs.length===2&&this._allData[t.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(let t of this._nodes)t.opType==="Identity"&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let e of this._nodes)if(e.opType==="Conv"){let t=this._allData[e.outputs[0]]._to;if(t.length===1&&this.isActivation(this._nodes[t[0]])){let r=this._nodes[t[0]];if(r.opType==="Clip")if(r.inputs.length===1)try{e.attributes.set("activation_params","floats",[r.attributes.getFloat("min"),r.attributes.getFloat("max")])}catch{e.attributes.set("activation_params","floats",[dr,hr])}else if(r.inputs.length>=3&&this._allData[r.inputs[1]].tensor!==void 0&&this._allData[r.inputs[2]].tensor!==void 0)e.attributes.set("activation_params","floats",[this._allData[r.inputs[1]].tensor.floatData[0],this._allData[r.inputs[2]].tensor.floatData[0]]);else continue;e.attributes.set("activation","string",r.opType),this.deleteNode(t[0])}}}}}),yp,Jb,Io,Tp=L(()=>{Wn(),gp(),tn(),yp=Er($r()),fe(),Jb=W.experimental.fbs,Io=class{constructor(){}load(e,t,r){if(!r)try{this.loadFromOnnxFormat(e,t);return}catch(o){if(r!==void 0)throw o}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){let r=yp.onnx.ModelProto.decode(e);if(nt.longToNumber(r.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=r.opsetImport.map(o=>({domain:o.domain,version:nt.longToNumber(o.version)})),this._graph=Zi.from(r.graph,t)}loadFromOrtFormat(e,t){let r=new _.ByteBuffer(e),o=Jb.InferenceSession.getRootAsInferenceSession(r).model();if(nt.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let a=0;a<o.opsetImportLength();a++){let n=o.opsetImport(a);this._opsets.push({domain:n==null?void 0:n.domain(),version:nt.longToNumber(n.version())})}this._graph=Zi.from(o.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}}),So,xp=L(()=>{hp(),mp(),ut(),Tp(),So=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=zn.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,r){await this.profiler.event("session","Session.loadModel",async()=>{let o=await Yi(this.backendHint);if(this.sessionHandler=o.createSessionHandler(this.context),this._model=new Io,typeof e=="string"){let a=e.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let n=await(void 0)(e);this.initialize(n,a)}else{let n=await(await fetch(e)).arrayBuffer();this.initialize(new Uint8Array(n),a)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{let a=new Uint8Array(e,t||0,r||e.byteLength);this.initialize(a)}})}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let r=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,r,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new wo(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let t=this.normalizeAndValidateInputs(e),r=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(r)})}normalizeAndValidateInputs(e){let t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error(`incorrect input array length: expected ${t.length} but got ${e.length}`)}else{if(e.size!==t.length)throw new Error(`incorrect input map size: expected ${t.length} but got ${e.size}`);let r=new Array(e.size),o=0;for(let a=0;a<t.length;++a){let n=e.get(t[a]);if(!n)throw new Error(`missing input tensor for: '${name}'`);r[o++]=n}e=r}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let r=this._model.graph.getInputIndices(),o=this._model.graph.getValues(),a=new Array(r.length);for(let n=0;n<r.length;++n){let s=o[r[n]];a[n]=s.type.shape.dims,this.context.graphInputTypes.push(s.type.tensorType),this.context.graphInputDims.push(e[n].dims)}this.validateInputTensorDims(a,e,!0)}else this.validateInputTensorDims(this.context.graphInputDims,e,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let r=0;r<t.length;r++){let o=e[r],a=t[r].type;if(o!==a)throw new Error(`input tensor[${r}] check failed: expected type '${o}' but got ${a}`)}}validateInputTensorDims(e,t,r){for(let o=0;o<t.length;o++){let a=e[o],n=t[o].dims;if(!this.compareTensorDims(a,n,r))throw new Error(`input tensor[${o}] check failed: expected shape '[${a.join(",")}]' but got [${n.join(",")}]`)}}compareTensorDims(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(e[o]!==t[o]&&(!r||e[o]!==0))return!1;return!0}createOutput(e){let t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");let r=new Map;for(let o=0;o<t.length;++o)r.set(t[o],e[o]);return r}initializeOps(e){let t=e.getNodes();this._ops=new Array(t.length);for(let r=0;r<t.length;r++)this._ops[r]=this.sessionHandler.resolve(t[r],this._model.opsets,e)}}}),Ao,vp=L(()=>{vt(),mr(),Ao=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,r){let o=new Map;for(let s in e)if(Object.hasOwnProperty.call(e,s)){let d=e[s];o.set(s,new Fe(d.dims,d.type,void 0,void 0,d.data))}let a=await this.session.run(o),n={};return a.forEach((s,d)=>{n[d]=new Re(s.type,s.data,s.dims)}),n}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}}),wp={};Pr(wp,{onnxjsBackend:()=>Qb});var Qi,Qb,_p=L(()=>{xp(),vp(),Qi=class{async init(){}async createInferenceSessionHandler(e,t){let r=new So(t);return typeof e=="string"?await r.loadModel(e):await r.loadModel(e),new Ao(r)}},Qb=new Qi}),ea={};Pr(ea,{createReadStream:()=>Op,readFile:()=>eg,readFileSync:()=>tg});var eg,tg,Op,ta=L(()=>{eg=void 0,tg=void 0,Op=void 0}),ra={};Pr(ra,{join:()=>rg});var rg,na=L(()=>{rg=void 0}),Ap=me((e,t)=>{var r=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(a={}){var n=a,s,d;n.ready=new Promise((E,M)=>{s=E,d=M});var h=Object.assign({},n),i="./this.program",l=typeof window=="object",c=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",S,I,A;if(g){var H=(ta(),rr(ea)),N=(na(),rr(ra));y=c?N.dirname(y)+"/":__dirname+"/",S=(E,M)=>(E=Sr(E)?new URL(E):N.normalize(E),H.readFileSync(E,M?void 0:"utf8")),A=E=>(E=S(E,!0),E.buffer||(E=new Uint8Array(E)),E),I=(E,M,j,ne=!0)=>{E=Sr(E)?new URL(E):N.normalize(E),H.readFile(E,ne?void 0:"utf8",(ke,Je)=>{ke?j(ke):M(ne?Je.buffer:Je)})},!n.thisProgram&&1<process.argv.length&&(i=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(l||c)&&(c?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),o&&(y=o),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",S=E=>{var M=new XMLHttpRequest;return M.open("GET",E,!1),M.send(null),M.responseText},c&&(A=E=>{var M=new XMLHttpRequest;return M.open("GET",E,!1),M.responseType="arraybuffer",M.send(null),new Uint8Array(M.response)}),I=(E,M,j)=>{var ne=new XMLHttpRequest;ne.open("GET",E,!0),ne.responseType="arraybuffer",ne.onload=()=>{ne.status==200||ne.status==0&&ne.response?M(ne.response):j()},ne.onerror=j,ne.send(null)});var G=console.log.bind(console),pe=console.error.bind(console);Object.assign(n,h),h=null,typeof WebAssembly!="object"&&st("no native wasm support detected");var Ne,ze=!1,Tt,yt,Ue,Bt,ni;function ii(){var E=Ne.buffer;n.HEAP8=Tt=new Int8Array(E),n.HEAP16=new Int16Array(E),n.HEAPU8=yt=new Uint8Array(E),n.HEAPU16=new Uint16Array(E),n.HEAP32=Ue=new Int32Array(E),n.HEAPU32=Bt=new Uint32Array(E),n.HEAPF32=new Float32Array(E),n.HEAPF64=ni=new Float64Array(E)}var On=[],et=[],er=[],fr=0,at=null;function st(E){throw E="Aborted("+E+")",pe(E),ze=!0,E=new WebAssembly.RuntimeError(E+". Build with -sASSERTIONS for more info."),d(E),E}var qt=E=>E.startsWith("data:application/octet-stream;base64,"),Sr=E=>E.startsWith("file://"),Ht;if(Ht="ort-wasm.wasm",!qt(Ht)){var qr=Ht;Ht=n.locateFile?n.locateFile(qr,y):y+qr}function Mo(E){if(A)return A(E);throw"both async and sync fetching of the wasm failed"}function oi(E){if(l||c){if(typeof fetch=="function"&&!Sr(E))return fetch(E,{credentials:"same-origin"}).then(M=>{if(!M.ok)throw"failed to load wasm binary file at '"+E+"'";return M.arrayBuffer()}).catch(()=>Mo(E));if(I)return new Promise((M,j)=>{I(E,ne=>M(new Uint8Array(ne)),j)})}return Promise.resolve().then(()=>Mo(E))}function nn(E,M,j){return oi(E).then(ne=>WebAssembly.instantiate(ne,M)).then(ne=>ne).then(j,ne=>{pe(`failed to asynchronously prepare wasm: ${ne}`),st(ne)})}function Or(E,M){var j=Ht;return typeof WebAssembly.instantiateStreaming!="function"||qt(j)||Sr(j)||g||typeof fetch!="function"?nn(j,E,M):fetch(j,{credentials:"same-origin"}).then(ne=>WebAssembly.instantiateStreaming(ne,E).then(M,function(ke){return pe(`wasm streaming compile failed: ${ke}`),pe("falling back to ArrayBuffer instantiation"),nn(j,E,M)}))}var on,vr={919888:(E,M,j,ne)=>{if(typeof n>"u"||!n.za)return 1;if(E=C(E>>>0),E.startsWith("./")&&(E=E.substring(2)),E=n.za.get(E),!E)return 2;if(M>>>=0,j>>>=0,M+j>E.byteLength)return 3;try{return yt.set(E.subarray(M,M+j),ne>>>0>>>0),0}catch{return 4}}};function Kt(E){this.xa=E-24,this.Ha=function(M){Bt[this.xa+4>>>2>>>0]=M},this.Ga=function(M){Bt[this.xa+8>>>2>>>0]=M},this.Aa=function(M,j){this.Fa(),this.Ha(M),this.Ga(j)},this.Fa=function(){Bt[this.xa+16>>>2>>>0]=0}}var Kr=0,In=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,An=(E,M,j)=>{M>>>=0;var ne=M+j;for(j=M;E[j]&&!(j>=ne);)++j;if(16<j-M&&E.buffer&&In)return In.decode(E.subarray(M,j));for(ne="";M<j;){var ke=E[M++];if(ke&128){var Je=E[M++]&63;if((ke&224)==192)ne+=String.fromCharCode((ke&31)<<6|Je);else{var Dt=E[M++]&63;ke=(ke&240)==224?(ke&15)<<12|Je<<6|Dt:(ke&7)<<18|Je<<12|Dt<<6|E[M++]&63,65536>ke?ne+=String.fromCharCode(ke):(ke-=65536,ne+=String.fromCharCode(55296|ke>>10,56320|ke&1023))}}else ne+=String.fromCharCode(ke)}return ne},C=(E,M)=>(E>>>=0)?An(yt,E,M):"",F=E=>{for(var M=0,j=0;j<E.length;++j){var ne=E.charCodeAt(j);127>=ne?M++:2047>=ne?M+=2:55296<=ne&&57343>=ne?(M+=4,++j):M+=3}return M},X=(E,M,j,ne)=>{if(j>>>=0,!(0<ne))return 0;var ke=j;ne=j+ne-1;for(var Je=0;Je<E.length;++Je){var Dt=E.charCodeAt(Je);if(55296<=Dt&&57343>=Dt){var jr=E.charCodeAt(++Je);Dt=65536+((Dt&1023)<<10)|jr&1023}if(127>=Dt){if(j>=ne)break;M[j++>>>0]=Dt}else{if(2047>=Dt){if(j+1>=ne)break;M[j++>>>0]=192|Dt>>6}else{if(65535>=Dt){if(j+2>=ne)break;M[j++>>>0]=224|Dt>>12}else{if(j+3>=ne)break;M[j++>>>0]=240|Dt>>18,M[j++>>>0]=128|Dt>>12&63}M[j++>>>0]=128|Dt>>6&63}M[j++>>>0]=128|Dt&63}}return M[j>>>0]=0,j-ke},de=E=>E%4===0&&(E%100!==0||E%400===0),ie=[0,31,60,91,121,152,182,213,244,274,305,335],Te=[0,31,59,90,120,151,181,212,243,273,304,334],Ae=E=>{var M=F(E)+1,j=Pn(M);return j&&X(E,yt,j,M),j},ve=[],_e={},he=()=>{if(!Ce){var E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"},M;for(M in _e)_e[M]===void 0?delete E[M]:E[M]=_e[M];var j=[];for(M in E)j.push(`${M}=${E[M]}`);Ce=j}return Ce},Ce,He=[null,[],[]],Le=[31,29,31,30,31,30,31,31,30,31,30,31],Qe=[31,28,31,30,31,30,31,31,30,31,30,31];function gt(E){var M=Array(F(E)+1);return X(E,M,0,M.length),M}function Ot(E,M,j,ne){function ke(J,Gt,_r){for(J=typeof J=="number"?J.toString():J||"";J.length<Gt;)J=_r[0]+J;return J}function Je(J,Gt){return ke(J,Gt,"0")}function Dt(J,Gt){function _r(eu){return 0>eu?-1:0<eu?1:0}var Cs;return(Cs=_r(J.getFullYear()-Gt.getFullYear()))===0&&(Cs=_r(J.getMonth()-Gt.getMonth()))===0&&(Cs=_r(J.getDate()-Gt.getDate())),Cs}function jr(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function jn(J){var Gt=J.ta;for(J=new Date(new Date(J.ua+1900,0,1).getTime());0<Gt;){var _r=J.getMonth(),Cs=(de(J.getFullYear())?Le:Qe)[_r];if(Gt>Cs-J.getDate())Gt-=Cs-J.getDate()+1,J.setDate(1),11>_r?J.setMonth(_r+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+Gt);break}}return _r=new Date(J.getFullYear()+1,0,4),Gt=jr(new Date(J.getFullYear(),0,4)),_r=jr(_r),0>=Dt(Gt,J)?0>=Dt(_r,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}E>>>=0,M>>>=0,j>>>=0,ne>>>=0;var vn=Bt[ne+40>>>2>>>0];ne={Da:Ue[ne>>>2>>>0],Ca:Ue[ne+4>>>2>>>0],va:Ue[ne+8>>>2>>>0],ya:Ue[ne+12>>>2>>>0],wa:Ue[ne+16>>>2>>>0],ua:Ue[ne+20>>>2>>>0],oa:Ue[ne+24>>>2>>>0],ta:Ue[ne+28>>>2>>>0],Ia:Ue[ne+32>>>2>>>0],Ba:Ue[ne+36>>>2>>>0],Ea:vn?C(vn):""},j=C(j),vn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _n in vn)j=j.replace(new RegExp(_n,"g"),vn[_n]);var wa="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ga="January February March April May June July August September October November December".split(" ");vn={"%a":J=>wa[J.oa].substring(0,3),"%A":J=>wa[J.oa],"%b":J=>Ga[J.wa].substring(0,3),"%B":J=>Ga[J.wa],"%C":J=>Je((J.ua+1900)/100|0,2),"%d":J=>Je(J.ya,2),"%e":J=>ke(J.ya,2," "),"%g":J=>jn(J).toString().substring(2),"%G":J=>jn(J),"%H":J=>Je(J.va,2),"%I":J=>(J=J.va,J==0?J=12:12<J&&(J-=12),Je(J,2)),"%j":J=>{for(var Gt=0,_r=0;_r<=J.wa-1;Gt+=(de(J.ua+1900)?Le:Qe)[_r++]);return Je(J.ya+Gt,3)},"%m":J=>Je(J.wa+1,2),"%M":J=>Je(J.Ca,2),"%n":()=>`
`,"%p":J=>0<=J.va&&12>J.va?"AM":"PM","%S":J=>Je(J.Da,2),"%t":()=>"	","%u":J=>J.oa||7,"%U":J=>Je(Math.floor((J.ta+7-J.oa)/7),2),"%V":J=>{var Gt=Math.floor((J.ta+7-(J.oa+6)%7)/7);if(2>=(J.oa+371-J.ta-2)%7&&Gt++,Gt)Gt==53&&(_r=(J.oa+371-J.ta)%7,_r==4||_r==3&&de(J.ua)||(Gt=1));else{Gt=52;var _r=(J.oa+7-J.ta-1)%7;(_r==4||_r==5&&de(J.ua%400-1))&&Gt++}return Je(Gt,2)},"%w":J=>J.oa,"%W":J=>Je(Math.floor((J.ta+7-(J.oa+6)%7)/7),2),"%y":J=>(J.ua+1900).toString().substring(2),"%Y":J=>J.ua+1900,"%z":J=>{J=J.Ba;var Gt=0<=J;return J=Math.abs(J)/60,(Gt?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.Ea,"%%":()=>"%"},j=j.replace(/%%/g,"\0\0");for(_n in vn)j.includes(_n)&&(j=j.replace(new RegExp(_n,"g"),vn[_n](ne)));return j=j.replace(/\0\0/g,"%"),_n=gt(j),_n.length>M?0:(Tt.set(_n,E>>>0),_n.length-1)}var Wt={a:function(E,M,j){throw E>>>=0,new Kt(E).Aa(M>>>0,j>>>0),Kr=E,Kr},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(E,M,j){E=M+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*M:NaN,j>>>=0,E=new Date(1e3*E),Ue[j>>>2>>>0]=E.getUTCSeconds(),Ue[j+4>>>2>>>0]=E.getUTCMinutes(),Ue[j+8>>>2>>>0]=E.getUTCHours(),Ue[j+12>>>2>>>0]=E.getUTCDate(),Ue[j+16>>>2>>>0]=E.getUTCMonth(),Ue[j+20>>>2>>>0]=E.getUTCFullYear()-1900,Ue[j+24>>>2>>>0]=E.getUTCDay(),Ue[j+28>>>2>>>0]=(E.getTime()-Date.UTC(E.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(E,M,j){E=M+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*M:NaN,j>>>=0,E=new Date(1e3*E),Ue[j>>>2>>>0]=E.getSeconds(),Ue[j+4>>>2>>>0]=E.getMinutes(),Ue[j+8>>>2>>>0]=E.getHours(),Ue[j+12>>>2>>>0]=E.getDate(),Ue[j+16>>>2>>>0]=E.getMonth(),Ue[j+20>>>2>>>0]=E.getFullYear()-1900,Ue[j+24>>>2>>>0]=E.getDay(),Ue[j+28>>>2>>>0]=(de(E.getFullYear())?ie:Te)[E.getMonth()]+E.getDate()-1|0,Ue[j+36>>>2>>>0]=-(60*E.getTimezoneOffset()),M=new Date(E.getFullYear(),6,1).getTimezoneOffset();var ne=new Date(E.getFullYear(),0,1).getTimezoneOffset();Ue[j+32>>>2>>>0]=(M!=ne&&E.getTimezoneOffset()==Math.min(ne,M))|0},p:function(E){E>>>=0;var M=new Date(Ue[E+20>>>2>>>0]+1900,Ue[E+16>>>2>>>0],Ue[E+12>>>2>>>0],Ue[E+8>>>2>>>0],Ue[E+4>>>2>>>0],Ue[E>>>2>>>0],0),j=Ue[E+32>>>2>>>0],ne=M.getTimezoneOffset(),ke=new Date(M.getFullYear(),6,1).getTimezoneOffset(),Je=new Date(M.getFullYear(),0,1).getTimezoneOffset(),Dt=Math.min(Je,ke);return 0>j?Ue[E+32>>>2>>>0]=+(ke!=Je&&Dt==ne):0<j!=(Dt==ne)&&(ke=Math.max(Je,ke),M.setTime(M.getTime()+6e4*((0<j?Dt:ke)-ne))),Ue[E+24>>>2>>>0]=M.getDay(),Ue[E+28>>>2>>>0]=(de(M.getFullYear())?ie:Te)[M.getMonth()]+M.getDate()-1|0,Ue[E>>>2>>>0]=M.getSeconds(),Ue[E+4>>>2>>>0]=M.getMinutes(),Ue[E+8>>>2>>>0]=M.getHours(),Ue[E+12>>>2>>>0]=M.getDate(),Ue[E+16>>>2>>>0]=M.getMonth(),Ue[E+20>>>2>>>0]=M.getYear(),E=M.getTime(),isNaN(E)?(Ue[Yr()>>>2>>>0]=61,E=-1):E/=1e3,Gs((on=E,1<=+Math.abs(on)?0<on?+Math.floor(on/4294967296)>>>0:~~+Math.ceil((on-+(~~on>>>0))/4294967296)>>>0:0)),E>>>0},l:function(){return-52},m:function(){},t:function(E,M,j){function ne(jn){return(jn=jn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?jn[1]:"GMT"}j>>>=0;var ke=new Date().getFullYear(),Je=new Date(ke,0,1),Dt=new Date(ke,6,1);ke=Je.getTimezoneOffset();var jr=Dt.getTimezoneOffset();Bt[E>>>0>>>2>>>0]=60*Math.max(ke,jr),Ue[M>>>0>>>2>>>0]=+(ke!=jr),E=ne(Je),M=ne(Dt),E=Ae(E),M=Ae(M),jr<ke?(Bt[j>>>2>>>0]=E,Bt[j+4>>>2>>>0]=M):(Bt[j>>>2>>>0]=M,Bt[j+4>>>2>>>0]=E)},d:()=>{st("")},B:function(E,M,j){E>>>=0,M>>>=0,j>>>=0,ve.length=0;for(var ne;ne=yt[M++>>>0];){var ke=ne!=105;ke&=ne!=112,j+=ke&&j%8?4:0,ve.push(ne==112?Bt[j>>>2>>>0]:ne==105?Ue[j>>>2>>>0]:ni[j>>>3>>>0]),j+=ke?8:4}return vr[E].apply(null,ve)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(E,M,j){return M>>>=0,yt.copyWithin(E>>>0>>>0,M>>>0,M+(j>>>0)>>>0)},s:function(E){E>>>=0;var M=yt.length;if(4294901760<E)return!1;for(var j=1;4>=j;j*=2){var ne=M*(1+.2/j);ne=Math.min(ne,E+100663296);var ke=Math;ne=Math.max(E,ne);e:{ke=(ke.min.call(ke,4294901760,ne+(65536-ne%65536)%65536)-Ne.buffer.byteLength+65535)/65536;try{Ne.grow(ke),ii();var Je=1;break e}catch{}Je=void 0}if(Je)return!0}return!1},C:function(E,M){E>>>=0,M>>>=0;var j=0;return he().forEach((ne,ke)=>{var Je=M+j;for(ke=Bt[E+4*ke>>>2>>>0]=Je,Je=0;Je<ne.length;++Je)Tt[ke++>>>0>>>0]=ne.charCodeAt(Je);Tt[ke>>>0>>>0]=0,j+=ne.length+1}),0},D:function(E,M){E>>>=0,M>>>=0;var j=he();Bt[E>>>2>>>0]=j.length;var ne=0;return j.forEach(ke=>ne+=ke.length+1),Bt[M>>>2>>>0]=ne,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(E,M,j,ne){M>>>=0,j>>>=0,ne>>>=0;for(var ke=0,Je=0;Je<j;Je++){var Dt=Bt[M>>>2>>>0],jr=Bt[M+4>>>2>>>0];M+=8;for(var jn=0;jn<jr;jn++){var vn=yt[Dt+jn>>>0],_n=He[E];vn===0||vn===10?((E===1?G:pe)(An(_n,0)),_n.length=0):_n.push(vn)}ke+=jr}return Bt[ne>>>2>>>0]=ke,0},r:Ot,c:function(E,M,j,ne){return Ot(E>>>0,M>>>0,j>>>0,ne>>>0)}},Ie=function(){function E(j){return Ie=j.exports,Ie=Xr(),Ne=Ie.K,ii(),et.unshift(Ie.L),fr--,fr==0&&at&&(j=at,at=null,j()),Ie}var M={a:Wt};if(fr++,n.instantiateWasm)try{return n.instantiateWasm(M,E)}catch(j){pe(`Module.instantiateWasm callback failed with error: ${j}`),d(j)}return Or(M,function(j){E(j.instance)}).catch(d),{}}();n._OrtInit=(E,M)=>(n._OrtInit=Ie.M)(E,M),n._OrtGetLastError=(E,M)=>(n._OrtGetLastError=Ie.N)(E,M),n._OrtCreateSessionOptions=(E,M,j,ne,ke,Je,Dt,jr,jn,vn)=>(n._OrtCreateSessionOptions=Ie.O)(E,M,j,ne,ke,Je,Dt,jr,jn,vn),n._OrtAppendExecutionProvider=(E,M)=>(n._OrtAppendExecutionProvider=Ie.P)(E,M),n._OrtAddFreeDimensionOverride=(E,M,j)=>(n._OrtAddFreeDimensionOverride=Ie.Q)(E,M,j),n._OrtAddSessionConfigEntry=(E,M,j)=>(n._OrtAddSessionConfigEntry=Ie.R)(E,M,j),n._OrtReleaseSessionOptions=E=>(n._OrtReleaseSessionOptions=Ie.S)(E),n._OrtCreateSession=(E,M,j)=>(n._OrtCreateSession=Ie.T)(E,M,j),n._OrtReleaseSession=E=>(n._OrtReleaseSession=Ie.U)(E),n._OrtGetInputOutputCount=(E,M,j)=>(n._OrtGetInputOutputCount=Ie.V)(E,M,j),n._OrtGetInputName=(E,M)=>(n._OrtGetInputName=Ie.W)(E,M),n._OrtGetOutputName=(E,M)=>(n._OrtGetOutputName=Ie.X)(E,M),n._OrtFree=E=>(n._OrtFree=Ie.Y)(E),n._OrtCreateTensor=(E,M,j,ne,ke,Je)=>(n._OrtCreateTensor=Ie.Z)(E,M,j,ne,ke,Je),n._OrtGetTensorData=(E,M,j,ne,ke)=>(n._OrtGetTensorData=Ie._)(E,M,j,ne,ke),n._OrtReleaseTensor=E=>(n._OrtReleaseTensor=Ie.$)(E),n._OrtCreateRunOptions=(E,M,j,ne)=>(n._OrtCreateRunOptions=Ie.aa)(E,M,j,ne),n._OrtAddRunConfigEntry=(E,M,j)=>(n._OrtAddRunConfigEntry=Ie.ba)(E,M,j),n._OrtReleaseRunOptions=E=>(n._OrtReleaseRunOptions=Ie.ca)(E),n._OrtCreateBinding=E=>(n._OrtCreateBinding=Ie.da)(E),n._OrtBindInput=(E,M,j)=>(n._OrtBindInput=Ie.ea)(E,M,j),n._OrtBindOutput=(E,M,j,ne)=>(n._OrtBindOutput=Ie.fa)(E,M,j,ne),n._OrtClearBoundOutputs=E=>(n._OrtClearBoundOutputs=Ie.ga)(E),n._OrtReleaseBinding=E=>(n._OrtReleaseBinding=Ie.ha)(E),n._OrtRunWithBinding=(E,M,j,ne,ke)=>(n._OrtRunWithBinding=Ie.ia)(E,M,j,ne,ke),n._OrtRun=(E,M,j,ne,ke,Je,Dt,jr)=>(n._OrtRun=Ie.ja)(E,M,j,ne,ke,Je,Dt,jr),n._OrtEndProfiling=E=>(n._OrtEndProfiling=Ie.ka)(E);var Yr=()=>(Yr=Ie.la)(),Pn=n._malloc=E=>(Pn=n._malloc=Ie.ma)(E);n._free=E=>(n._free=Ie.na)(E);var Gs=E=>(Gs=Ie.pa)(E),si=()=>(si=Ie.qa)(),qs=E=>(qs=Ie.ra)(E),Me=E=>(Me=Ie.sa)(E);function Xr(){var E=Ie;E=Object.assign({},E);var M=ne=>()=>ne()>>>0,j=ne=>ke=>ne(ke)>>>0;return E.la=M(E.la),E.ma=j(E.ma),E.qa=M(E.qa),E.sa=j(E.sa),E}n.stackAlloc=Me,n.stackSave=si,n.stackRestore=qs,n.UTF8ToString=C,n.stringToUTF8=(E,M,j)=>X(E,yt,M,j),n.lengthBytesUTF8=F;var Jo;at=function E(){Jo||_a(),Jo||(at=E)};function _a(){if(!(0<fr)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;){var E=n.preRun.shift();On.unshift(E)}for(;0<On.length;)On.shift()(n);if(!(0<fr||Jo||(Jo=!0,n.calledRun=!0,ze))){for(;0<et.length;)et.shift()(n);for(s(n);0<er.length;)er.shift()(n)}}}return _a(),a.ready}})();typeof e=="object"&&typeof t=="object"?t.exports=r:typeof define=="function"&&define.amd&&define([],()=>r)}),Pp=me(()=>{}),Ep=me(()=>{}),Dp={};Pr(Dp,{cpus:()=>ng});var ng,Lp=L(()=>{ng=void 0}),Cp=me((e,t)=>{var r=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(a={}){function n(){return er.buffer!=qt.buffer&&oi(),qt}function s(){return er.buffer!=qt.buffer&&oi(),Sr}function d(){return er.buffer!=qt.buffer&&oi(),Ht}function h(){return er.buffer!=qt.buffer&&oi(),qr}function i(){return er.buffer!=qt.buffer&&oi(),Mo}var l=a,c,g;l.ready=new Promise((v,O)=>{c=v,g=O});var y=Object.assign({},l),S="./this.program",I=(v,O)=>{throw O},A=typeof window=="object",H=typeof importScripts=="function",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",G=l.ENVIRONMENT_IS_PTHREAD||!1,pe="";function Ne(v){return l.locateFile?l.locateFile(v,pe):pe+v}var ze,Tt,yt;if(N){var Ue=(ta(),rr(ea)),Bt=(na(),rr(ra));pe=H?Bt.dirname(pe)+"/":__dirname+"/",ze=(O,D)=>(O=F(O)?new URL(O):Bt.normalize(O),Ue.readFileSync(O,D?void 0:"utf8")),yt=O=>(O=ze(O,!0),O.buffer||(O=new Uint8Array(O)),O),Tt=(O,D,K,we=!0)=>{O=F(O)?new URL(O):Bt.normalize(O),Ue.readFile(O,we?void 0:"utf8",(Se,je)=>{Se?K(Se):D(we?je.buffer:je)})},!l.thisProgram&&1<process.argv.length&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),I=(O,D)=>{throw process.exitCode=O,D},l.inspect=()=>"[Emscripten Module object]";let v;try{v=Pp()}catch(O){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),O}global.Worker=v.Worker}else(A||H)&&(H?pe=self.location.href:typeof document<"u"&&document.currentScript&&(pe=document.currentScript.src),typeof o<"u"&&o&&(pe=o),pe.indexOf("blob:")!==0?pe=pe.substr(0,pe.replace(/[?#].*/,"").lastIndexOf("/")+1):pe="",N||(ze=v=>{var O=new XMLHttpRequest;return O.open("GET",v,!1),O.send(null),O.responseText},H&&(yt=v=>{var O=new XMLHttpRequest;return O.open("GET",v,!1),O.responseType="arraybuffer",O.send(null),new Uint8Array(O.response)}),Tt=(v,O,D)=>{var K=new XMLHttpRequest;K.open("GET",v,!0),K.responseType="arraybuffer",K.onload=()=>{K.status==200||K.status==0&&K.response?O(K.response):D()},K.onerror=D,K.send(null)}));N&&typeof performance>"u"&&(global.performance=Ep().performance);var ni=console.log.bind(console),ii=console.error.bind(console);N&&(ni=(...v)=>Ue.writeSync(1,v.join(" ")+`
`),ii=(...v)=>Ue.writeSync(2,v.join(" ")+`
`));var On=ni,et=ii;Object.assign(l,y),y=null,typeof WebAssembly!="object"&&An("no native wasm support detected");var er,fr,at=!1,st,qt,Sr,Ht,qr,Mo;function oi(){var v=er.buffer;l.HEAP8=qt=new Int8Array(v),l.HEAP16=new Int16Array(v),l.HEAPU8=Sr=new Uint8Array(v),l.HEAPU16=new Uint16Array(v),l.HEAP32=Ht=new Int32Array(v),l.HEAPU32=qr=new Uint32Array(v),l.HEAPF32=new Float32Array(v),l.HEAPF64=Mo=new Float64Array(v)}var nn=16777216;if(G)er=l.wasmMemory;else if(l.wasmMemory)er=l.wasmMemory;else if(er=new WebAssembly.Memory({initial:nn/65536,maximum:65536,shared:!0}),!(er.buffer instanceof SharedArrayBuffer))throw et("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),N&&et("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");oi(),nn=er.buffer.byteLength;var Or=[],on=[],vr=[],Kt=0,Kr=null;function In(){if(Kt--,Kt==0&&Kr){var v=Kr;Kr=null,v()}}function An(v){throw v="Aborted("+v+")",et(v),at=!0,st=1,v=new WebAssembly.RuntimeError(v+". Build with -sASSERTIONS for more info."),g(v),v}var C=v=>v.startsWith("data:application/octet-stream;base64,"),F=v=>v.startsWith("file://"),X;X="ort-wasm-threaded.wasm",C(X)||(X=Ne(X));function de(v){if(yt)return yt(v);throw"both async and sync fetching of the wasm failed"}function ie(v){if(A||H){if(typeof fetch=="function"&&!F(v))return fetch(v,{credentials:"same-origin"}).then(O=>{if(!O.ok)throw"failed to load wasm binary file at '"+v+"'";return O.arrayBuffer()}).catch(()=>de(v));if(Tt)return new Promise((O,D)=>{Tt(v,K=>O(new Uint8Array(K)),D)})}return Promise.resolve().then(()=>de(v))}function Te(v,O,D){return ie(v).then(K=>WebAssembly.instantiate(K,O)).then(K=>K).then(D,K=>{et(`failed to asynchronously prepare wasm: ${K}`),An(K)})}function Ae(v,O){var D=X;return typeof WebAssembly.instantiateStreaming!="function"||C(D)||F(D)||N||typeof fetch!="function"?Te(D,v,O):fetch(D,{credentials:"same-origin"}).then(K=>WebAssembly.instantiateStreaming(K,v).then(O,function(we){return et(`wasm streaming compile failed: ${we}`),et("falling back to ArrayBuffer instantiation"),Te(D,v,O)}))}var ve,_e={921276:(v,O,D,K)=>{if(typeof l>"u"||!l.cb)return 1;if(v=Ot(v>>>0),v.startsWith("./")&&(v=v.substring(2)),v=l.cb.get(v),!v)return 2;if(O>>>=0,D>>>=0,K>>>=0,O+D>v.byteLength)return 3;try{return s().set(v.subarray(O,O+D),K>>>0),0}catch{return 4}}};function he(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var Ce=v=>{v.terminate(),v.onmessage=()=>{}},He=v=>{Me.Pa.length==0&&(si(),Me.Ya(Me.Pa[0]));var O=Me.Pa.pop();if(!O)return 6;Me.Qa.push(O),Me.Ma[v.Oa]=O,O.Oa=v.Oa;var D={cmd:"run",start_routine:v.kb,arg:v.hb,pthread_ptr:v.Oa};return N&&O.unref(),O.postMessage(D,v.qb),0},Le=0,Qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gt=(v,O,D)=>{O>>>=0;var K=O+D;for(D=O;v[D]&&!(D>=K);)++D;if(16<D-O&&v.buffer&&Qe)return Qe.decode(v.buffer instanceof SharedArrayBuffer?v.slice(O,D):v.subarray(O,D));for(K="";O<D;){var we=v[O++];if(we&128){var Se=v[O++]&63;if((we&224)==192)K+=String.fromCharCode((we&31)<<6|Se);else{var je=v[O++]&63;we=(we&240)==224?(we&15)<<12|Se<<6|je:(we&7)<<18|Se<<12|je<<6|v[O++]&63,65536>we?K+=String.fromCharCode(we):(we-=65536,K+=String.fromCharCode(55296|we>>10,56320|we&1023))}}else K+=String.fromCharCode(we)}return K},Ot=(v,O)=>(v>>>=0)?gt(s(),v,O):"",Wt=v=>{var O=Su();return v=v(),iu(O),v};function Ie(v,O){var D=arguments.length-2,K=arguments;return Wt(()=>{for(var we=uh(8*D),Se=we>>>3,je=0;je<D;je++){var Ir=K[2+je];i()[Se+je>>>0]=Ir}return bu(v,D,we,O)})}function Yr(v){var O;if(G)return Ie(0,1,v);st=v,0<Le||(Me.lb(),(O=l.onExit)==null||O.call(l,v),at=!0),I(v,new he(v))}var Pn=v=>{if(st=v,G)throw Jo(v),"unwind";Yr(v)};function Gs(){for(var v=l.numThreads;v--;)si();Or.unshift(()=>{Kt++,qs(()=>In())})}function si(){var v=Ne("ort-wasm-threaded.worker.js");v=new Worker(v),Me.Pa.push(v)}function qs(v){G?v():Promise.all(Me.Pa.map(Me.Ya)).then(v)}var Me={Pa:[],Qa:[],bb:[],Ma:{},Wa(){G?(Me.receiveObjectTransfer=Me.jb,Me.threadInitTLS=Me.ab,Me.setExitStatus=Me.$a):Gs()},$a:v=>st=v,tb:["$terminateWorker"],lb:()=>{for(var v of Me.Qa)Ce(v);for(v of Me.Pa)Ce(v);Me.Pa=[],Me.Qa=[],Me.Ma=[]},Za:v=>{var O=v.Oa;delete Me.Ma[O],Me.Pa.push(v),Me.Qa.splice(Me.Qa.indexOf(v),1),v.Oa=0,oh(O)},jb(){},ab(){Me.bb.forEach(v=>v())},Ya:v=>new Promise(O=>{v.onmessage=Se=>{Se=Se.data;var je=Se.cmd;if(Se.targetThread&&Se.targetThread!=yu()){var Ir=Me.Ma[Se.targetThread];Ir?Ir.postMessage(Se,Se.transferList):et(`Internal error! Worker sent a message "${je}" to target pthread ${Se.targetThread}, but that thread no longer exists!`)}else je==="checkMailbox"?ru():je==="spawnThread"?He(Se):je==="cleanupThread"?Me.Za(Me.Ma[Se.thread]):je==="killThread"?(Se=Se.thread,je=Me.Ma[Se],delete Me.Ma[Se],Ce(je),oh(Se),Me.Qa.splice(Me.Qa.indexOf(je),1),je.Oa=0):je==="cancelThread"?Me.Ma[Se.thread].postMessage({cmd:"cancel"}):je==="loaded"?(v.loaded=!0,N&&!v.Oa&&v.unref(),O(v)):je==="alert"?alert(`Thread ${Se.threadId}: ${Se.text}`):Se.target==="setimmediate"?v.postMessage(Se):je==="callHandler"?l[Se.handler](...Se.args):je&&et(`worker sent an unknown command ${je}`)},v.onerror=Se=>{throw et(`worker sent an error! ${Se.filename}:${Se.lineno}: ${Se.message}`),Se},N&&(v.on("message",Se=>v.onmessage({data:Se})),v.on("error",Se=>v.onerror(Se)));var D=[],K=["onExit"],we;for(we of K)l.hasOwnProperty(we)&&D.push(we);v.postMessage({cmd:"load",handlers:D,urlOrBlob:l.mainScriptUrlOrBlob||o,wasmMemory:er,wasmModule:fr})})};l.PThread=Me;var Xr=v=>{for(;0<v.length;)v.shift()(l)};l.establishStackSpace=()=>{var v=yu(),O=h()[v+52>>>2>>>0];v=h()[v+56>>>2>>>0],xa(O,O-v),iu(O)};function Jo(v){if(G)return Ie(1,0,v);Pn(v)}var _a=[],E;l.invokeEntryPoint=(v,O)=>{var D=_a[v];D||(v>=_a.length&&(_a.length=v+1),_a[v]=D=E.get(v)),v=D(O),0<Le?Me.$a(v):wu(v)};function M(v){this.Va=v-24,this.gb=function(O){h()[this.Va+4>>>2>>>0]=O},this.fb=function(O){h()[this.Va+8>>>2>>>0]=O},this.Wa=function(O,D){this.eb(),this.gb(O),this.fb(D)},this.eb=function(){h()[this.Va+16>>>2>>>0]=0}}var j=0;function ne(v,O,D,K){return G?Ie(2,1,v,O,D,K):ke(v,O,D,K)}function ke(v,O,D,K){if(v>>>=0,O>>>=0,D>>>=0,K>>>=0,typeof SharedArrayBuffer>"u")return et("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var we=[];return G&&we.length===0?ne(v,O,D,K):(v={kb:D,Oa:v,hb:K,qb:we},G?(v.sb="spawnThread",postMessage(v,we),0):He(v))}function Je(v,O,D){return G?Ie(3,1,v,O,D):0}function Dt(v,O){if(G)return Ie(4,1,v,O)}var jr=v=>{for(var O=0,D=0;D<v.length;++D){var K=v.charCodeAt(D);127>=K?O++:2047>=K?O+=2:55296<=K&&57343>=K?(O+=4,++D):O+=3}return O},jn=(v,O,D,K)=>{if(D>>>=0,!(0<K))return 0;var we=D;K=D+K-1;for(var Se=0;Se<v.length;++Se){var je=v.charCodeAt(Se);if(55296<=je&&57343>=je){var Ir=v.charCodeAt(++Se);je=65536+((je&1023)<<10)|Ir&1023}if(127>=je){if(D>=K)break;O[D++>>>0]=je}else{if(2047>=je){if(D+1>=K)break;O[D++>>>0]=192|je>>6}else{if(65535>=je){if(D+2>=K)break;O[D++>>>0]=224|je>>12}else{if(D+3>=K)break;O[D++>>>0]=240|je>>18,O[D++>>>0]=128|je>>12&63}O[D++>>>0]=128|je>>6&63}O[D++>>>0]=128|je&63}}return O[D>>>0]=0,D-we},vn=(v,O,D)=>jn(v,s(),O,D);function _n(v,O){if(G)return Ie(5,1,v,O)}function wa(v,O,D){if(G)return Ie(6,1,v,O,D)}function Ga(v,O,D){return G?Ie(7,1,v,O,D):0}function J(v,O){if(G)return Ie(8,1,v,O)}function Gt(v,O,D){if(G)return Ie(9,1,v,O,D)}function _r(v,O,D,K){if(G)return Ie(10,1,v,O,D,K)}function Cs(v,O,D,K){if(G)return Ie(11,1,v,O,D,K)}function eu(v,O,D,K){if(G)return Ie(12,1,v,O,D,K)}function Lg(v){if(G)return Ie(13,1,v)}function Mg(v,O){if(G)return Ie(14,1,v,O)}function Bg(v,O,D){if(G)return Ie(15,1,v,O,D)}function kd(v){v>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(d(),v>>>2,v).value.then(ru),v+=128,Atomics.store(d(),v>>>2,1))}l.__emscripten_thread_mailbox_await=kd;var ru=()=>{var v=yu();if(v&&(kd(v),v=xu,!at))try{if(v(),!(0<Le))try{G?wu(st):Pn(st)}catch(O){O instanceof he||O=="unwind"||I(1,O)}}catch(O){O instanceof he||O=="unwind"||I(1,O)}};l.checkMailbox=ru;var Fd=[],Da=v=>v%4===0&&(v%100!==0||v%400===0),Ug=[0,31,60,91,121,152,182,213,244,274,305,335],jg=[0,31,59,90,120,151,181,212,243,273,304,334];function Vg(v,O,D,K,we,Se,je,Ir){return G?Ie(16,1,v,O,D,K,we,Se,je,Ir):-52}function Zg(v,O,D,K,we,Se,je){if(G)return Ie(17,1,v,O,D,K,we,Se,je)}var nu=v=>{var O=jr(v)+1,D=$p(O);return D&&vn(v,D,O),D},Md=[],Ra={},zg=()=>{if(!Bd){var v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:S||"./this.program"},O;for(O in Ra)Ra[O]===void 0?delete v[O]:v[O]=Ra[O];var D=[];for(O in v)D.push(`${O}=${v[O]}`);Bd=D}return Bd},Bd;function Hg(v,O){if(G)return Ie(18,1,v,O);v>>>=0,O>>>=0;var D=0;return zg().forEach((K,we)=>{var Se=O+D;for(we=h()[v+4*we>>>2>>>0]=Se,Se=0;Se<K.length;++Se)n()[we++>>>0>>>0]=K.charCodeAt(Se);n()[we>>>0>>>0]=0,D+=K.length+1}),0}function Ud(v,O){if(G)return Ie(19,1,v,O);v>>>=0,O>>>=0;var D=zg();h()[v>>>2>>>0]=D.length;var K=0;return D.forEach(we=>K+=we.length+1),h()[O>>>2>>>0]=K,0}function zd(v){return G?Ie(20,1,v):52}function Gd(v,O,D,K){return G?Ie(21,1,v,O,D,K):52}function Wg(v,O,D,K,we){return G?Ie(22,1,v,O,D,K,we):70}var jy=[null,[],[]];function Gg(v,O,D,K){if(G)return Ie(23,1,v,O,D,K);O>>>=0,D>>>=0,K>>>=0;for(var we=0,Se=0;Se<D;Se++){var je=h()[O>>>2>>>0],Ir=h()[O+4>>>2>>>0];O+=8;for(var Rs=0;Rs<Ir;Rs++){var Zr=s()[je+Rs>>>0],Yn=jy[v];Zr===0||Zr===10?((v===1?On:et)(gt(Yn,0)),Yn.length=0):Yn.push(Zr)}we+=Ir}return h()[K>>>2>>>0]=we,0}var qg=[31,29,31,30,31,30,31,31,30,31,30,31],Sp=[31,28,31,30,31,30,31,31,30,31,30,31];function Kg(v){var O=Array(jr(v)+1);return jn(v,O,0,O.length),O}var Yg=(v,O)=>{n().set(v,O>>>0)};function mu(v,O,D,K){function we(re,tr,ct){for(re=typeof re=="number"?re.toString():re||"";re.length<tr;)re=ct[0]+re;return re}function Se(re,tr){return we(re,tr,"0")}function je(re,tr){function ct(ey){return 0>ey?-1:0<ey?1:0}var Mt;return(Mt=ct(re.getFullYear()-tr.getFullYear()))===0&&(Mt=ct(re.getMonth()-tr.getMonth()))===0&&(Mt=ct(re.getDate()-tr.getDate())),Mt}function Ir(re){switch(re.getDay()){case 0:return new Date(re.getFullYear()-1,11,29);case 1:return re;case 2:return new Date(re.getFullYear(),0,3);case 3:return new Date(re.getFullYear(),0,2);case 4:return new Date(re.getFullYear(),0,1);case 5:return new Date(re.getFullYear()-1,11,31);case 6:return new Date(re.getFullYear()-1,11,30)}}function Rs(re){var tr=re.Ra;for(re=new Date(new Date(re.Sa+1900,0,1).getTime());0<tr;){var ct=re.getMonth(),Mt=(Da(re.getFullYear())?qg:Sp)[ct];if(tr>Mt-re.getDate())tr-=Mt-re.getDate()+1,re.setDate(1),11>ct?re.setMonth(ct+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1));else{re.setDate(re.getDate()+tr);break}}return ct=new Date(re.getFullYear()+1,0,4),tr=Ir(new Date(re.getFullYear(),0,4)),ct=Ir(ct),0>=je(tr,re)?0>=je(ct,re)?re.getFullYear()+1:re.getFullYear():re.getFullYear()-1}v>>>=0,O>>>=0,D>>>=0,K>>>=0;var Zr=h()[K+40>>>2>>>0];K={ob:d()[K>>>2>>>0],nb:d()[K+4>>>2>>>0],Ta:d()[K+8>>>2>>>0],Xa:d()[K+12>>>2>>>0],Ua:d()[K+16>>>2>>>0],Sa:d()[K+20>>>2>>>0],Na:d()[K+24>>>2>>>0],Ra:d()[K+28>>>2>>>0],ub:d()[K+32>>>2>>>0],mb:d()[K+36>>>2>>>0],pb:Zr?Ot(Zr):""},D=Ot(D),Zr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Yn in Zr)D=D.replace(new RegExp(Yn,"g"),Zr[Yn]);var Qg="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),em="January February March April May June July August September October November December".split(" ");Zr={"%a":re=>Qg[re.Na].substring(0,3),"%A":re=>Qg[re.Na],"%b":re=>em[re.Ua].substring(0,3),"%B":re=>em[re.Ua],"%C":re=>Se((re.Sa+1900)/100|0,2),"%d":re=>Se(re.Xa,2),"%e":re=>we(re.Xa,2," "),"%g":re=>Rs(re).toString().substring(2),"%G":re=>Rs(re),"%H":re=>Se(re.Ta,2),"%I":re=>(re=re.Ta,re==0?re=12:12<re&&(re-=12),Se(re,2)),"%j":re=>{for(var tr=0,ct=0;ct<=re.Ua-1;tr+=(Da(re.Sa+1900)?qg:Sp)[ct++]);return Se(re.Xa+tr,3)},"%m":re=>Se(re.Ua+1,2),"%M":re=>Se(re.nb,2),"%n":()=>`
`,"%p":re=>0<=re.Ta&&12>re.Ta?"AM":"PM","%S":re=>Se(re.ob,2),"%t":()=>"	","%u":re=>re.Na||7,"%U":re=>Se(Math.floor((re.Ra+7-re.Na)/7),2),"%V":re=>{var tr=Math.floor((re.Ra+7-(re.Na+6)%7)/7);if(2>=(re.Na+371-re.Ra-2)%7&&tr++,tr)tr==53&&(ct=(re.Na+371-re.Ra)%7,ct==4||ct==3&&Da(re.Sa)||(tr=1));else{tr=52;var ct=(re.Na+7-re.Ra-1)%7;(ct==4||ct==5&&Da(re.Sa%400-1))&&tr++}return Se(tr,2)},"%w":re=>re.Na,"%W":re=>Se(Math.floor((re.Ra+7-(re.Na+6)%7)/7),2),"%y":re=>(re.Sa+1900).toString().substring(2),"%Y":re=>re.Sa+1900,"%z":re=>{re=re.mb;var tr=0<=re;return re=Math.abs(re)/60,(tr?"+":"-")+("0000"+(re/60*100+re%60)).slice(-4)},"%Z":re=>re.pb,"%%":()=>"%"},D=D.replace(/%%/g,"\0\0");for(Yn in Zr)D.includes(Yn)&&(D=D.replace(new RegExp(Yn,"g"),Zr[Yn](K)));return D=D.replace(/\0\0/g,"%"),Yn=Kg(D),Yn.length>O?0:(Yg(Yn,v),Yn.length-1)}Me.Wa();var Vy=[Yr,Jo,ne,Je,Dt,_n,wa,Ga,J,Gt,_r,Cs,eu,Lg,Mg,Bg,Vg,Zg,Hg,Ud,zd,Gd,Wg,Gg],Xg={b:function(v,O,D){throw v>>>=0,new M(v).Wa(O>>>0,D>>>0),j=v,j},L:function(v){Fp(v>>>0,!H,1,!A,131072,!1),Me.ab()},j:function(v){v>>>=0,G?postMessage({cmd:"cleanupThread",thread:v}):Me.Za(Me.Ma[v])},H:ke,h:Je,S:Dt,D:_n,F:wa,T:Ga,Q:J,J:Gt,P:_r,n:Cs,E:eu,B:Lg,R:Mg,C:Bg,p:()=>1,z:function(v,O){v>>>=0,v==O>>>0?setTimeout(()=>ru()):G?postMessage({targetThread:v,cmd:"checkMailbox"}):(v=Me.Ma[v])&&v.postMessage({cmd:"checkMailbox"})},I:function(v,O,D,K){O>>>=0,Fd.length=D,K=K>>>0>>>3;for(var we=0;we<D;we++)Fd[we]=i()[K+we>>>0];return v=0>v?_e[-v-1]:Vy[v],Me.ib=O,O=v.apply(null,Fd),Me.ib=0,O},K:kd,o:function(v){N&&Me.Ma[v>>>0].ref()},s:function(v,O,D){v=O+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*O:NaN,D>>>=0,v=new Date(1e3*v),d()[D>>>2>>>0]=v.getUTCSeconds(),d()[D+4>>>2>>>0]=v.getUTCMinutes(),d()[D+8>>>2>>>0]=v.getUTCHours(),d()[D+12>>>2>>>0]=v.getUTCDate(),d()[D+16>>>2>>>0]=v.getUTCMonth(),d()[D+20>>>2>>>0]=v.getUTCFullYear()-1900,d()[D+24>>>2>>>0]=v.getUTCDay(),v=(v.getTime()-Date.UTC(v.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[D+28>>>2>>>0]=v},t:function(v,O,D){v=O+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*O:NaN,D>>>=0,v=new Date(1e3*v),d()[D>>>2>>>0]=v.getSeconds(),d()[D+4>>>2>>>0]=v.getMinutes(),d()[D+8>>>2>>>0]=v.getHours(),d()[D+12>>>2>>>0]=v.getDate(),d()[D+16>>>2>>>0]=v.getMonth(),d()[D+20>>>2>>>0]=v.getFullYear()-1900,d()[D+24>>>2>>>0]=v.getDay(),O=(Da(v.getFullYear())?Ug:jg)[v.getMonth()]+v.getDate()-1|0,d()[D+28>>>2>>>0]=O,d()[D+36>>>2>>>0]=-(60*v.getTimezoneOffset()),O=new Date(v.getFullYear(),6,1).getTimezoneOffset();var K=new Date(v.getFullYear(),0,1).getTimezoneOffset();v=(O!=K&&v.getTimezoneOffset()==Math.min(K,O))|0,d()[D+32>>>2>>>0]=v},u:function(v){v>>>=0;var O=new Date(d()[v+20>>>2>>>0]+1900,d()[v+16>>>2>>>0],d()[v+12>>>2>>>0],d()[v+8>>>2>>>0],d()[v+4>>>2>>>0],d()[v>>>2>>>0],0),D=d()[v+32>>>2>>>0],K=O.getTimezoneOffset(),we=new Date(O.getFullYear(),6,1).getTimezoneOffset(),Se=new Date(O.getFullYear(),0,1).getTimezoneOffset(),je=Math.min(Se,we);return 0>D?d()[v+32>>>2>>>0]=+(we!=Se&&je==K):0<D!=(je==K)&&(we=Math.max(Se,we),O.setTime(O.getTime()+6e4*((0<D?je:we)-K))),d()[v+24>>>2>>>0]=O.getDay(),D=(Da(O.getFullYear())?Ug:jg)[O.getMonth()]+O.getDate()-1|0,d()[v+28>>>2>>>0]=D,d()[v>>>2>>>0]=O.getSeconds(),d()[v+4>>>2>>>0]=O.getMinutes(),d()[v+8>>>2>>>0]=O.getHours(),d()[v+12>>>2>>>0]=O.getDate(),d()[v+16>>>2>>>0]=O.getMonth(),d()[v+20>>>2>>>0]=O.getYear(),v=O.getTime(),isNaN(v)?(d()[Ip()>>>2>>>0]=61,v=-1):v/=1e3,Ou((ve=v,1<=+Math.abs(ve)?0<ve?+Math.floor(ve/4294967296)>>>0:~~+Math.ceil((ve-+(~~ve>>>0))/4294967296)>>>0:0)),v>>>0},q:Vg,r:Zg,y:function(v,O,D){function K(Zr){return(Zr=Zr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Zr[1]:"GMT"}v>>>=0,O>>>=0,D>>>=0;var we=new Date().getFullYear(),Se=new Date(we,0,1),je=new Date(we,6,1);we=Se.getTimezoneOffset();var Ir=je.getTimezoneOffset(),Rs=Math.max(we,Ir);h()[v>>>2>>>0]=60*Rs,d()[O>>>2>>>0]=+(we!=Ir),v=K(Se),O=K(je),v=nu(v),O=nu(O),Ir<we?(h()[D>>>2>>>0]=v,h()[D+4>>>2>>>0]=O):(h()[D>>>2>>>0]=O,h()[D+4>>>2>>>0]=v)},c:()=>{An("")},O:function(v,O,D){v>>>=0,O>>>=0,D>>>=0,Md.length=0;for(var K;K=s()[O++>>>0];){var we=K!=105;we&=K!=112,D+=we&&D%8?4:0,Md.push(K==112?h()[D>>>2>>>0]:K==105?d()[D>>>2>>>0]:i()[D>>>3>>>0]),D+=we?8:4}return _e[v].apply(null,Md)},k:()=>{},i:()=>Date.now(),U:()=>{throw Le+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>N?(Lp(),rr(Dp)).cpus().length:navigator.hardwareConcurrency,x:function(v){v>>>=0;var O=s().length;if(v<=O||4294901760<v)return!1;for(var D=1;4>=D;D*=2){var K=O*(1+.2/D);K=Math.min(K,v+100663296);var we=Math;K=Math.max(v,K);e:{we=(we.min.call(we,4294901760,K+(65536-K%65536)%65536)-er.buffer.byteLength+65535)/65536;try{er.grow(we),oi();var Se=1;break e}catch{}Se=void 0}if(Se)return!0}return!1},M:Hg,N:Ud,G:Pn,g:zd,m:Gd,v:Wg,l:Gg,a:er||l.wasmMemory,w:mu,d:function(v,O,D,K){return mu(v>>>0,O>>>0,D>>>0,K>>>0)}},qe=function(){function v(D,K){return qe=D.exports,qe=Jg(),Me.bb.push(qe.za),E=qe.Aa,on.unshift(qe.V),fr=K,In(),qe}var O={a:Xg};if(Kt++,l.instantiateWasm)try{return l.instantiateWasm(O,v)}catch(D){et(`Module.instantiateWasm callback failed with error: ${D}`),g(D)}return Ae(O,function(D){v(D.instance,D.module)}).catch(g),{}}();l._OrtInit=(v,O)=>(l._OrtInit=qe.W)(v,O),l._OrtGetLastError=(v,O)=>(l._OrtGetLastError=qe.X)(v,O),l._OrtCreateSessionOptions=(v,O,D,K,we,Se,je,Ir,Rs,Zr)=>(l._OrtCreateSessionOptions=qe.Y)(v,O,D,K,we,Se,je,Ir,Rs,Zr),l._OrtAppendExecutionProvider=(v,O)=>(l._OrtAppendExecutionProvider=qe.Z)(v,O),l._OrtAddFreeDimensionOverride=(v,O,D)=>(l._OrtAddFreeDimensionOverride=qe._)(v,O,D),l._OrtAddSessionConfigEntry=(v,O,D)=>(l._OrtAddSessionConfigEntry=qe.$)(v,O,D),l._OrtReleaseSessionOptions=v=>(l._OrtReleaseSessionOptions=qe.aa)(v),l._OrtCreateSession=(v,O,D)=>(l._OrtCreateSession=qe.ba)(v,O,D),l._OrtReleaseSession=v=>(l._OrtReleaseSession=qe.ca)(v),l._OrtGetInputOutputCount=(v,O,D)=>(l._OrtGetInputOutputCount=qe.da)(v,O,D),l._OrtGetInputName=(v,O)=>(l._OrtGetInputName=qe.ea)(v,O),l._OrtGetOutputName=(v,O)=>(l._OrtGetOutputName=qe.fa)(v,O),l._OrtFree=v=>(l._OrtFree=qe.ga)(v),l._OrtCreateTensor=(v,O,D,K,we,Se)=>(l._OrtCreateTensor=qe.ha)(v,O,D,K,we,Se),l._OrtGetTensorData=(v,O,D,K,we)=>(l._OrtGetTensorData=qe.ia)(v,O,D,K,we),l._OrtReleaseTensor=v=>(l._OrtReleaseTensor=qe.ja)(v),l._OrtCreateRunOptions=(v,O,D,K)=>(l._OrtCreateRunOptions=qe.ka)(v,O,D,K),l._OrtAddRunConfigEntry=(v,O,D)=>(l._OrtAddRunConfigEntry=qe.la)(v,O,D),l._OrtReleaseRunOptions=v=>(l._OrtReleaseRunOptions=qe.ma)(v),l._OrtCreateBinding=v=>(l._OrtCreateBinding=qe.na)(v),l._OrtBindInput=(v,O,D)=>(l._OrtBindInput=qe.oa)(v,O,D),l._OrtBindOutput=(v,O,D,K)=>(l._OrtBindOutput=qe.pa)(v,O,D,K),l._OrtClearBoundOutputs=v=>(l._OrtClearBoundOutputs=qe.qa)(v),l._OrtReleaseBinding=v=>(l._OrtReleaseBinding=qe.ra)(v),l._OrtRunWithBinding=(v,O,D,K,we)=>(l._OrtRunWithBinding=qe.sa)(v,O,D,K,we),l._OrtRun=(v,O,D,K,we,Se,je,Ir)=>(l._OrtRun=qe.ta)(v,O,D,K,we,Se,je,Ir),l._OrtEndProfiling=v=>(l._OrtEndProfiling=qe.ua)(v);var Ip=()=>(Ip=qe.va)(),yu=l._pthread_self=()=>(yu=l._pthread_self=qe.wa)(),$p=l._malloc=v=>($p=l._malloc=qe.xa)(v);l._free=v=>(l._free=qe.ya)(v),l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=qe.za)();var Fp=l.__emscripten_thread_init=(v,O,D,K,we,Se)=>(Fp=l.__emscripten_thread_init=qe.Ba)(v,O,D,K,we,Se);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=qe.Ca)();var bu=(v,O,D,K)=>(bu=qe.Da)(v,O,D,K),oh=v=>(oh=qe.Ea)(v),wu=l.__emscripten_thread_exit=v=>(wu=l.__emscripten_thread_exit=qe.Fa)(v),xu=()=>(xu=qe.Ga)(),Ou=v=>(Ou=qe.Ha)(v),xa=(v,O)=>(xa=qe.Ia)(v,O),Su=()=>(Su=qe.Ja)(),iu=v=>(iu=qe.Ka)(v),uh=v=>(uh=qe.La)(v);function Jg(){var v=qe;v=Object.assign({},v);var O=K=>()=>K()>>>0,D=K=>we=>K(we)>>>0;return v.va=O(v.va),v.wa=O(v.wa),v.xa=D(v.xa),v.emscripten_main_runtime_thread_id=O(v.emscripten_main_runtime_thread_id),v.Ja=O(v.Ja),v.La=D(v.La),v}l.wasmMemory=er,l.stackAlloc=uh,l.stackSave=Su,l.stackRestore=iu,l.keepRuntimeAlive=()=>0<Le,l.UTF8ToString=Ot,l.stringToUTF8=vn,l.lengthBytesUTF8=jr,l.ExitStatus=he,l.PThread=Me;var ou;Kr=function v(){ou||_h(),ou||(Kr=v)};function _h(){if(!(0<Kt))if(G)c(l),G||Xr(on),startWorker(l);else{if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Or.unshift(l.preRun.shift());Xr(Or),0<Kt||ou||(ou=!0,l.calledRun=!0,at||(G||Xr(on),c(l),G||Xr(vr)))}}return _h(),a.ready}})();typeof e=="object"&&typeof t=="object"?t.exports=r:typeof define=="function"&&define.amd&&define([],()=>r)}),kp=me((e,t)=>{t.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'}),Np,ig,aa,sa,Po,Bp,ag,sg,ug,Rp,Ee,zr=L(()=>{Np=Ap(),ig=Cp(),sa=!1,Po=!1,Bp=!1,ag=e=>{if(e===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+e+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+e+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sg=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},ug=(e,t)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Rp=async e=>{if(sa)return Promise.resolve();if(Po)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Bp)throw new Error("previous call to 'initializeWebAssembly()' failed.");Po=!0;let t=e.initTimeout,r=e.numThreads,o=e.simd,a=ag(r),n=o&&sg(),s=e.wasmPaths,d=typeof s=="string"?s:void 0,h=ug(n,a),i=typeof s=="object"?s[h]:void 0,l=!1,c=[];if(t>0&&c.push(new Promise(g=>{setTimeout(()=>{l=!0,g()},t)})),c.push(new Promise((g,y)=>{let S=a?ig:Np,I={locateFile:(A,H)=>a&&A.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([kp()],{type:"text/javascript"})):A.endsWith(".wasm")?i||(d??H)+h:H+A};if(a)if(I.numThreads=r,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let A=`var ortWasmThreaded=${S.toString()};`;I.mainScriptUrlOrBlob=new Blob([A],{type:"text/javascript"})}S(I).then(A=>{Po=!1,sa=!0,aa=A,g()},A=>{Po=!1,Bp=!0,y(A)})})),await Promise.race(c),l)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},Ee=()=>{if(sa&&aa)return aa;throw new Error("WebAssembly is not initialized yet.")}}),De,bn,Oe,Eo=L(()=>{zr(),De=(e,t)=>{let r=Ee(),o=r.lengthBytesUTF8(e)+1,a=r._malloc(o);return r.stringToUTF8(e,a,o),t.push(a),a},bn=(e,t,r,o)=>{if(typeof e=="object"&&e!==null){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach(([a,n])=>{let s=t?t+a:a;if(typeof n=="object")bn(n,s+".",r,o);else if(typeof n=="string"||typeof n=="number")o(s,n.toString());else if(typeof n=="boolean")o(s,n?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof n}`)})},Oe=e=>{let t=Ee(),r=t.stackSave();try{let o=t.stackAlloc(8);t._OrtGetLastError(o,o+4);let a=t.HEAP32[o/4],n=t.HEAPU32[o/4+1],s=n?t.UTF8ToString(n):"";throw new Error(`${e} ERROR_CODE: ${a}, ERROR_MESSAGE: ${s}`)}finally{t.stackRestore(r)}}}),Mp,Gp=L(()=>{zr(),Eo(),Mp=e=>{let t=Ee(),r=0,o=[],a=e||{};try{if((e==null?void 0:e.logSeverityLevel)===void 0)a.logSeverityLevel=2;else if(typeof e.logSeverityLevel!="number"||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if((e==null?void 0:e.logVerbosityLevel)===void 0)a.logVerbosityLevel=0;else if(typeof e.logVerbosityLevel!="number"||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);(e==null?void 0:e.terminate)===void 0&&(a.terminate=!1);let n=0;return(e==null?void 0:e.tag)!==void 0&&(n=De(e.tag,o)),r=t._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,n),r===0&&Oe("Can't create run options."),(e==null?void 0:e.extra)!==void 0&&bn(e.extra,"",new WeakSet,(s,d)=>{let h=De(s,o),i=De(d,o);t._OrtAddRunConfigEntry(r,h,i)!==0&&Oe(`Can't set a run config entry: ${s} - ${d}.`)}),[r,o]}catch(n){throw r!==0&&t._OrtReleaseRunOptions(r),o.forEach(s=>t._free(s)),n}}}),lg,fg,cg,pg,Up,zp=L(()=>{zr(),Eo(),lg=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}},fg=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}},cg=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some(r=>(typeof r=="string"?r:r.name)==="webgpu")&&(e.enableMemPattern=!1)},pg=(e,t,r)=>{for(let o of t){let a=typeof o=="string"?o:o.name;switch(a){case"webnn":if(a="WEBNN",typeof o!="string"){let s=o;if(s!=null&&s.deviceType){let d=De("deviceType",r),h=De(s.deviceType,r);Ee()._OrtAddSessionConfigEntry(e,d,h)!==0&&Oe(`Can't set a session config entry: 'deviceType' - ${s.deviceType}.`)}if(s!=null&&s.numThreads){let d=s.numThreads;(typeof d!="number"||!Number.isInteger(d)||d<0)&&(d=0);let h=De("numThreads",r),i=De(d.toString(),r);Ee()._OrtAddSessionConfigEntry(e,h,i)!==0&&Oe(`Can't set a session config entry: 'numThreads' - ${s.numThreads}.`)}if(s!=null&&s.powerPreference){let d=De("powerPreference",r),h=De(s.powerPreference,r);Ee()._OrtAddSessionConfigEntry(e,d,h)!==0&&Oe(`Can't set a session config entry: 'powerPreference' - ${s.powerPreference}.`)}}break;case"webgpu":if(a="JS",typeof o!="string"){let s=o;if(s!=null&&s.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${s.preferredLayout}`);let d=De("preferredLayout",r),h=De(s.preferredLayout,r);Ee()._OrtAddSessionConfigEntry(e,d,h)!==0&&Oe(`Can't set a session config entry: 'preferredLayout' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${a}`)}let n=De(a,r);Ee()._OrtAppendExecutionProvider(e,n)!==0&&Oe(`Can't append execution provider: ${a}.`)}},Up=e=>{let t=Ee(),r=0,o=[],a=e||{};cg(a);try{let n=lg(a.graphOptimizationLevel??"all"),s=fg(a.executionMode??"sequential"),d=typeof a.logId=="string"?De(a.logId,o):0,h=a.logSeverityLevel??2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);let i=a.logVerbosityLevel??0;if(!Number.isInteger(i)||i<0||i>4)throw new Error(`log verbosity level is not valid: ${i}`);let l=typeof a.optimizedModelFilePath=="string"?De(a.optimizedModelFilePath,o):0;if(r=t._OrtCreateSessionOptions(n,!!a.enableCpuMemArena,!!a.enableMemPattern,s,!!a.enableProfiling,0,d,h,i,l),r===0&&Oe("Can't create session options."),a.executionProviders&&pg(r,a.executionProviders,o),a.freeDimensionOverrides)for(let[c,g]of Object.entries(a.freeDimensionOverrides)){if(typeof c!="string")throw new Error(`free dimension override name must be a string: ${c}`);if(typeof g!="number"||!Number.isInteger(g)||g<0)throw new Error(`free dimension override value must be a non-negative integer: ${g}`);let y=De(c,o);t._OrtAddFreeDimensionOverride(r,y,g)!==0&&Oe(`Can't set a free dimension override: ${c} - ${g}.`)}return a.extra!==void 0&&bn(a.extra,"",new WeakSet,(c,g)=>{let y=De(c,o),S=De(g,o);t._OrtAddSessionConfigEntry(r,y,S)!==0&&Oe(`Can't set a session config entry: ${c} - ${g}.`)}),[r,o]}catch(n){throw r!==0&&t._OrtReleaseSessionOptions(r),o.forEach(s=>t._free(s)),n}}}),ua,Vp,la,Wp,Hp,Do,qp,fa=L(()=>{ua=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},Vp=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},la=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],Wp=e=>{switch(e){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},Hp=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}},Do=e=>e==="float32"||e==="int32"||e==="int64"||e==="bool"||e==="float16"||e==="uint32",qp=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${e}`)}}}),gn,ca=L(()=>{gn=async e=>{if(typeof e=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(e))}catch(t){if(t.code==="ERR_FS_FILE_TOO_LARGE"){let r=(void 0)(e),o=[];for await(let a of r)o.push(a);return new Uint8Array(Buffer.concat(o))}throw t}else{let t=await fetch(e);if(!t.ok)throw new Error(`failed to load external data file: ${e}`);let r=t.headers.get("Content-Length"),o=r?parseInt(r,10):0;if(o<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let a=t.body.getReader(),n;try{n=new ArrayBuffer(o)}catch(d){if(d instanceof RangeError){let h=Math.ceil(o/65536);n=new WebAssembly.Memory({initial:h,maximum:h}).buffer}else throw d}let s=0;for(;;){let{done:d,value:h}=await a.read();if(d)break;let i=h.byteLength;new Uint8Array(n,s,i).set(h),s+=i}return new Uint8Array(n,0,o)}}else return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e)}}),dg,Yp,Xp,yn,hg,pa,Kp,Jp,jp,Zp,Qp,ed,td=L(()=>{Gp(),zp(),fa(),zr(),Eo(),ca(),dg=(e,t)=>{Ee()._OrtInit(e,t)!==0&&Oe("Can't initialize onnxruntime.")},Yp=async e=>{dg(e.wasm.numThreads,Hp(e.logLevel))},Xp=async(e,t)=>{},yn=new Map,hg=e=>{let t=Ee(),r=t.stackSave();try{let o=t.stackAlloc(8);return t._OrtGetInputOutputCount(e,o,o+4)!==0&&Oe("Can't get session input/output count."),[t.HEAP32[o/4],t.HEAP32[o/4+1]]}finally{t.stackRestore(r)}},pa=e=>{let t=Ee(),r=t._malloc(e.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},Kp=async(e,t)=>{var l;let r,o,a=Ee();Array.isArray(e)?[r,o]=e:e.buffer===a.HEAPU8.buffer?[r,o]=[e.byteOffset,e.byteLength]:[r,o]=pa(e);let n=0,s=0,d=[],h=[],i=[];try{if([s,d]=Up(t),(t==null?void 0:t.externalData)&&a.mountExternalData){let H=[];for(let N of t.externalData){let G=typeof N=="string"?N:N.path;H.push(gn(typeof N=="string"?N:N.data).then(pe=>{a.mountExternalData(G,pe)}))}await Promise.all(H)}n=a._OrtCreateSession(r,o,s),n===0&&Oe("Can't create a session.");let[c,g]=hg(n),y=[],S=[],I=[];for(let H=0;H<c;H++){let N=a._OrtGetInputName(n,H);N===0&&Oe("Can't get an input name."),h.push(N),y.push(a.UTF8ToString(N))}for(let H=0;H<g;H++){let N=a._OrtGetOutputName(n,H);N===0&&Oe("Can't get an output name."),i.push(N);let G=a.UTF8ToString(N);S.push(G)}return yn.set(n,[n,h,i,null]),[n,y,S]}catch(c){throw h.forEach(g=>a._OrtFree(g)),i.forEach(g=>a._OrtFree(g)),n!==0&&a._OrtReleaseSession(n),c}finally{a._free(r),s!==0&&a._OrtReleaseSessionOptions(s),d.forEach(c=>a._free(c)),(l=a.unmountExternalData)==null||l.call(a)}},Jp=e=>{var d;let t=Ee(),r=yn.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);let[o,a,n,s]=r;s&&t._OrtReleaseBinding(s.handle),(d=t.jsepUnregisterBuffers)==null||d.call(t,e),a.forEach(h=>t._OrtFree(h)),n.forEach(h=>t._OrtFree(h)),t._OrtReleaseSession(o),yn.delete(e)},jp=(e,t,r,o,a)=>{if(!e){t.push(0);return}let n=Ee(),s=e[0],d=e[1],h=e[3],i,l;if(s==="string"&&h==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(h==="gpu-buffer"){let y=e[2].gpuBuffer,S=la(ua(s));l=d.reduce((I,A)=>I*A,1)*S,i=n.jsepRegisterBuffer(o,a,y,l)}else{let y=e[2];if(Array.isArray(y)){l=4*y.length,i=n._malloc(l),r.push(i);let S=i/4;for(let I=0;I<y.length;I++){if(typeof y[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);n.HEAPU32[S++]=De(y[I],r)}}else l=y.byteLength,i=n._malloc(l),r.push(i),n.HEAPU8.set(new Uint8Array(y.buffer,y.byteOffset,l),i)}let c=n.stackSave(),g=n.stackAlloc(4*d.length);try{let y=g/4;d.forEach(I=>n.HEAP32[y++]=I);let S=n._OrtCreateTensor(ua(s),i,l,g,d.length,qp(h));S===0&&Oe(`Can't create tensor for input/output. session=${o}, index=${a}.`),t.push(S)}finally{n.stackRestore(c)}},Zp=async(e,t,r,o,a,n)=>{let s=Ee(),d=yn.get(e);if(!d)throw new Error(`cannot run inference. invalid session id: ${e}`);let[h,i,l,c]=d,g=t.length,y=o.length,S=0,I=[],A=[],H=[],N=[],G=s.stackSave(),pe=s.stackAlloc(g*4),Ne=s.stackAlloc(g*4),ze=s.stackAlloc(y*4),Tt=s.stackAlloc(y*4);try{[S,I]=Mp(n);for(let et=0;et<g;et++)jp(r[et],A,N,e,t[et]);for(let et=0;et<y;et++)jp(a[et],H,N,e,g+o[et]);let yt=pe/4,Ue=Ne/4,Bt=ze/4,ni=Tt/4;for(let et=0;et<g;et++)s.HEAPU32[yt++]=A[et],s.HEAPU32[Ue++]=i[t[et]];for(let et=0;et<y;et++)s.HEAPU32[Bt++]=H[et],s.HEAPU32[ni++]=l[o[et]];let ii;ii=await s._OrtRun(h,Ne,pe,g,Tt,y,ze,S),ii!==0&&Oe("failed to call OrtRun().");let On=[];for(let et=0;et<y;et++){let er=s.HEAPU32[ze/4+et];if(er===H[et]){On.push(a[et]);continue}let fr=s.stackSave(),at=s.stackAlloc(4*4),st=!1,qt,Sr=0;try{s._OrtGetTensorData(er,at,at+4,at+8,at+12)!==0&&Oe(`Can't access output tensor data on index ${et}.`);let Ht=at/4,qr=s.HEAPU32[Ht++];Sr=s.HEAPU32[Ht++];let Mo=s.HEAPU32[Ht++],oi=s.HEAPU32[Ht++],nn=[];for(let vr=0;vr<oi;vr++)nn.push(s.HEAPU32[Mo/4+vr]);s._OrtFree(Mo);let Or=nn.reduce((vr,Kt)=>vr*Kt,1);qt=Vp(qr);let on=c==null?void 0:c.outputPreferredLocations[o[et]];if(qt==="string"){if(on==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let vr=[],Kt=Sr/4;for(let Kr=0;Kr<Or;Kr++){let In=s.HEAPU32[Kt++],An=Kr===Or-1?void 0:s.HEAPU32[Kt]-In;vr.push(s.UTF8ToString(In,An))}On.push([qt,nn,vr,"cpu"])}else if(on==="gpu-buffer"&&Or>0){let vr=s.jsepGetBuffer(Sr),Kt=la(qr);if(Kt===void 0||!Do(qt))throw new Error(`Unsupported data type: ${qt}`);st=!0,On.push([qt,nn,{gpuBuffer:vr,download:s.jsepCreateDownloader(vr,Or*Kt,qt),dispose:()=>{s._OrtReleaseTensor(er)}},"gpu-buffer"])}else{let vr=Wp(qt),Kt=new vr(Or);new Uint8Array(Kt.buffer,Kt.byteOffset,Kt.byteLength).set(s.HEAPU8.subarray(Sr,Sr+Kt.byteLength)),On.push([qt,nn,Kt,"cpu"])}}finally{s.stackRestore(fr),qt==="string"&&Sr&&s._free(Sr),st||s._OrtReleaseTensor(er)}}return c&&s._OrtClearBoundOutputs(c.handle),On}finally{s.stackRestore(G),A.forEach(yt=>s._OrtReleaseTensor(yt)),H.forEach(yt=>s._OrtReleaseTensor(yt)),N.forEach(yt=>s._free(yt)),S!==0&&s._OrtReleaseRunOptions(S),I.forEach(yt=>s._free(yt))}},Qp=e=>{let t=Ee(),r=yn.get(e);if(!r)throw new Error("invalid session id");let o=r[0],a=t._OrtEndProfiling(o);a===0&&Oe("Can't get an profile file name."),t._OrtFree(a)},ed=e=>{let t=[];for(let r of e){let o=r[2];!Array.isArray(o)&&"buffer"in o&&t.push(o.buffer)}return t}}),rd=me((e,t)=>{t.exports='/*!\n * ONNX Runtime Web v1.17.1\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var St=(u,d)=>()=>(u&&(d=u(u=0)),d);var et=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports),Tt=(u,d)=>{for(var a in d)Et(u,a,{get:d[a],enumerable:!0})},Zr=(u,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let l of Xr(d))!Qr.call(u,l)&&l!==a&&Et(u,l,{get:()=>d[l],enumerable:!(h=Jr(d,l))||h.enumerable});return u};var tt=u=>Zr(Et({},"__esModule",{value:!0}),u);var At={};Tt(At,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=St(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};Tt(Ct,{join:()=>tn});var tn,Dt=St(()=>{tn=void 0});var gr=et((mr,xt)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){var a=d,h,l;a.ready=new Promise((r,o)=>{h=r,l=o});var w=Object.assign({},a),g="./this.program",i=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",B,F,U;if(D){var k=(Mt(),tt(At)),L=(Dt(),tt(Ct));I=A?L.dirname(I)+"/":__dirname+"/",B=(r,o)=>(r=ye(r)?new URL(r):L.normalize(r),k.readFileSync(r,o?void 0:"utf8")),U=r=>(r=B(r,!0),r.buffer||(r=new Uint8Array(r)),r),F=(r,o,s,m=!0)=>{r=ye(r)?new URL(r):L.normalize(r),k.readFile(r,m?void 0:"utf8",(O,S)=>{O?s(O):o(m?S.buffer:S)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(i||A)&&(A?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",B=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},A&&(U=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(r,o,s)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var _=console.log.bind(console),x=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&de("no native wasm support detected");var N,he=!1,ie,ae,E,Y,ue;function Re(){var r=N.buffer;a.HEAP8=ie=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAPU8=ae=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAP32=E=new Int32Array(r),a.HEAPU32=Y=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=ue=new Float64Array(r)}var Ie=[],ee=[],j=[],ce=0,P=null,te=null;function de(r){throw r="Aborted("+r+")",x(r),he=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}var ge=r=>r.startsWith("data:application/octet-stream;base64,"),ye=r=>r.startsWith("file://"),J;if(J="ort-wasm.wasm",!ge(J)){var fe=J;J=a.locateFile?a.locateFile(fe,I):I+fe}function we(r){if(U)return U(r);throw"both async and sync fetching of the wasm failed"}function Ae(r){if(i||A){if(typeof fetch=="function"&&!ye(r))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>we(r));if(F)return new Promise((o,s)=>{F(r,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>we(r))}function Me(r,o,s){return Ae(r).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{x(`failed to asynchronously prepare wasm: ${m}`),de(m)})}function Fe(r,o){var s=J;return typeof WebAssembly.instantiateStreaming!="function"||ge(s)||ye(s)||D||typeof fetch!="function"?Me(s,r,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(o,function(O){return x(`wasm streaming compile failed: ${O}`),x("falling back to ArrayBuffer instantiation"),Me(s,r,o)}))}var Ee,pe={919888:(r,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(r=be(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=a.za.get(r),!r)return 2;if(o>>>=0,s>>>=0,o+s>r.byteLength)return 3;try{return ae.set(r.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Oe(r){this.xa=r-24,this.Ha=function(o){Y[this.xa+4>>>2>>>0]=o},this.Ga=function(o){Y[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){Y[this.xa+16>>>2>>>0]=0}}var ve=0,re=0,Z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(r,o,s)=>{o>>>=0;var m=o+s;for(s=o;r[s]&&!(s>=m);)++s;if(16<s-o&&r.buffer&&Z)return Z.decode(r.subarray(o,s));for(m="";o<s;){var O=r[o++];if(O&128){var S=r[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|S);else{var R=r[o++]&63;O=(O&240)==224?(O&15)<<12|S<<6|R:(O&7)<<18|S<<12|R<<6|r[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},be=(r,o)=>(r>>>=0)?Ce(ae,r,o):"",_e=r=>{for(var o=0,s=0;s<r.length;++s){var m=r.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},ke=(r,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var S=0;S<r.length;++S){var R=r.charCodeAt(S);if(55296<=R&&57343>=R){var K=r.charCodeAt(++S);R=65536+((R&1023)<<10)|K&1023}if(127>=R){if(s>=m)break;o[s++>>>0]=R}else{if(2047>=R){if(s+1>=m)break;o[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=m)break;o[s++>>>0]=224|R>>12}else{if(s+3>=m)break;o[s++>>>0]=240|R>>18,o[s++>>>0]=128|R>>12&63}o[s++>>>0]=128|R>>6&63}o[s++>>>0]=128|R&63}}return o[s>>>0]=0,s-O},Ue=r=>r%4===0&&(r%100!==0||r%400===0),ze=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],De=r=>{var o=_e(r)+1,s=st(o);return s&&ke(r,ae,s,o),s},Ne=[],Pe={},He=()=>{if(!$e){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Pe)Pe[o]===void 0?delete r[o]:r[o]=Pe[o];var s=[];for(o in r)s.push(`${o}=${r[o]}`);$e=s}return $e},$e,Le=[null,[],[]],qe=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=[31,28,31,30,31,30,31,31,30,31,30,31];function Ge(r){var o=Array(_e(r)+1);return ke(r,o,0,o.length),o}function ot(r,o,s,m){function O(c,W,G){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=G[0]+c;return c}function S(c,W){return O(c,W,"0")}function R(c,W){function G(Ke){return 0>Ke?-1:0<Ke?1:0}var Se;return(Se=G(c.getFullYear()-W.getFullYear()))===0&&(Se=G(c.getMonth()-W.getMonth()))===0&&(Se=G(c.getDate()-W.getDate())),Se}function K(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function le(c){var W=c.ta;for(c=new Date(new Date(c.ua+1900,0,1).getTime());0<W;){var G=c.getMonth(),Se=(Ue(c.getFullYear())?qe:Ve)[G];if(W>Se-c.getDate())W-=Se-c.getDate()+1,c.setDate(1),11>G?c.setMonth(G+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return G=new Date(c.getFullYear()+1,0,4),W=K(new Date(c.getFullYear(),0,4)),G=K(G),0>=R(W,c)?0>=R(G,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}r>>>=0,o>>>=0,s>>>=0,m>>>=0;var oe=Y[m+40>>>2>>>0];m={Da:E[m>>>2>>>0],Ca:E[m+4>>>2>>>0],va:E[m+8>>>2>>>0],ya:E[m+12>>>2>>>0],wa:E[m+16>>>2>>>0],ua:E[m+20>>>2>>>0],oa:E[m+24>>>2>>>0],ta:E[m+28>>>2>>>0],Ia:E[m+32>>>2>>>0],Ba:E[m+36>>>2>>>0],Ea:oe?be(oe):""},s=be(s),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var se in oe)s=s.replace(new RegExp(se,"g"),oe[se]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");oe={"%a":c=>Qe[c.oa].substring(0,3),"%A":c=>Qe[c.oa],"%b":c=>Ze[c.wa].substring(0,3),"%B":c=>Ze[c.wa],"%C":c=>S((c.ua+1900)/100|0,2),"%d":c=>S(c.ya,2),"%e":c=>O(c.ya,2," "),"%g":c=>le(c).toString().substring(2),"%G":c=>le(c),"%H":c=>S(c.va,2),"%I":c=>(c=c.va,c==0?c=12:12<c&&(c-=12),S(c,2)),"%j":c=>{for(var W=0,G=0;G<=c.wa-1;W+=(Ue(c.ua+1900)?qe:Ve)[G++]);return S(c.ya+W,3)},"%m":c=>S(c.wa+1,2),"%M":c=>S(c.Ca,2),"%n":()=>`\n`,"%p":c=>0<=c.va&&12>c.va?"AM":"PM","%S":c=>S(c.Da,2),"%t":()=>"	","%u":c=>c.oa||7,"%U":c=>S(Math.floor((c.ta+7-c.oa)/7),2),"%V":c=>{var W=Math.floor((c.ta+7-(c.oa+6)%7)/7);if(2>=(c.oa+371-c.ta-2)%7&&W++,W)W==53&&(G=(c.oa+371-c.ta)%7,G==4||G==3&&Ue(c.ua)||(W=1));else{W=52;var G=(c.oa+7-c.ta-1)%7;(G==4||G==5&&Ue(c.ua%400-1))&&W++}return S(W,2)},"%w":c=>c.oa,"%W":c=>S(Math.floor((c.ta+7-(c.oa+6)%7)/7),2),"%y":c=>(c.ua+1900).toString().substring(2),"%Y":c=>c.ua+1900,"%z":c=>{c=c.Ba;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(se in oe)s.includes(se)&&(s=s.replace(new RegExp(se,"g"),oe[se](m)));return s=s.replace(/\\0\\0/g,"%"),se=Ge(s),se.length>o?0:(ie.set(se,r>>>0),se.length-1)}var $={a:function(r,o,s){throw r>>>=0,new Oe(r).Aa(o>>>0,s>>>0),ve=r,re++,ve},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getUTCSeconds(),E[s+4>>>2>>>0]=r.getUTCMinutes(),E[s+8>>>2>>>0]=r.getUTCHours(),E[s+12>>>2>>>0]=r.getUTCDate(),E[s+16>>>2>>>0]=r.getUTCMonth(),E[s+20>>>2>>>0]=r.getUTCFullYear()-1900,E[s+24>>>2>>>0]=r.getUTCDay(),E[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getSeconds(),E[s+4>>>2>>>0]=r.getMinutes(),E[s+8>>>2>>>0]=r.getHours(),E[s+12>>>2>>>0]=r.getDate(),E[s+16>>>2>>>0]=r.getMonth(),E[s+20>>>2>>>0]=r.getFullYear()-1900,E[s+24>>>2>>>0]=r.getDay(),E[s+28>>>2>>>0]=(Ue(r.getFullYear())?ze:at)[r.getMonth()]+r.getDate()-1|0,E[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();E[s+32>>>2>>>0]=(o!=m&&r.getTimezoneOffset()==Math.min(m,o))|0},p:function(r){r>>>=0;var o=new Date(E[r+20>>>2>>>0]+1900,E[r+16>>>2>>>0],E[r+12>>>2>>>0],E[r+8>>>2>>>0],E[r+4>>>2>>>0],E[r>>>2>>>0],0),s=E[r+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(S,O);return 0>s?E[r+32>>>2>>>0]=+(O!=S&&R==m):0<s!=(R==m)&&(O=Math.max(S,O),o.setTime(o.getTime()+6e4*((0<s?R:O)-m))),E[r+24>>>2>>>0]=o.getDay(),E[r+28>>>2>>>0]=(Ue(o.getFullYear())?ze:at)[o.getMonth()]+o.getDate()-1|0,E[r>>>2>>>0]=o.getSeconds(),E[r+4>>>2>>>0]=o.getMinutes(),E[r+8>>>2>>>0]=o.getHours(),E[r+12>>>2>>>0]=o.getDate(),E[r+16>>>2>>>0]=o.getMonth(),E[r+20>>>2>>>0]=o.getYear(),r=o.getTime(),isNaN(r)?(E[Ye()>>>2>>>0]=61,r=-1):r/=1e3,Je((Ee=r,1<=+Math.abs(Ee)?0<Ee?+Math.floor(Ee/4294967296)>>>0:~~+Math.ceil((Ee-+(~~Ee>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},t:function(r,o,s){function m(le){return(le=le.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?le[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),S=new Date(O,0,1),R=new Date(O,6,1);O=S.getTimezoneOffset();var K=R.getTimezoneOffset();Y[r>>>0>>>2>>>0]=60*Math.max(O,K),E[o>>>0>>>2>>>0]=+(O!=K),r=m(S),o=m(R),r=De(r),o=De(o),K<O?(Y[s>>>2>>>0]=r,Y[s+4>>>2>>>0]=o):(Y[s>>>2>>>0]=o,Y[s+4>>>2>>>0]=r)},d:()=>{de("")},B:function(r,o,s){r>>>=0,o>>>=0,s>>>=0,Ne.length=0;for(var m;m=ae[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Ne.push(m==112?Y[s>>>2>>>0]:m==105?E[s>>>2>>>0]:ue[s>>>3>>>0]),s+=O?8:4}return pe[r].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,s){return o>>>=0,ae.copyWithin(r>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(r){r>>>=0;var o=ae.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,r+100663296);var O=Math;m=Math.max(r,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow(O),Re();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var s=0;return He().forEach((m,O)=>{var S=o+s;for(O=Y[r+4*O>>>2>>>0]=S,S=0;S<m.length;++S)ie[O++>>>0>>>0]=m.charCodeAt(S);ie[O>>>0>>>0]=0,s+=m.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var s=He();Y[r>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),Y[o>>>2>>>0]=m,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,S=0;S<s;S++){var R=Y[o>>>2>>>0],K=Y[o+4>>>2>>>0];o+=8;for(var le=0;le<K;le++){var oe=ae[R+le>>>0],se=Le[r];oe===0||oe===10?((r===1?_:x)(Ce(se,0)),se.length=0):se.push(oe)}O+=K}return Y[m>>>2>>>0]=O,0},r:ot,c:function(r,o,s,m){return ot(r>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function r(s){return C=s.exports,C=ut(),N=C.K,Re(),ee.unshift(C.L),ce--,ce==0&&(P!==null&&(clearInterval(P),P=null),te&&(s=te,te=null,s())),C}var o={a:$};if(ce++,a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(s){x(`Module.instantiateWasm callback failed with error: ${s}`),l(s)}return Fe(o,function(s){r(s.instance)}).catch(l),{}}();a._OrtInit=(r,o)=>(a._OrtInit=C.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=C.N)(r,o),a._OrtCreateSessionOptions=(r,o,s,m,O,S,R,K,le,oe)=>(a._OrtCreateSessionOptions=C.O)(r,o,s,m,O,S,R,K,le,oe),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=C.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(r,o,s),a._OrtAddSessionConfigEntry=(r,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(r,o,s),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=C.S)(r),a._OrtCreateSession=(r,o,s)=>(a._OrtCreateSession=C.T)(r,o,s),a._OrtReleaseSession=r=>(a._OrtReleaseSession=C.U)(r),a._OrtGetInputOutputCount=(r,o,s)=>(a._OrtGetInputOutputCount=C.V)(r,o,s),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=C.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=C.X)(r,o),a._OrtFree=r=>(a._OrtFree=C.Y)(r),a._OrtCreateTensor=(r,o,s,m,O,S)=>(a._OrtCreateTensor=C.Z)(r,o,s,m,O,S),a._OrtGetTensorData=(r,o,s,m,O)=>(a._OrtGetTensorData=C._)(r,o,s,m,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=C.$)(r),a._OrtCreateRunOptions=(r,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(r,o,s,m),a._OrtAddRunConfigEntry=(r,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(r,o,s),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=C.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=C.da)(r),a._OrtBindInput=(r,o,s)=>(a._OrtBindInput=C.ea)(r,o,s),a._OrtBindOutput=(r,o,s,m)=>(a._OrtBindOutput=C.fa)(r,o,s,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=C.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=C.ha)(r),a._OrtRunWithBinding=(r,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(r,o,s,m,O),a._OrtRun=(r,o,s,m,O,S,R,K)=>(a._OrtRun=C.ja)(r,o,s,m,O,S,R,K),a._OrtEndProfiling=r=>(a._OrtEndProfiling=C.ka)(r);var Ye=()=>(Ye=C.la)(),st=a._malloc=r=>(st=a._malloc=C.ma)(r);a._free=r=>(a._free=C.na)(r);var Je=r=>(Je=C.pa)(r),it=()=>(it=C.qa)(),M=r=>(M=C.ra)(r),Be=r=>(Be=C.sa)(r);function ut(){var r=C;r=Object.assign({},r);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return r.la=o(r.la),r.ma=s(r.ma),r.qa=o(r.qa),r.sa=s(r.sa),r}a.stackAlloc=Be,a.stackSave=it,a.stackRestore=M,a.UTF8ToString=be,a.stringToUTF8=(r,o,s)=>ke(r,ae,o,s),a.lengthBytesUTF8=_e;var xe;te=function r(){xe||Xe(),xe||(te=r)};function Xe(){if(!(0<ce)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var r=a.preRun.shift();Ie.unshift(r)}for(;0<Ie.length;)Ie.shift()(a);if(!(0<ce||xe||(xe=!0,a.calledRun=!0,he))){for(;0<ee.length;)ee.shift()(a);for(h(a);0<j.length;)j.shift()(a)}}}return Xe(),d.ready}})();typeof mr=="object"&&typeof xt=="object"?xt.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=et(()=>{});var yr=et(()=>{});var br={};Tt(br,{cpus:()=>rn});var rn,wr=St(()=>{rn=void 0});var _r=et((vr,Ft)=>{"use strict";var Or=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){function a(){return j.buffer!=de.buffer&&we(),de}function h(){return j.buffer!=de.buffer&&we(),ge}function l(){return j.buffer!=de.buffer&&we(),ye}function w(){return j.buffer!=de.buffer&&we(),J}function g(){return j.buffer!=de.buffer&&we(),fe}var i=d,A,D;i.ready=new Promise((e,t)=>{A=e,D=t});var I=Object.assign({},i),B="./this.program",F=(e,t)=>{throw t},U=typeof window=="object",k=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=i.ENVIRONMENT_IS_PTHREAD||!1,x="";function N(e){return i.locateFile?i.locateFile(e,x):x+e}var he,ie,ae;if(L){var E=(Mt(),tt(At)),Y=(Dt(),tt(Ct));x=k?Y.dirname(x)+"/":__dirname+"/",he=(t,n)=>(t=be(t)?new URL(t):Y.normalize(t),E.readFileSync(t,n?void 0:"utf8")),ae=t=>(t=he(t,!0),t.buffer||(t=new Uint8Array(t)),t),ie=(t,n,f,y=!0)=>{t=be(t)?new URL(t):Y.normalize(t),E.readFile(t,y?void 0:"utf8",(b,v)=>{b?f(b):n(y?v.buffer:v)})},!i.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(t,n)=>{throw process.exitCode=t,n},i.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(U||k)&&(k?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof u<"u"&&u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",L||(he=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},k&&(ae=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ie=(e,t,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?t(f.response):n()},f.onerror=n,f.send(null)}));L&&typeof performance>"u"&&(global.performance=yr().performance);var ue=console.log.bind(console),Re=console.error.bind(console);L&&(ue=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Re=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var Ie=ue,ee=Re;Object.assign(i,I),I=null,typeof WebAssembly!="object"&&Z("no native wasm support detected");var j,ce,P=!1,te,de,ge,ye,J,fe;function we(){var e=j.buffer;i.HEAP8=de=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ge=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=ye=new Int32Array(e),i.HEAPU32=J=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=fe=new Float64Array(e)}var Ae=16777216;if(_)j=i.wasmMemory;else if(i.wasmMemory)j=i.wasmMemory;else if(j=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(j.buffer instanceof SharedArrayBuffer))throw ee("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&ee("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),Ae=j.buffer.byteLength;var Me=[],Fe=[],Ee=[],pe=0,Oe=null,ve=null;function re(){if(pe--,pe==0&&(Oe!==null&&(clearInterval(Oe),Oe=null),ve)){var e=ve;ve=null,e()}}function Z(e){throw e="Aborted("+e+")",ee(e),P=!0,te=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Ce=e=>e.startsWith("data:application/octet-stream;base64,"),be=e=>e.startsWith("file://"),_e;_e="ort-wasm-threaded.wasm",Ce(_e)||(_e=N(_e));function ke(e){if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function Ue(e){if(U||k){if(typeof fetch=="function"&&!be(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>ke(e));if(ie)return new Promise((t,n)=>{ie(e,f=>t(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>ke(e))}function ze(e,t,n){return Ue(e).then(f=>WebAssembly.instantiate(f,t)).then(f=>f).then(n,f=>{ee(`failed to asynchronously prepare wasm: ${f}`),Z(f)})}function at(e,t){var n=_e;return typeof WebAssembly.instantiateStreaming!="function"||Ce(n)||be(n)||L||typeof fetch!="function"?ze(n,e,t):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(t,function(y){return ee(`wasm streaming compile failed: ${y}`),ee("falling back to ArrayBuffer instantiation"),ze(n,e,t)}))}var De,Ne={921276:(e,t,n,f)=>{if(typeof i>"u"||!i.cb)return 1;if(e=Ge(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(t>>>=0,n>>>=0,f>>>=0,t+n>e.byteLength)return 3;try{return h().set(e.subarray(t,t+n),f>>>0),0}catch{return 4}}};function Pe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},$e=e=>{M.Pa.length==0&&(Je(),M.Ya(M.Pa[0]));var t=M.Pa.pop();if(!t)return 6;M.Qa.push(t),M.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return L&&t.unref(),t.postMessage(n,e.qb),0},Le=0,qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(e,t,n)=>{t>>>=0;var f=t+n;for(n=t;e[n]&&!(n>=f);)++n;if(16<n-t&&e.buffer&&qe)return qe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(f="";t<n;){var y=e[t++];if(y&128){var b=e[t++]&63;if((y&224)==192)f+=String.fromCharCode((y&31)<<6|b);else{var v=e[t++]&63;y=(y&240)==224?(y&15)<<12|b<<6|v:(y&7)<<18|b<<12|v<<6|e[t++]&63,65536>y?f+=String.fromCharCode(y):(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else f+=String.fromCharCode(y)}return f},Ge=(e,t)=>(e>>>=0)?Ve(h(),e,t):"",ot=e=>{var t=vt();return e=e(),ct(t),e};function $(e,t){var n=arguments.length-2,f=arguments;return ot(()=>{for(var y=_t(8*n),b=y>>>3,v=0;v<n;v++){var z=f[2+v];g()[b+v>>>0]=z}return ar(e,n,y,t)})}function C(e){if(_)return $(0,1,e);te=e,0<Le||(M.lb(),i.onExit?.(e),P=!0),F(e,new Pe(e))}var Ye=e=>{if(te=e,_)throw ut(e),"unwind";C(e)};function st(){for(var e=i.numThreads;e--;)Je();Me.unshift(()=>{pe++,it(()=>re())})}function Je(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),M.Pa.push(e)}function it(e){_?e():Promise.all(M.Pa.map(M.Ya)).then(e)}var M={Pa:[],Qa:[],bb:[],Ma:{},Wa(){_?(M.receiveObjectTransfer=M.jb,M.threadInitTLS=M.ab,M.setExitStatus=M.$a):st()},$a:e=>te=e,tb:["$terminateWorker"],lb:()=>{for(var e of M.Qa)He(e);for(e of M.Pa)He(e);M.Pa=[],M.Qa=[],M.Ma=[]},Za:e=>{var t=e.Oa;delete M.Ma[t],M.Pa.push(e),M.Qa.splice(M.Qa.indexOf(e),1),e.Oa=0,wt(t)},jb(){},ab(){M.bb.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var v=b.cmd;if(b.targetThread&&b.targetThread!=lt()){var z=M.Ma[b.targetThread];z?z.postMessage(b,b.transferList):ee(`Internal error! Worker sent a message "${v}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?$e(b):v==="cleanupThread"?M.Za(M.Ma[b.thread]):v==="killThread"?(b=b.thread,v=M.Ma[b],delete M.Ma[b],He(v),wt(b),M.Qa.splice(M.Qa.indexOf(v),1),v.Oa=0):v==="cancelThread"?M.Ma[b.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,L&&!e.Oa&&e.unref(),t(e)):v==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):v==="callHandler"?i[b.handler](...b.args):v&&ee(`worker sent an unknown command ${v}`)},e.onerror=b=>{throw ee(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},L&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var n=[],f=["onExit"],y;for(y of f)i.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:j,wasmModule:ce})})};i.PThread=M;var Be=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=lt(),t=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],ir(t,t-e),ct(t)};function ut(e){if(_)return $(1,0,e);Ye(e)}var xe=[],Xe;i.invokeEntryPoint=(e,t)=>{var n=xe[e];n||(e>=xe.length&&(xe.length=e+1),xe[e]=n=Xe.get(e)),e=n(t),0<Le?M.$a(e):Ot(e)};function r(e){this.Va=e-24,this.gb=function(t){w()[this.Va+4>>>2>>>0]=t},this.fb=function(t){w()[this.Va+8>>>2>>>0]=t},this.Wa=function(t,n){this.eb(),this.gb(t),this.fb(n)},this.eb=function(){w()[this.Va+16>>>2>>>0]=0}}var o=0,s=0;function m(e,t,n,f){return _?$(2,1,e,t,n,f):O(e,t,n,f)}function O(e,t,n,f){if(e>>>=0,t>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return ee("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return _&&y.length===0?m(e,t,n,f):(e={kb:n,Oa:e,hb:f,qb:y},_?(e.sb="spawnThread",postMessage(e,y),0):$e(e))}function S(e,t,n){return _?$(3,1,e,t,n):0}function R(e,t){if(_)return $(4,1,e,t)}var K=e=>{for(var t=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?t++:2047>=f?t+=2:55296<=f&&57343>=f?(t+=4,++n):t+=3}return t},le=(e,t,n,f)=>{if(n>>>=0,!(0<f))return 0;var y=n;f=n+f-1;for(var b=0;b<e.length;++b){var v=e.charCodeAt(b);if(55296<=v&&57343>=v){var z=e.charCodeAt(++b);v=65536+((v&1023)<<10)|z&1023}if(127>=v){if(n>=f)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=f)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=f)break;t[n++>>>0]=224|v>>12}else{if(n+3>=f)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-y},oe=(e,t,n)=>le(e,h(),t,n);function se(e,t){if(_)return $(5,1,e,t)}function Qe(e,t,n){if(_)return $(6,1,e,t,n)}function Ze(e,t,n){return _?$(7,1,e,t,n):0}function c(e,t){if(_)return $(8,1,e,t)}function W(e,t,n){if(_)return $(9,1,e,t,n)}function G(e,t,n,f){if(_)return $(10,1,e,t,n,f)}function Se(e,t,n,f){if(_)return $(11,1,e,t,n,f)}function Ke(e,t,n,f){if(_)return $(12,1,e,t,n,f)}function Bt(e){if(_)return $(13,1,e)}function Wt(e,t){if(_)return $(14,1,e,t)}function kt(e,t,n){if(_)return $(15,1,e,t,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(l(),e>>>2,e).value.then(ft),e+=128,Atomics.store(l(),e>>>2,1))}i.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!P))try{if(e(),!(0<Le))try{_?Ot(te):Ye(te)}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}};i.checkMailbox=ft;var gt=[],je=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,t,n,f,y,b,v,z){return _?$(16,1,e,t,n,f,y,b,v,z):-52}function Gt(e,t,n,f,y,b,v){if(_)return $(17,1,e,t,n,f,y,b,v)}var Yt=e=>{var t=K(e)+1,n=rr(t);return n&&oe(e,n,t),n},ht=[],yt={},jt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},t;for(t in yt)yt[t]===void 0?delete e[t]:e[t]=yt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt;function zt(e,t){if(_)return $(18,1,e,t);e>>>=0,t>>>=0;var n=0;return jt().forEach((f,y)=>{var b=t+n;for(y=w()[e+4*y>>>2>>>0]=b,b=0;b<f.length;++b)a()[y++>>>0>>>0]=f.charCodeAt(b);a()[y>>>0>>>0]=0,n+=f.length+1}),0}function qt(e,t){if(_)return $(19,1,e,t);e>>>=0,t>>>=0;var n=jt();w()[e>>>2>>>0]=n.length;var f=0;return n.forEach(y=>f+=y.length+1),w()[t>>>2>>>0]=f,0}function Vt(e){return _?$(20,1,e):52}function Jt(e,t,n,f){return _?$(21,1,e,t,n,f):52}function Xt(e,t,n,f,y){return _?$(22,1,e,t,n,f,y):70}var Gr=[null,[],[]];function Qt(e,t,n,f){if(_)return $(23,1,e,t,n,f);t>>>=0,n>>>=0,f>>>=0;for(var y=0,b=0;b<n;b++){var v=w()[t>>>2>>>0],z=w()[t+4>>>2>>>0];t+=8;for(var Te=0;Te<z;Te++){var ne=h()[v+Te>>>0],me=Gr[e];ne===0||ne===10?((e===1?Ie:ee)(Ve(me,0)),me.length=0):me.push(ne)}y+=z}return w()[f>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function Yr(e){var t=Array(K(e)+1);return le(e,t,0,t.length),t}var jr=(e,t)=>{a().set(e,t>>>0)};function er(e,t,n,f){function y(p,H,q){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=q[0]+p;return p}function b(p,H){return y(p,H,"0")}function v(p,H){function q(cr){return 0>cr?-1:0<cr?1:0}var We;return(We=q(p.getFullYear()-H.getFullYear()))===0&&(We=q(p.getMonth()-H.getMonth()))===0&&(We=q(p.getDate()-H.getDate())),We}function z(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Te(p){var H=p.Ra;for(p=new Date(new Date(p.Sa+1900,0,1).getTime());0<H;){var q=p.getMonth(),We=(je(p.getFullYear())?Zt:Kt)[q];if(H>We-p.getDate())H-=We-p.getDate()+1,p.setDate(1),11>q?p.setMonth(q+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return q=new Date(p.getFullYear()+1,0,4),H=z(new Date(p.getFullYear(),0,4)),q=z(q),0>=v(H,p)?0>=v(q,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,f>>>=0;var ne=w()[f+40>>>2>>>0];f={ob:l()[f>>>2>>>0],nb:l()[f+4>>>2>>>0],Ta:l()[f+8>>>2>>>0],Xa:l()[f+12>>>2>>>0],Ua:l()[f+16>>>2>>>0],Sa:l()[f+20>>>2>>>0],Na:l()[f+24>>>2>>>0],Ra:l()[f+28>>>2>>>0],ub:l()[f+32>>>2>>>0],mb:l()[f+36>>>2>>>0],pb:ne?Ge(ne):""},n=Ge(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in ne)n=n.replace(new RegExp(me,"g"),ne[me]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");ne={"%a":p=>fr[p.Na].substring(0,3),"%A":p=>fr[p.Na],"%b":p=>lr[p.Ua].substring(0,3),"%B":p=>lr[p.Ua],"%C":p=>b((p.Sa+1900)/100|0,2),"%d":p=>b(p.Xa,2),"%e":p=>y(p.Xa,2," "),"%g":p=>Te(p).toString().substring(2),"%G":p=>Te(p),"%H":p=>b(p.Ta,2),"%I":p=>(p=p.Ta,p==0?p=12:12<p&&(p-=12),b(p,2)),"%j":p=>{for(var H=0,q=0;q<=p.Ua-1;H+=(je(p.Sa+1900)?Zt:Kt)[q++]);return b(p.Xa+H,3)},"%m":p=>b(p.Ua+1,2),"%M":p=>b(p.nb,2),"%n":()=>`\n`,"%p":p=>0<=p.Ta&&12>p.Ta?"AM":"PM","%S":p=>b(p.ob,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>b(Math.floor((p.Ra+7-p.Na)/7),2),"%V":p=>{var H=Math.floor((p.Ra+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Ra-2)%7&&H++,H)H==53&&(q=(p.Na+371-p.Ra)%7,q==4||q==3&&je(p.Sa)||(H=1));else{H=52;var q=(p.Na+7-p.Ra-1)%7;(q==4||q==5&&je(p.Sa%400-1))&&H++}return b(H,2)},"%w":p=>p.Na,"%W":p=>b(Math.floor((p.Ra+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Sa+1900).toString().substring(2),"%Y":p=>p.Sa+1900,"%z":p=>{p=p.mb;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in ne)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),ne[me](f)));return n=n.replace(/\\0\\0/g,"%"),me=Yr(n),me.length>t?0:(jr(me,e),me.length-1)}M.Wa();var zr=[C,ut,m,S,R,se,Qe,Ze,c,W,G,Se,Ke,Bt,Wt,kt,$t,Gt,zt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,t,n){throw e>>>=0,new r(e).Wa(t>>>0,n>>>0),o=e,s++,o},L:function(e){nr(e>>>0,!k,1,!U,131072,!1),M.ab()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):M.Za(M.Ma[e])},H:O,h:S,S:R,D:se,F:Qe,T:Ze,Q:c,J:W,P:G,n:Se,E:Ke,B:Bt,R:Wt,C:kt,p:()=>1,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ft()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,n,f){t>>>=0,gt.length=n,f=f>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[f+y>>>0];return e=0>e?Ne[-e-1]:zr[e],M.ib=t,t=e.apply(null,gt),M.ib=0,t},K:mt,o:function(e){L&&M.Ma[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),t=(je(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=t,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=f&&e.getTimezoneOffset()==Math.min(f,t))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],f=t.getTimezoneOffset(),y=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(b,y);return 0>n?l()[e+32>>>2>>>0]=+(y!=b&&v==f):0<n!=(v==f)&&(y=Math.max(b,y),t.setTime(t.getTime()+6e4*((0<n?v:y)-f))),l()[e+24>>>2>>>0]=t.getDay(),n=(je(t.getFullYear())?Nt:Ht)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(l()[tr()>>>2>>>0]=61,e=-1):e/=1e3,sr((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:Gt,y:function(e,t,n){function f(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var y=new Date().getFullYear(),b=new Date(y,0,1),v=new Date(y,6,1);y=b.getTimezoneOffset();var z=v.getTimezoneOffset(),Te=Math.max(y,z);w()[e>>>2>>>0]=60*Te,l()[t>>>2>>>0]=+(y!=z),e=f(b),t=f(v),e=Yt(e),t=Yt(t),z<y?(w()[n>>>2>>>0]=e,w()[n+4>>>2>>>0]=t):(w()[n>>>2>>>0]=t,w()[n+4>>>2>>>0]=e)},c:()=>{Z("")},O:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,ht.length=0;for(var f;f=h()[t++>>>0];){var y=f!=105;y&=f!=112,n+=y&&n%8?4:0,ht.push(f==112?w()[n>>>2>>>0]:f==105?l()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Le+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>L?(wr(),tt(br)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=h().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=t*(1+.2/n);f=Math.min(f,e+100663296);var y=Math;f=Math.max(e,f);e:{y=(y.min.call(y,4294901760,f+(65536-f%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(y),we();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:zt,N:qt,G:Ye,g:Vt,m:Jt,v:Xt,l:Qt,a:j||i.wasmMemory,w:er,d:function(e,t,n,f){return er(e>>>0,t>>>0,n>>>0,f>>>0)}},T=function(){function e(n,f){return T=n.exports,T=Vr(),M.bb.push(T.za),Xe=T.Aa,Fe.unshift(T.V),ce=f,re(),T}var t={a:qr};if(pe++,i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){ee(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return at(t,function(n){e(n.instance,n.module)}).catch(D),{}}();i._OrtInit=(e,t)=>(i._OrtInit=T.W)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=T.X)(e,t),i._OrtCreateSessionOptions=(e,t,n,f,y,b,v,z,Te,ne)=>(i._OrtCreateSessionOptions=T.Y)(e,t,n,f,y,b,v,z,Te,ne),i._OrtAppendExecutionProvider=(e,t)=>(i._OrtAppendExecutionProvider=T.Z)(e,t),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=T._)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=T.$)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=T.ba)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=T.da)(e,t,n),i._OrtGetInputName=(e,t)=>(i._OrtGetInputName=T.ea)(e,t),i._OrtGetOutputName=(e,t)=>(i._OrtGetOutputName=T.fa)(e,t),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,t,n,f,y,b)=>(i._OrtCreateTensor=T.ha)(e,t,n,f,y,b),i._OrtGetTensorData=(e,t,n,f,y)=>(i._OrtGetTensorData=T.ia)(e,t,n,f,y),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,t,n,f)=>(i._OrtCreateRunOptions=T.ka)(e,t,n,f),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=T.la)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=T.oa)(e,t,n),i._OrtBindOutput=(e,t,n,f)=>(i._OrtBindOutput=T.pa)(e,t,n,f),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,t,n,f,y)=>(i._OrtRunWithBinding=T.sa)(e,t,n,f,y),i._OrtRun=(e,t,n,f,y,b,v,z)=>(i._OrtRun=T.ta)(e,t,n,f,y,b,v,z),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var tr=()=>(tr=T.va)(),lt=i._pthread_self=()=>(lt=i._pthread_self=T.wa)(),rr=i._malloc=e=>(rr=i._malloc=T.xa)(e);i._free=e=>(i._free=T.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.za)();var nr=i.__emscripten_thread_init=(e,t,n,f,y,b)=>(nr=i.__emscripten_thread_init=T.Ba)(e,t,n,f,y,b);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ca)();var ar=(e,t,n,f)=>(ar=T.Da)(e,t,n,f),wt=e=>(wt=T.Ea)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Fa)(e),or=()=>(or=T.Ga)(),sr=e=>(sr=T.Ha)(e),ir=(e,t)=>(ir=T.Ia)(e,t),vt=()=>(vt=T.Ja)(),ct=e=>(ct=T.Ka)(e),_t=e=>(_t=T.La)(e);function Vr(){var e=T;e=Object.assign({},e);var t=f=>()=>f()>>>0,n=f=>y=>f(y)>>>0;return e.va=t(e.va),e.wa=t(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=t(e.Ja),e.La=n(e.La),e}i.wasmMemory=j,i.stackAlloc=_t,i.stackSave=vt,i.stackRestore=ct,i.keepRuntimeAlive=()=>0<Le,i.UTF8ToString=Ge,i.stringToUTF8=oe,i.lengthBytesUTF8=K,i.ExitStatus=Pe,i.PThread=M;var dt;ve=function e(){dt||ur(),dt||(ve=e)};function ur(){if(!(0<pe))if(_)A(i),_||Be(Fe),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Me.unshift(i.preRun.shift());Be(Me),0<pe||dt||(dt=!0,i.calledRun=!0,P||(_||Be(Fe),A(i),_||Be(Ee)))}}return ur(),d.ready}})();typeof vr=="object"&&typeof Ft=="object"?Ft.exports=Or:typeof define=="function"&&define.amd&&define([],()=>Or)});var Er=et((On,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=gr();var an=_r(),Ut,Pt=!1,pt=!1,Sr=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,d)=>u?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ar=async u=>{if(Pt)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Sr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=u.initTimeout,a=u.numThreads,h=u.simd,l=on(a),w=h&&sn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,A=un(w,l),D=typeof g=="object"?g[A]:void 0,I=!1,B=[];if(d>0&&B.push(new Promise(F=>{setTimeout(()=>{I=!0,F()},d)})),B.push(new Promise((F,U)=>{let k=l?an:Tr,L={locateFile:(_,x)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Er()],{type:"text/javascript"})):_.endsWith(".wasm")?D||(i??x)+A:x+_};if(l)if(L.numThreads=a,typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;L.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(L).then(_=>{pt=!1,Pt=!0,Ut=_,F()},_=>{pt=!1,Sr=!0,U(_)})})),await Promise.race(B),I)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},X=()=>{if(Pt&&Ut)return Ut;throw new Error("WebAssembly is not initialized yet.")};var Q=(u,d)=>{let a=X(),h=a.lengthBytesUTF8(u)+1,l=a._malloc(h);return a.stringToUTF8(u,l,h),d.push(l),l},rt=(u,d,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([l,w])=>{let g=d?d+l:l;if(typeof w=="object")rt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},V=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let l=d.HEAP32[h/4],w=d.HEAPU32[h/4+1],g=w?d.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Mr=u=>{let d=X(),a=0,h=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let w=0;return u?.tag!==void 0&&(w=Q(u.tag,h)),a=d._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,w),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&rt(u.extra,"",new WeakSet,(g,i)=>{let A=Q(g,h),D=Q(i,h);d._OrtAddRunConfigEntry(a,A,D)!==0&&V(`Can\'t set a run config entry: ${g} - ${i}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),w}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let d=u.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,d,a)=>{for(let h of d){let l=typeof h=="string"?h:h.name;switch(l){case"webnn":if(l="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let i=Q("deviceType",a),A=Q(g.deviceType,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let A=Q("numThreads",a),D=Q(i.toString(),a);X()._OrtAddSessionConfigEntry(u,A,D)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=Q("powerPreference",a),A=Q(g.powerPreference,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=Q("preferredLayout",a),A=Q(g.preferredLayout,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let w=Q(l,a);X()._OrtAppendExecutionProvider(u,w)!==0&&V(`Can\'t append execution provider: ${l}.`)}},Cr=u=>{let d=X(),a=0,h=[],l=u||{};cn(l);try{let w=fn(l.graphOptimizationLevel??"all"),g=ln(l.executionMode??"sequential"),i=typeof l.logId=="string"?Q(l.logId,h):0,A=l.logSeverityLevel??2;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log serverity level is not valid: ${A}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let I=typeof l.optimizedModelFilePath=="string"?Q(l.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(w,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,i,A,D,I),a===0&&V("Can\'t create session options."),l.executionProviders&&dn(a,l.executionProviders,h),l.freeDimensionOverrides)for(let[B,F]of Object.entries(l.freeDimensionOverrides)){if(typeof B!="string")throw new Error(`free dimension override name must be a string: ${B}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let U=Q(B,h);d._OrtAddFreeDimensionOverride(a,U,F)!==0&&V(`Can\'t set a free dimension override: ${B} - ${F}.`)}return l.extra!==void 0&&rt(l.extra,"",new WeakSet,(B,F)=>{let U=Q(B,h),k=Q(F,h);d._OrtAddSessionConfigEntry(a,U,k)!==0&&V(`Can\'t set a session config entry: ${B} - ${F}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),w}};var Rt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],xr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Ur=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Pr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Rr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let l of a)h.push(l);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(u);if(!d.ok)throw new Error(`failed to load external data file: ${u}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let l=d.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(i){if(i instanceof RangeError){let A=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:A,maximum:A}).buffer}else throw i}let g=0;for(;;){let{done:i,value:A}=await l.read();if(i)break;let D=A.byteLength;new Uint8Array(w,g,D).set(A),g+=D}return new Uint8Array(w,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,d)=>{X()._OrtInit(u,d)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,Fr(u.logLevel))},Br=async(u,d)=>{},nt=new Map,mn=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},Lt=u=>{let d=X(),a=d._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return d.HEAPU8.set(u,a),[a,u.byteLength]},Wr=async(u,d)=>{let a,h,l=X();Array.isArray(u)?[a,h]=u:u.buffer===l.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let w=0,g=0,i=0,A=[],D=[],I=[];try{if([g,A]=Cr(d),d?.externalData&&l.mountExternalData){let x=[];for(let N of d.externalData){let he=typeof N=="string"?N:N.path;x.push(Rr(typeof N=="string"?N:N.data).then(ie=>{l.mountExternalData(he,ie)}))}await Promise.all(x)}w=l._OrtCreateSession(a,h,g),w===0&&V("Can\'t create a session.");let[B,F]=mn(w),U=[],k=[],L=[];for(let x=0;x<B;x++){let N=l._OrtGetInputName(w,x);N===0&&V("Can\'t get an input name."),D.push(N),U.push(l.UTF8ToString(N))}for(let x=0;x<F;x++){let N=l._OrtGetOutputName(w,x);N===0&&V("Can\'t get an output name."),I.push(N);let he=l.UTF8ToString(N);k.push(he)}let _=null;return nt.set(w,[w,D,I,_]),[w,U,k]}catch(B){throw D.forEach(F=>l._OrtFree(F)),I.forEach(F=>l._OrtFree(F)),i!==0&&l._OrtReleaseBinding(i),w!==0&&l._OrtReleaseSession(w),B}finally{l._free(a),g!==0&&l._OrtReleaseSessionOptions(g),A.forEach(B=>l._free(B)),l.unmountExternalData?.()}},kr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,l,w,g]=a;g&&d._OrtReleaseBinding(g.handle),d.jsepUnregisterBuffers?.(u),l.forEach(i=>d._OrtFree(i)),w.forEach(i=>d._OrtFree(i)),d._OrtReleaseSession(h),nt.delete(u)},Ir=(u,d,a,h,l)=>{if(!u){d.push(0);return}let w=X(),g=u[0],i=u[1],A=u[3],D,I;if(g==="string"&&A==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(A==="gpu-buffer"){let U=u[2].gpuBuffer,k=It(Rt(g));I=i.reduce((L,_)=>L*_,1)*k,D=w.jsepRegisterBuffer(h,l,U,I)}else{let U=u[2];if(Array.isArray(U)){I=4*U.length,D=w._malloc(I),a.push(D);let k=D/4;for(let L=0;L<U.length;L++){if(typeof U[L]!="string")throw new TypeError(`tensor data at index ${L} is not a string`);w.HEAPU32[k++]=Q(U[L],a)}}else I=U.byteLength,D=w._malloc(I),a.push(D),w.HEAPU8.set(new Uint8Array(U.buffer,U.byteOffset,I),D)}let B=w.stackSave(),F=w.stackAlloc(4*i.length);try{let U=F/4;i.forEach(L=>w.HEAP32[U++]=L);let k=w._OrtCreateTensor(Rt(g),D,I,F,i.length,Pr(A));k===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${l}.`),d.push(k)}finally{w.stackRestore(B)}},Nr=async(u,d,a,h,l,w)=>{let g=X(),i=nt.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[A,D,I,B]=i,F=d.length,U=h.length,k=0,L=[],_=[],x=[],N=[],he=g.stackSave(),ie=g.stackAlloc(F*4),ae=g.stackAlloc(F*4),E=g.stackAlloc(U*4),Y=g.stackAlloc(U*4);try{[k,L]=Mr(w);for(let P=0;P<F;P++)Ir(a[P],_,N,u,d[P]);for(let P=0;P<U;P++)Ir(l[P],x,N,u,F+h[P]);let ue=ie/4,Re=ae/4,Ie=E/4,ee=Y/4;for(let P=0;P<F;P++)g.HEAPU32[ue++]=_[P],g.HEAPU32[Re++]=D[d[P]];for(let P=0;P<U;P++)g.HEAPU32[Ie++]=x[P],g.HEAPU32[ee++]=I[h[P]];let j;j=await g._OrtRun(A,ae,ie,F,Y,U,E,k),j!==0&&V("failed to call OrtRun().");let ce=[];for(let P=0;P<U;P++){let te=g.HEAPU32[E/4+P];if(te===x[P]){ce.push(l[P]);continue}let de=g.stackSave(),ge=g.stackAlloc(4*4),ye=!1,J,fe=0;try{g._OrtGetTensorData(te,ge,ge+4,ge+8,ge+12)!==0&&V(`Can\'t access output tensor data on index ${P}.`);let Ae=ge/4,Me=g.HEAPU32[Ae++];fe=g.HEAPU32[Ae++];let Fe=g.HEAPU32[Ae++],Ee=g.HEAPU32[Ae++],pe=[];for(let re=0;re<Ee;re++)pe.push(g.HEAPU32[Fe/4+re]);g._OrtFree(Fe);let Oe=pe.reduce((re,Z)=>re*Z,1);J=Dr(Me);let ve=B?.outputPreferredLocations[h[P]];if(J==="string"){if(ve==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Z=fe/4;for(let Ce=0;Ce<Oe;Ce++){let be=g.HEAPU32[Z++],_e=Ce===Oe-1?void 0:g.HEAPU32[Z]-be;re.push(g.UTF8ToString(be,_e))}ce.push([J,pe,re,"cpu"])}else if(ve==="gpu-buffer"&&Oe>0){let re=g.jsepGetBuffer(fe),Z=It(Me);if(Z===void 0||!Ur(J))throw new Error(`Unsupported data type: ${J}`);ye=!0,ce.push([J,pe,{gpuBuffer:re,download:g.jsepCreateDownloader(re,Oe*Z,J),dispose:()=>{g._OrtReleaseTensor(te)}},"gpu-buffer"])}else{let re=xr(J),Z=new re(Oe);new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength).set(g.HEAPU8.subarray(fe,fe+Z.byteLength)),ce.push([J,pe,Z,"cpu"])}}finally{g.stackRestore(de),J==="string"&&fe&&g._free(fe),ye||g._OrtReleaseTensor(te)}}return B&&g._OrtClearBoundOutputs(B.handle),ce}finally{g.stackRestore(he),_.forEach(ue=>g._OrtReleaseTensor(ue)),x.forEach(ue=>g._OrtReleaseTensor(ue)),N.forEach(ue=>g._free(ue)),k!==0&&g._OrtReleaseRunOptions(k),L.forEach(ue=>g._free(ue))}},Hr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error("invalid session id");let h=a[0],l=d._OrtEndProfiling(h);l===0&&V("Can\'t get an profile file name."),d._OrtFree(l)},$r=u=>{let d=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=u=>{let{type:d,in:a}=u.data;try{switch(d){case"init-wasm":Ar(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:l}=a;Br(l,h).then(()=>{postMessage({type:d})},w=>{postMessage({type:d,err:w})});break}case"copy-from":{let{buffer:h}=a,l=Lt(h);postMessage({type:d,out:l});break}case"create":{let{model:h,options:l}=a;Wr(h,l).then(w=>{postMessage({type:d,out:w})},w=>{postMessage({type:d,err:w})});break}case"release":kr(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:l,inputs:w,outputIndices:g,options:i}=a;Nr(h,l,w,g,new Array(g.length).fill(null),i).then(A=>{A.some(D=>D[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:A},$r(A))},A=>{postMessage({type:d,err:A})});break}case"end-profiling":Hr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'}),xr,bt,Tn,Fo,$o,da,ha,Vr,Wr,gg,Lo,nd,od,id,ad,sd,ud,ld,ma=L(()=>{var e;vt(),td(),zr(),xr=()=>!!Z.wasm.proxy&&typeof document<"u",Tn=!1,Fo=!1,$o=!1,ha=new Map,Vr=(t,r)=>{let o=ha.get(t);o?o.push(r):ha.set(t,[r])},Wr=()=>{if(Tn||!Fo||$o||!bt)throw new Error("worker not ready")},gg=t=>{switch(t.data.type){case"init-wasm":Tn=!1,t.data.err?($o=!0,da[1](t.data.err)):(Fo=!0,da[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=ha.get(t.data.type);t.data.err?r.shift()[1](t.data.err):r.shift()[0](t.data.out);break}}},Lo=typeof document<"u"?(e=document==null?void 0:document.currentScript)==null?void 0:e.src:void 0,nd=async()=>{if(!Fo){if(Tn)throw new Error("multiple calls to 'initWasm()' detected.");if($o)throw new Error("previous call to 'initWasm()' failed.");if(Tn=!0,xr())return Z.wasm.wasmPaths===void 0&&Lo&&Lo.indexOf("blob:")!==0&&(Z.wasm.wasmPaths=Lo.substr(0,+Lo.lastIndexOf("/")+1)),new Promise((t,r)=>{bt==null||bt.terminate();let o=URL.createObjectURL(new Blob([rd()],{type:"text/javascript"}));bt=new Worker(o,{name:"ort-wasm-proxy-worker"}),bt.onerror=n=>r(n),bt.onmessage=gg,URL.revokeObjectURL(o),da=[t,r];let a={type:"init-wasm",in:Z};bt.postMessage(a)});try{await Rp(Z.wasm),await Yp(Z),Fo=!0}catch(t){throw $o=!0,t}finally{Tn=!1}}},od=async t=>{if(xr())return Wr(),new Promise((r,o)=>{Vr("init-ep",[r,o]);let a={type:"init-ep",in:{epName:t,env:Z}};bt.postMessage(a)});await Xp(Z,t)},id=async t=>xr()?(Wr(),new Promise((r,o)=>{Vr("copy-from",[r,o]);let a={type:"copy-from",in:{buffer:t}};bt.postMessage(a,[t.buffer])})):pa(t),ad=async(t,r)=>{if(xr()){if(r!=null&&r.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Wr(),new Promise((o,a)=>{Vr("create",[o,a]);let n={type:"create",in:{model:t,options:r}},s=[];t instanceof Uint8Array&&s.push(t.buffer),bt.postMessage(n,s)})}else return Kp(t,r)},sd=async t=>{if(xr())return Wr(),new Promise((r,o)=>{Vr("release",[r,o]);let a={type:"release",in:t};bt.postMessage(a)});Jp(t)},ud=async(t,r,o,a,n,s)=>{if(xr()){if(o.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(n.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return Wr(),new Promise((d,h)=>{Vr("run",[d,h]);let i=o,l={type:"run",in:{sessionId:t,inputIndices:r,inputs:i,outputIndices:a,options:s}};bt.postMessage(l,ed(i))})}else return Zp(t,r,o,a,n,s)},ld=async t=>{if(xr())return Wr(),new Promise((r,o)=>{Vr("end-profiling",[r,o]);let a={type:"end-profiling",in:t};bt.postMessage(a)});Qp(t)}}),fd,yg,Co,cd=L(()=>{vt(),ma(),fa(),ca(),fd=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`)}},yg=e=>{switch(e[3]){case"cpu":return new Re(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!Do(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:r,download:o,dispose:a}=e[2];return Re.fromGpuBuffer(r,{dataType:t,dims:e[1],download:o,dispose:a})}default:throw new Error(`invalid data location: ${e[3]}`)}},Co=class{async fetchModelAndCopyToWasmMemory(e){return id(await gn(e))}async loadModel(e,t){ar();let r;typeof e=="string"?typeof process<"u"&&process.versions&&process.versions.node?r=await gn(e):r=await this.fetchModelAndCopyToWasmMemory(e):r=e,[this.sessionId,this.inputNames,this.outputNames]=await ad(r,t),sr()}async dispose(){return sd(this.sessionId)}async run(e,t,r){ar();let o=[],a=[];Object.entries(e).forEach(c=>{let g=c[0],y=c[1],S=this.inputNames.indexOf(g);if(S===-1)throw new Error(`invalid input '${g}'`);o.push(y),a.push(S)});let n=[],s=[];Object.entries(t).forEach(c=>{let g=c[0],y=c[1],S=this.outputNames.indexOf(g);if(S===-1)throw new Error(`invalid output '${g}'`);n.push(y),s.push(S)});let d=o.map((c,g)=>fd(c,()=>`input "${this.inputNames[a[g]]}"`)),h=n.map((c,g)=>c?fd(c,()=>`output "${this.outputNames[s[g]]}"`):null),i=await ud(this.sessionId,a,d,s,h,r),l={};for(let c=0;c<i.length;c++)l[this.outputNames[s[c]]]=n[c]??yg(i[c]);return sr(),l}startProfiling(){}endProfiling(){ld(this.sessionId)}}}),Tg,ko,pd=L(()=>{vt(),ma(),cd(),Tg=()=>{if((typeof Z.wasm.initTimeout!="number"||Z.wasm.initTimeout<0)&&(Z.wasm.initTimeout=0),typeof Z.wasm.simd!="boolean"&&(Z.wasm.simd=!0),typeof Z.wasm.proxy!="boolean"&&(Z.wasm.proxy=!1),typeof Z.wasm.trace!="boolean"&&(Z.wasm.trace=!1),typeof Z.wasm.numThreads!="number"||!Number.isInteger(Z.wasm.numThreads)||Z.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(Z.wasm.numThreads=1);let e=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Z.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},ko=class{async init(e){Tg(),await nd(),await od(e)}async createInferenceSessionHandler(e,t){let r=new Co;return await r.loadModel(e,t),Promise.resolve(r)}}}),dd={};Pr(dd,{wasmBackend:()=>xg});var xg,hd=L(()=>{pd(),xg=new ko});vt();vt();vt();var ys="1.17.1";{let e=(_p(),rr(wp)).onnxjsBackend;or("webgl",e,-10)}{let e=(hd(),rr(dd)).wasmBackend;or("cpu",e,10),or("wasm",e,10),or("webnn",e,9)}Object.defineProperty(Z.versions,"web",{value:ys,enumerable:!0});/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/var util;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const n={};for(const s of a)n[s]=s;return n},e.getValidEnumValues=a=>{const n=e.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),s={};for(const d of n)s[d]=a[d];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(n){return a[n]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.push(s);return n},e.find=(a,n)=>{for(const s of a)if(n(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function o(a,n=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(n)}e.joinValues=o,e.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(n){return n.message},o={_errors:[]},a=n=>{for(const s of n.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)o._errors.push(r(s));else{let d=o,h=0;for(;h<s.path.length;){const i=s.path[h];h===s.path.length-1?(d[i]=d[i]||{_errors:[]},d[i]._errors.push(r(s))):d[i]=d[i]||{_errors:[]},d=d[i],h++}}};return a(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},o=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):o.push(t(a));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let r;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:r="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case ZodIssueCode.invalid_date:r="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ZodIssueCode.custom:r="Invalid input";break;case ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,util.assertNever(e)}return{message:r}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:r,errorMaps:o,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};let d="";const h=o.filter(i=>!!i).slice().reverse();for(const i of h)d=i(s,{data:t,defaultError:d}).message;return{...a,path:n,message:a.message||d}},EMPTY_PATH=[];function addIssueToContext(e,t){const r=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter(o=>!!o)});e.common.issues.push(r)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const o=[];for(const a of r){if(a.status==="aborted")return INVALID;a.status==="dirty"&&t.dirty(),o.push(a.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,r){const o=[];for(const a of r)o.push({key:await a.key,value:await a.value});return ParseStatus.mergeObjectSync(t,o)}static mergeObjectSync(t,r){const o={};for(const a of r){const{key:n,value:s}=a;if(n.status==="aborted"||s.status==="aborted")return INVALID;n.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||a.alwaysSet)&&(o[n.value]=s.value)}return{status:t.value,value:o}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;var errorUtil;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(t,r,o,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=o,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ZodError(e.common.issues);return this._error=r,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:o,description:a}=e;if(t&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,d)=>s.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:r??d.defaultError},description:a}}class ZodType{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(isAsync(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const o=this.safeParse(t,r);if(o.success)return o.data;throw o.error}safeParse(t,r){var o;const a={common:{issues:[],async:(o=r==null?void 0:r.async)!==null&&o!==void 0?o:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},n=this._parseSync({data:t,path:a.path,parent:a});return handleResult(a,n)}async parseAsync(t,r){const o=await this.safeParseAsync(t,r);if(o.success)return o.data;throw o.error}async safeParseAsync(t,r){const o={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},a=this._parse({data:t,path:o.path,parent:o}),n=await(isAsync(a)?a:Promise.resolve(a));return handleResult(o,n)}refine(t,r){const o=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,n)=>{const s=t(a),d=()=>n.addIssue({code:ZodIssueCode.custom,...o(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(h=>h?!0:(d(),!1)):s?!0:(d(),!1)})}refinement(t,r){return this._refinement((o,a)=>t(o)?!0:(a.addIssue(typeof r=="function"?r(o,a):r),!1))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:r,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:r,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(e,t){return!!((t==="v4"||!t)&&ipv4Regex.test(e)||(t==="v6"||!t)&&ipv6Regex.test(e))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(t,r,o)=>this.refinement(a=>t.test(a),{validation:r,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(o)}),this.nonempty=t=>this.min(1,errorUtil.errToObj(t)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:n.parsedType}),INVALID}const o=new ParseStatus;let a;for(const n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),o.dirty());else if(n.kind==="max")t.data.length>n.value&&(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),o.dirty());else if(n.kind==="length"){const s=t.data.length>n.value,d=t.data.length<n.value;(s||d)&&(a=this._getOrReturnCtx(t,a),s?addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):d&&addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),o.dirty())}else if(n.kind==="email")emailRegex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"email",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="emoji")emojiRegex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"emoji",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="uuid")uuidRegex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"uuid",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="cuid")cuidRegex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"cuid",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="cuid2")cuid2Regex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="ulid")ulidRegex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"ulid",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"url",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"regex",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),o.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{startsWith:n.value},message:n.message}),o.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{endsWith:n.value},message:n.message}),o.dirty()):n.kind==="datetime"?datetimeRegex(n).test(t.data)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:"datetime",message:n.message}),o.dirty()):n.kind==="ip"?isValidIP(t.data,n.version)||(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{validation:"ip",code:ZodIssueCode.invalid_string,message:n.message}),o.dirty()):util.assertNever(n);return{status:o.value,value:t.data}}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,...errorUtil.errToObj(t==null?void 0:t.message)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...errorUtil.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};function floatSafeRemainder(e,t){const r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,a=r>o?r:o,n=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return n%s/Math.pow(10,a)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:n.parsedType}),INVALID}let o;const a=new ParseStatus;for(const n of this._def.checks)n.kind==="int"?util.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?floatSafeRemainder(t.data,n.value)!==0&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.not_finite,message:n.message}),a.dirty()):util.assertNever(n);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,errorUtil.toString(r))}setLimit(t,r,o,a){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:o,message:errorUtil.toString(a)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&util.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ZodParsedType.bigint){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:n.parsedType}),INVALID}let o;const a=new ParseStatus;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),addIssueToContext(o,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):util.assertNever(n);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,errorUtil.toString(r))}setLimit(t,r,o,a){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:o,message:errorUtil.toString(a)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ZodParsedType.boolean){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:o.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:n.parsedType}),INVALID}if(isNaN(t.data.getTime())){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_date}),INVALID}const o=new ParseStatus;let a;for(const n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),o.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(a=this._getOrReturnCtx(t,a),addIssueToContext(a,{code:ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),o.dirty()):util.assertNever(n);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:o.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:o.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:o.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(t){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:r.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:o.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(t){const{ctx:r,status:o}=this._processInputParams(t),a=this._def;if(r.parsedType!==ZodParsedType.array)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:r.parsedType}),INVALID;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,d=r.data.length<a.exactLength.value;(s||d)&&(addIssueToContext(r,{code:s?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:d?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),o.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),o.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((s,d)=>a.type._parseAsync(new ParseInputLazyPath(r,s,r.path,d)))).then(s=>ParseStatus.mergeArray(o,s));const n=[...r.data].map((s,d)=>a.type._parseSync(new ParseInputLazyPath(r,s,r.path,d)));return ParseStatus.mergeArray(o,n)}get element(){return this._def.type}min(t,r){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(r)}})}max(t,r){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(r)}})}length(t,r){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(r)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const r in e.shape){const o=e.shape[r];t[r]=ZodOptional.create(deepPartialify(o))}return new ZodObject({...e._def,shape:()=>t})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(t=>deepPartialify(t))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=util.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ZodParsedType.object){const i=this._getOrReturnCtx(t);return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:i.parsedType}),INVALID}const{status:o,ctx:a}=this._processInputParams(t),{shape:n,keys:s}=this._getCached(),d=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const i in a.data)s.includes(i)||d.push(i);const h=[];for(const i of s){const l=n[i],c=a.data[i];h.push({key:{status:"valid",value:i},value:l._parse(new ParseInputLazyPath(a,c,a.path,i)),alwaysSet:i in a.data})}if(this._def.catchall instanceof ZodNever){const i=this._def.unknownKeys;if(i==="passthrough")for(const l of d)h.push({key:{status:"valid",value:l},value:{status:"valid",value:a.data[l]}});else if(i==="strict")d.length>0&&(addIssueToContext(a,{code:ZodIssueCode.unrecognized_keys,keys:d}),o.dirty());else if(i!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const i=this._def.catchall;for(const l of d){const c=a.data[l];h.push({key:{status:"valid",value:l},value:i._parse(new ParseInputLazyPath(a,c,a.path,l)),alwaysSet:l in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const i=[];for(const l of h){const c=await l.key;i.push({key:c,value:await l.value,alwaysSet:l.alwaysSet})}return i}).then(i=>ParseStatus.mergeObjectSync(o,i)):ParseStatus.mergeObjectSync(o,h)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,o)=>{var a,n,s,d;const h=(s=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,r,o).message)!==null&&s!==void 0?s:o.defaultError;return r.code==="unrecognized_keys"?{message:(d=errorUtil.errToObj(t).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const r={};return util.objectKeys(t).forEach(o=>{t[o]&&this.shape[o]&&(r[o]=this.shape[o])}),new ZodObject({...this._def,shape:()=>r})}omit(t){const r={};return util.objectKeys(this.shape).forEach(o=>{t[o]||(r[o]=this.shape[o])}),new ZodObject({...this._def,shape:()=>r})}deepPartial(){return deepPartialify(this)}partial(t){const r={};return util.objectKeys(this.shape).forEach(o=>{const a=this.shape[o];t&&!t[o]?r[o]=a:r[o]=a.optional()}),new ZodObject({...this._def,shape:()=>r})}required(t){const r={};return util.objectKeys(this.shape).forEach(o=>{if(t&&!t[o])r[o]=this.shape[o];else{let n=this.shape[o];for(;n instanceof ZodOptional;)n=n._def.innerType;r[o]=n}}),new ZodObject({...this._def,shape:()=>r})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),o=this._def.options;function a(n){for(const d of n)if(d.result.status==="valid")return d.result;for(const d of n)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const s=n.map(d=>new ZodError(d.ctx.common.issues));return addIssueToContext(r,{code:ZodIssueCode.invalid_union,unionErrors:s}),INVALID}if(r.common.async)return Promise.all(o.map(async n=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await n._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let n;const s=[];for(const h of o){const i={...r,common:{...r.common,issues:[]},parent:null},l=h._parseSync({data:r.data,path:r.path,parent:i});if(l.status==="valid")return l;l.status==="dirty"&&!n&&(n={result:l,ctx:i}),i.common.issues.length&&s.push(i.common.issues)}if(n)return r.common.issues.push(...n.ctx.common.issues),n.result;const d=s.map(h=>new ZodError(h));return addIssueToContext(r,{code:ZodIssueCode.invalid_union,unionErrors:d}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?Object.keys(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.object)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:r.parsedType}),INVALID;const o=this.discriminator,a=r.data[o],n=this.optionsMap.get(a);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(addIssueToContext(r,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,o){const a=new Map;for(const n of r){const s=getDiscriminator(n.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const d of s){if(a.has(d))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(d)}`);a.set(d,n)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...processCreateParams(o)})}}function mergeValues(e,t){const r=getParsedType(e),o=getParsedType(t);if(e===t)return{valid:!0,data:e};if(r===ZodParsedType.object&&o===ZodParsedType.object){const a=util.objectKeys(t),n=util.objectKeys(e).filter(d=>a.indexOf(d)!==-1),s={...e,...t};for(const d of n){const h=mergeValues(e[d],t[d]);if(!h.valid)return{valid:!1};s[d]=h.data}return{valid:!0,data:s}}else if(r===ZodParsedType.array&&o===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let n=0;n<e.length;n++){const s=e[n],d=t[n],h=mergeValues(s,d);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return r===ZodParsedType.date&&o===ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:r,ctx:o}=this._processInputParams(t),a=(n,s)=>{if(isAborted(n)||isAborted(s))return INVALID;const d=mergeValues(n.value,s.value);return d.valid?((isDirty(n)||isDirty(s))&&r.dirty(),{status:r.value,value:d.data}):(addIssueToContext(o,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([n,s])=>a(n,s)):a(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}ZodIntersection.create=(e,t,r)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(r)});class ZodTuple extends ZodType{_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==ZodParsedType.array)return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:o.parsedType}),INVALID;if(o.data.length<this._def.items.length)return addIssueToContext(o,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&o.data.length>this._def.items.length&&(addIssueToContext(o,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...o.data].map((s,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new ParseInputLazyPath(o,s,o.path,d)):null}).filter(s=>!!s);return o.common.async?Promise.all(n).then(s=>ParseStatus.mergeArray(r,s)):ParseStatus.mergeArray(r,n)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==ZodParsedType.object)return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:o.parsedType}),INVALID;const a=[],n=this._def.keyType,s=this._def.valueType;for(const d in o.data)a.push({key:n._parse(new ParseInputLazyPath(o,d,o.path,d)),value:s._parse(new ParseInputLazyPath(o,o.data[d],o.path,d))});return o.common.async?ParseStatus.mergeObjectAsync(r,a):ParseStatus.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,o){return r instanceof ZodType?new ZodRecord({keyType:t,valueType:r,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(o)}):new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(r)})}}class ZodMap extends ZodType{_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==ZodParsedType.map)return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:o.parsedType}),INVALID;const a=this._def.keyType,n=this._def.valueType,s=[...o.data.entries()].map(([d,h],i)=>({key:a._parse(new ParseInputLazyPath(o,d,o.path,[i,"key"])),value:n._parse(new ParseInputLazyPath(o,h,o.path,[i,"value"]))}));if(o.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of s){const i=await h.key,l=await h.value;if(i.status==="aborted"||l.status==="aborted")return INVALID;(i.status==="dirty"||l.status==="dirty")&&r.dirty(),d.set(i.value,l.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of s){const i=h.key,l=h.value;if(i.status==="aborted"||l.status==="aborted")return INVALID;(i.status==="dirty"||l.status==="dirty")&&r.dirty(),d.set(i.value,l.value)}return{status:r.value,value:d}}}}ZodMap.create=(e,t,r)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(r)});class ZodSet extends ZodType{_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==ZodParsedType.set)return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:o.parsedType}),INVALID;const a=this._def;a.minSize!==null&&o.data.size<a.minSize.value&&(addIssueToContext(o,{code:ZodIssueCode.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&o.data.size>a.maxSize.value&&(addIssueToContext(o,{code:ZodIssueCode.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const n=this._def.valueType;function s(h){const i=new Set;for(const l of h){if(l.status==="aborted")return INVALID;l.status==="dirty"&&r.dirty(),i.add(l.value)}return{status:r.value,value:i}}const d=[...o.data.values()].map((h,i)=>n._parse(new ParseInputLazyPath(o,h,o.path,i)));return o.common.async?Promise.all(d).then(h=>s(h)):s(d)}min(t,r){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(r)}})}max(t,r){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.function)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:r.parsedType}),INVALID;function o(d,h){return makeIssue({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(i=>!!i),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:h}})}function a(d,h){return makeIssue({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(i=>!!i),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:h}})}const n={errorMap:r.common.contextualErrorMap},s=r.data;return this._def.returns instanceof ZodPromise?OK(async(...d)=>{const h=new ZodError([]),i=await this._def.args.parseAsync(d,n).catch(g=>{throw h.addIssue(o(d,g)),h}),l=await s(...i);return await this._def.returns._def.type.parseAsync(l,n).catch(g=>{throw h.addIssue(a(l,g)),h})}):OK((...d)=>{const h=this._def.args.safeParse(d,n);if(!h.success)throw new ZodError([o(d,h.error)]);const i=s(...h.data),l=this._def.returns.safeParse(i,n);if(!l.success)throw new ZodError([a(i,l.error)]);return l.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,o){return new ZodFunction({args:t||ZodTuple.create([]).rest(ZodUnknown.create()),returns:r||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(o)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),o=this._def.values;return addIssueToContext(r,{expected:util.joinValues(o),received:r.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),o=this._def.values;return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_enum_value,options:o}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return ZodEnum.create(t)}exclude(t){return ZodEnum.create(this.options.filter(r=>!t.includes(r)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(t){const r=util.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==ZodParsedType.string&&o.parsedType!==ZodParsedType.number){const a=util.objectValues(r);return addIssueToContext(o,{expected:util.joinValues(a),received:o.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(r.indexOf(t.data)===-1){const a=util.objectValues(r);return addIssueToContext(o,{received:o.data,code:ZodIssueCode.invalid_enum_value,options:a}),INVALID}return OK(t.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.promise&&r.common.async===!1)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:r.parsedType}),INVALID;const o=r.parsedType===ZodParsedType.promise?r.data:Promise.resolve(r.data);return OK(o.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:o}=this._processInputParams(t),a=this._def.effect||null;if(a.type==="preprocess"){const s=a.transform(o.data);return o.common.async?Promise.resolve(s).then(d=>this._def.schema._parseAsync({data:d,path:o.path,parent:o})):this._def.schema._parseSync({data:s,path:o.path,parent:o})}const n={addIssue:s=>{addIssueToContext(o,s),s.fatal?r.abort():r.dirty()},get path(){return o.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="refinement"){const s=d=>{const h=a.refinement(d,n);if(o.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return d.status==="aborted"?INVALID:(d.status==="dirty"&&r.dirty(),s(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>d.status==="aborted"?INVALID:(d.status==="dirty"&&r.dirty(),s(d.value).then(()=>({status:r.value,value:d.value}))))}if(a.type==="transform")if(o.common.async===!1){const s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!isValid(s))return s;const d=a.transform(s.value,n);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(s=>isValid(s)?Promise.resolve(a.transform(s.value,n)).then(d=>({status:r.value,value:d})):s);util.assertNever(a)}}ZodEffects.create=(e,t,r)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(r)});ZodEffects.createWithPreprocess=(e,t,r)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(r)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t);let o=r.data;return r.parsedType===ZodParsedType.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),o={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return isAsync(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ZodError(o.common.issues)},input:o.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ZodError(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const o=this._getOrReturnCtx(t);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:o.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?INVALID:n.status==="dirty"?(r.dirty(),DIRTY(n.value)):this._def.out._parseAsync({data:n.value,path:o.path,parent:o})})();{const a=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?INVALID:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:o.path,parent:o})}}static create(t,r){return new ZodPipeline({in:t,out:r,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom=(e,t={},r)=>e?ZodAny.create().superRefine((o,a)=>{var n,s;if(!e(o)){const d=typeof t=="function"?t(o):typeof t=="string"?{message:t}:t,h=(s=(n=d.fatal)!==null&&n!==void 0?n:r)!==null&&s!==void 0?s:!0,i=typeof d=="string"?{message:d}:d;a.addIssue({code:"custom",...i,fatal:h})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,t={message:`Input not instance of ${e.name}`})=>custom(r=>r instanceof e,t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});async function imageDecode(e){const t=MimeType.fromString(e.type);switch(t.type){case"image/x-alpha8":{const r=parseInt(t.params.width),o=parseInt(t.params.height);return ndarray5(new Uint8Array(await e.arrayBuffer()),[o,r,1])}case"image/x-rgba8":{const r=parseInt(t.params.width),o=parseInt(t.params.height);return ndarray5(new Uint8Array(await e.arrayBuffer()),[o,r,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/webp":{const r=await createImageBitmap(e),o=imageBitmapToImageData(r);return ndarray5(new Uint8Array(o.data),[o.height,o.width,4])}default:throw new Error(`Invalid format: ${t.type} with params: ${t.params}`)}}async function imageEncode(e,t=.8,r="image/png"){const[o,a,n]=e.shape;switch(r){case"image/x-alpha8":case"image/x-rgba8":{const h=MimeType.create(r,{width:a.toString(),height:o.toString()});return new Blob([e.data],{type:h.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const h=new ImageData(new Uint8ClampedArray(e.data),a,o);var s=createCanvas(h.width,h.height),d=s.getContext("2d");return d.putImageData(h,0,0),s.convertToBlob({quality:t,type:r})}default:throw new Error(`Invalid format: ${r}`)}}var MimeType=class Y0{constructor(t,r){G0(this,"type","application/octet-stream");G0(this,"params",{});this.type=t,this.params=r}toString(){const t=[];for(const r in this.params){const o=this.params[r];t.push(`${r}=${o}`)}return[this.type,...t].join(";")}static create(t,r){return new Y0(t,r)}isIdentical(t){return this.type===t.type&&this.params===t.params}isEqual(t){return this.type===t.type}static fromString(t){const[r,...o]=t.split(";"),a={};for(const n of o){const[s,d]=n.split("=");a[s.trim()]=d.trim()}return new Y0(r,a)}};function isAbsoluteURI(e){return new RegExp("^(?:[a-z+]+:)?//","i").test(e)}function ensureAbsoluteURI(e,t){return isAbsoluteURI(e)?e:new URL(e,t).href}function imageBitmapToImageData(e){var t=createCanvas(e.width,e.height),r=t.getContext("2d");return r.drawImage(e,0,0),r.getImageData(0,0,t.width,t.height)}function tensorResizeBilinear(e,t,r){const[o,a,n]=e.shape,s=a/t,d=o/r,h=ndarray5(new Uint8Array(n*t*r),[r,t,n]);for(let i=0;i<r;i++)for(let l=0;l<t;l++){const c=l*s,g=i*d,y=Math.max(Math.floor(c),0),S=Math.min(Math.ceil(c),a-1),I=Math.max(Math.floor(g),0),A=Math.min(Math.ceil(g),o-1),H=c-y,N=g-I;for(let G=0;G<n;G++){const pe=e.get(I,y,G),Ne=e.get(I,S,G),ze=e.get(A,y,G),Tt=e.get(A,S,G),yt=(1-H)*(1-N)*pe+H*(1-N)*Ne+(1-H)*N*ze+H*N*Tt;h.set(i,l,G,Math.round(yt))}}return h}function tensorHWCtoBCHW(e,t=[128,128,128],r=[256,256,256]){var o=e.data;const[a,n,s]=e.shape,d=a*n,h=new Float32Array(3*d);for(let i=0,l=0;i<o.length;i+=4,l+=1)h[l]=(o[i]-t[0])/r[0],h[l+d]=(o[i+1]-t[1])/r[1],h[l+d+d]=(o[i+2]-t[2])/r[2];return ndarray5(h,[1,3,a,n])}async function imageSourceToImageData(e,t){return typeof e=="string"&&(e=ensureAbsoluteURI(e,t.publicPath),e=new URL(e)),e instanceof URL&&(e=await(await fetch(e,{})).blob()),(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e=new Blob([e])),e instanceof Blob&&(e=await imageDecode(e)),e}function convertFloat32ToUint8(e){const t=new Uint8Array(e.data.length);for(let r=0;r<e.data.length;r++)t[r]=e.data[r]*255;return ndarray5(t,e.shape)}function createCanvas(e,t){let r;if(typeof OffscreenCanvas<"u"?r=new OffscreenCanvas(e,t):r=document.createElement("canvas"),!r)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return r}async function loadAsUrl(e,t){return URL.createObjectURL(await loadAsBlob(e,t))}async function loadAsBlob(e,t){const r=new URL("resources.json",t.publicPath),o=await fetch(r);if(!o.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const n=(await o.json())[e];if(!n)throw new Error(`Resource ${e} not found. Ensure that the config.publicPath is configured correctly.`);const s=n.chunks;let d=0;const h=s.map(async c=>{const g=c.offsets[1]-c.offsets[0],y=t.publicPath?new URL(c.hash,t.publicPath).toString():c.hash,I=await(await fetch(y,t.fetchArgs)).blob();if(g!==I.size)throw new Error(`Failed to fetch ${e} with size ${g} but got ${I.size}`);return t.progress&&(d+=g,t.progress(`fetch:${e}`,d,n.size)),I}),i=await Promise.all(h),l=new Blob(i,{type:n.mime});if(l.size!==n.size)throw new Error(`Failed to fetch ${e} with size ${n.size} but got ${l.size}`);return l}var simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),threads=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));async function createOnnxSession(e,t){const r={simd:await simd(),threads:await threads(),numThreads:navigator.hardwareConcurrency??4,webgpu:navigator.gpu!==void 0};t.debug&&(console.debug("Capabilities:",r),Z.debug=!0,Z.logLevel="verbose"),Z.wasm.numThreads=r.numThreads,Z.wasm.simd=r.simd,Z.wasm.proxy=t.proxyToWorker,Z.wasm.wasmPaths={"ort-wasm-simd-threaded.wasm":r.simd&&r.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd-threaded.wasm",t):void 0,"ort-wasm-simd.wasm":r.simd&&!r.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd.wasm",t):void 0,"ort-wasm-threaded.wasm":!r.simd&&r.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-threaded.wasm",t):void 0,"ort-wasm.wasm":!r.simd&&!r.threads?await loadAsUrl("/onnxruntime-web/ort-wasm.wasm",t):void 0},t.debug&&console.debug("ort.env.wasm:",Z.wasm);const o={executionProviders:["wasm"],graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await Sd.create(e,o).catch(n=>{throw new Error(`Failed to create session: ${n}. Please check if the publicPath is set correctly.`)})}async function runOnnxSession(e,t,r){const o={};for(const[s,d]of t)o[s]=new Re("float32",new Float32Array(d.data),d.shape);const a=await e.run(o,{}),n=[];for(const s of r){const d=a[s],h=d.dims,i=d.data,l=ndarray5(i,h);n.push(l)}return n}var package_default={name:"@imgly/background-removal",version:"1.4.4",description:"Background Removal in the Browser",keywords:["background-removal","client-side","data-privacy","image-segmentation","image-matting","onnx"],repository:{type:"git",url:"git+https://github.com/imgly/background-removal-js.git"},license:"SEE LICENSE IN LICENSE.md",author:{name:"IMG.LY GmbH",email:"support@img.ly",url:"https://img.ly"},bugs:{email:"support@img.ly"},source:"./src/index.ts",main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/src/index.d.ts",exports:{".":{require:"./dist/index.cjs",import:"./dist/index.mjs",types:"./dist/src/index.d.ts"}},homepage:"https://img.ly/showcases/cesdk/web/background-removal",files:["LICENSE.md","README.md","CHANGELOG.md","dist/","bin/"],scripts:{start:"npm run watch",clean:"npx rimraf dist",test:"true",resources:"node ../../scripts/package-resources.mjs","changelog:create":"node ../../scripts/changelog/changelog-create.mjs","changelog:generate":"node ../../scripts/changelog/changelog-generate.mjs",build:"npm run clean && npm run types && npm run resources && npm run changelog:generate && node scripts/build.mjs",types:" npx tsc --declaration --emitDeclarationOnly --declarationDir dist --declarationMap",watch:"npm run clean && npm run resources && npm run changelog:generate && node scripts/watch.mjs","publish:latest":"npm run build && npm publish --tag latest --access public","publish:next":"npm run build && npm publish --tag next --access public","package:pack":"npm run build && npm pack . --pack-destination ../../releases",lint:"npx prettier --write ."},dependencies:{"@types/lodash":"~4.14.0","@types/node":"~20.3.0","@types/ndarray":"~1.0.14",lodash:"~4.17.0",ndarray:"~1.0.0","onnxruntime-web":"~1.17.0",zod:"~3.21.0"},devDependencies:{assert:"~2.0.0",esbuild:"~0.18.0",glob:"~10.3.0","npm-dts":"~1.3.0",process:"~0.11.0","ts-loader":"~9.4.0",tslib:"~2.5.0",typescript:"~5.1.0",util:"~0.12.0",webpack:"~5.85.0","webpack-cli":"~5.1.0"}},ConfigSchema=z.object({publicPath:z.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(e=>e.replace("${PACKAGE_NAME}",package_default.name).replace("${PACKAGE_VERSION}",package_default.version)),debug:z.boolean().default(!1).describe("Whether to enable debug logging."),proxyToWorker:z.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:z.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:z.function().args(z.string(),z.number(),z.number()).returns(z.void()).describe("Progress callback.").optional(),model:z.enum(["small","medium"]).default("medium"),output:z.object({format:z.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:z.number().default(.8)}).default({})}).default({});function validateConfig(e){const t=ConfigSchema.parse(e??{});return t.debug&&console.log("Config:",t),t.debug&&!t.progress&&(t.progress=t.progress??((r,o,a)=>{console.debug(`Downloading ${r}: ${o} of ${a}`)}),crossOriginIsolated||console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),t}async function initInference(e){e=validateConfig(e),e.debug&&console.debug("Loading model...");const t=e.model,o=await(await loadAsBlob(`/models/${t}`,e)).arrayBuffer(),a=await createOnnxSession(o,e);return{config:e,session:a}}async function runInference(e,t,r){t.progress&&t.progress("compute:inference",0,1);const o=1024,[a,n,s]=e.shape;let d=tensorResizeBilinear(e,o,o);const h=tensorHWCtoBCHW(d),i=await runOnnxSession(r,[["input",h]],["output"]);let l=ndarray5(i[0].data,[o,o,1]),c=convertFloat32ToUint8(l);return c=tensorResizeBilinear(c,n,a),t.progress&&t.progress("compute:inference",1,1),c}var src_default=removeBackground,init=lodashExports.memoize(initInference,e=>JSON.stringify(e));async function removeBackground(e,t){const{config:r,session:o}=await init(t),a=await imageSourceToImageData(e,r),[n,s,d]=a.shape,h=await runInference(a,r,o),i=n*s,l=a;for(let g=0;g<i;g+=1)l.data[4*g+3]=h.data[g];return await imageEncode(l,r.output.quality,r.output.format)}const _hoisted_1={key:0,class:"w-screen h-screen flex justify-center items-center"},_hoisted_2={class:"w-[839px] h-[261px] bg-[#D9D9D9] flex flex-row rounded-[10px]"},_hoisted_3={class:"basis-2/4 flex justify-center items-center"},_hoisted_4={class:"bg-[#8F8D8D] w-[60%] h-[60%] rounded-[10px]"},_hoisted_5=["src"],_hoisted_6={class:"basis-3/4 flex justify-center items-center"},_hoisted_7={class:"bg-[#8F8D8D] w-[90%] h-[60%] rounded-[10px] mr-[60px] flex"},_hoisted_8={class:"h-full basis-3/4 mt-[20px]"},_hoisted_9={class:"text-lg ml-[50px]"},_hoisted_10={class:"text-lg ml-[50px] mt-[10px]"},_hoisted_11={class:"text-lg ml-[50px] mt-[10px]"},_hoisted_12={class:"h-full basis-2/4 mt-[20px]"},_hoisted_13={class:"text-lg mt-[10px]"},_hoisted_14={class:"text-lg mt-[10px]"},_hoisted_15={class:"text-lg mt-[10px]"},_sfc_main={__name:"App",setup(e){const t=ref(!1),r=ref({}),o=ref(0),a=ref({}),n=ref(null);return onMounted(()=>{window.addEventListener("message",s=>{s.data.action=="open"?(t.value=!0,r.value=s.data.data):s.data.action=="close"?t.value=!1:s.data.action=="update"?(o.value=s.data.counter.online,a.value=s.data.counter.jobs):s.data.action=="profile"&&src_default(s.data.img).then(d=>{n.value=URL.createObjectURL(d)})})}),(s,d)=>t.value?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("img",{class:"w-[100%] h-[100%] rounded-[10px]",src:n.value},null,8,_hoisted_5)])]),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("h3",_hoisted_9,"Name : "+toDisplayString(r.value.name),1),createBaseVNode("h3",_hoisted_10,"Job : "+toDisplayString(r.value.job.grade_label),1),createBaseVNode("h3",_hoisted_11,"Id : "+toDisplayString(r.value.id),1)]),createBaseVNode("div",_hoisted_12,[createBaseVNode("h3",_hoisted_13,"Online : "+toDisplayString(o.value),1),createBaseVNode("h3",_hoisted_14,"Pilice : "+toDisplayString(a.value.police),1),createBaseVNode("h3",_hoisted_15,"Ambulance : "+toDisplayString(a.value.ambulance),1)])])])])])):createCommentVNode("",!0)}};createApp(_sfc_main).mount("#app");
